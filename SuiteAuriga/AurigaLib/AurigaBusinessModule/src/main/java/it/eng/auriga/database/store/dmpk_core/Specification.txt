1        package DMPK_CORE AUTHID CURRENT_USER as
2        
3        
4        	/****************************************************		INFORMAZIONI GENERALI		*******************************************************/
5        	/************** Argomenti delle stored per il controllo della transazione:											*******/
6        	/************** FlgRollBckFullIn -> se 1 in caso di errore viene fatta la rollback completa (non a savepoint), 					*******/
7        	/************** 				altrimenti la rollback delle sole modifiche effettuate nella stored						*******/
8        	/************** 				ATTENZIONE: la rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log			*******/
9        	/************** FlgAutoCommitIn  -> se vale 1, dopo la rollback e qualunque sia l'esito (positivo o no), la stored esegue una commit finale *****/
10        	/************** Tutte le funzioni/procedure che NON hanno gli argomenti in input FlgRollBckFullIn e FlgAutoCommitIn 				*******/
11        	/************** NON ESEGUONO AL LORO INTERNO ALCUNA COMMIT nè ROLLBACK 												*******/
12        
13        	/************** Tutte le funzioni, tranne quelle da utilizzarsi nelle select, restituiscono 1 in caso di successo, altrimenti 0		*******/
14        	/************** Tali funzioni restituiscono, in caso di result 0, un n.ro, un contesto e un messaggio di errore:					*******/
15        	/************** il n.ro è: <0 se errore ORACLE non specificamente gestito 											*******/
16        	/**************		   da 1->1000 errore "grave" (SEVERE_ERROR) gestito											*******/
17        	/**************		   >1000 errore non grave gestito														*******/
18        	/************** il contesto indica il package e/o funzione/procedura in cui si è verificato l'errore							*******/
19        
20        	-----FUNZIONE deprecata: la funzione seguente è mantenuta solo perchè necessaria al check-in con i web service del vecchio Aurigarepository
21        	/******* funzione per aggingere un'operazione da fare o già fatta su un container nell'apposita tabella ******/
22        	function AddContainerOperation(
23        			ContainerTypeIn 		IN		DMT_OPERATIONS_VS_CONTAINER.CONTAINER_TYPE%type,-- (obblig.) Sigla che indica il tipo del contenitore cui è relativa l'operazione (file-system, Hummingbird) 	
24        			ContainerAliasIn 		IN		DMT_OPERATIONS_VS_CONTAINER.CONTAINER_ALIAS%type,
25        																	-- (obblig.) Alias che indica lo specifico contenitore (tra quelli del dato tipo) cui è relativa l'operazione 
26        			FlgTipoTargetIn		IN		VARCHAR2,							-- (obblig.) Indica il tipo di oggetto cui è relativa l'operazione. Valori possibili:
27        																	-- D	= Documento
28        																	-- V  = Versione di documento 
29        																	-- F	= Folder
30        																	-- W	= Workspace
31        			IdTargetIn			IN		INTEGER, 							-- (obblig.) Identificativo del documento/folder/workspace cui è relativa l'operazione
32        			NroProgrVerIn		IN		PLS_INTEGER, 						-- N.ro progressivo che identifica l'eventiuale specifica specifica versione del documento cui è relativa l'operazione
33        																	-- Se FlgTipoTargetIn='V' e il n.ro versione non è valorizzato si intende l'ultima versione
34        			CodOperationTyIn 		IN		DMT_OPERATIONS_VS_CONTAINER.COD_OPERATION_TYPE%type,
35        																	-- (obblig.) Codice che indica il tipo di operazione. Valori possibili:
36        																	-- ADD = Creazione; 
37        																	-- MOD = Modifica metadati; 
38        																	-- DEL = Cancellazione fisica; 
39        																	-- LDEL = Cancellazione logica; 
40        																	-- REC = Ripristino
41        			FlgSuccessIn		IN		DMT_OPERATIONS_VS_CONTAINER.FLG_COMPLETED%type DEFAULT NULL,
42        																	-- (valori 1/0/NULL) Se 1 indica che l'operazione è stata completatata con successo sul container
43        			MessaggioErrIn		IN		DMT_OPERATIONS_VS_CONTAINER.ERR_MSG%type, 	-- Messaggio di errore restituito dal container al tentativo di effettuare l'operazione
44        			NoteIn			IN		DMT_OPERATIONS_VS_CONTAINER.NOTE%type DEFAULT NULL, 
45        																	-- Note sul tentativo di effettuare l'operazione sul container
46        			FlgOperDaNonRiprovareIn	IN		DMT_OPERATIONS_VS_CONTAINER.FLG_NOT_TO_RETRY%type DEFAULT NULL,
47        																	-- (valori 1/0/NULL) Se 1 indica che l'operazione non va riprovata sul container (fallimento fatale)
48        			IdOperationOut		OUT		DMT_OPERATIONS_VS_CONTAINER.ID_OPERATION%type,	-- Id. univoco assegnato all'operazione
49        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
50        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
51        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
52        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
53        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
54        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
55        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
56        
57        
58        	/****** funzione che serve ad ottenere il mimetype "principale" tra quelli associati ad un dato formato elettronico il cui ID in tabella DMT_FORMATI_EL_AMMESSI è indicato come input *****/
59        	function GetFmtMainMimeType(
60        			IdFormatoElIn			IN		DMT_FORMATI_EL_AMMESSI.ID_FORMATO_EL%type)
61        			return VARCHAR2;																	-- restituisce il mimetype se trovato, altrimenti NULL (anche in caso di errore)
62        
63        	/************* funzione per convertire ORDER_BY_VALUE di un folder/fascicolo secondo piano di classificazione nella segnatura da mostare nella GUI *************/
64        	function ConvOrderByValueInSegn_IndOut(
65        			OrderByValueIn			IN		DMT_FOLDER.ORDER_BY_VALUE%type,	-- (obblig.) Campo ORDER_BY_VALUE del folder
66        			IdPianoClassifIn		IN		DMT_PIANI_CLASSIF.ID_PIANO_CLASSIF%type,
67        																			-- (obblig.) Id. del piano cui appartiene la classifica del folder
68        			IdPianoDefLivelliTitTabIn	IN	DMT_PIANI_CLASSIF.ID_PIANO_CLASSIF%type,
69        																			-- Id. del piano di classificazione per cui è già stata ricavata la definizione dei livelli indicata in input nll'argomento successivo
70        			DefLivelliTitTabIO		IN OUT		DMTO_LIV_GERARCHIA,			-- In input definizione dei livelli del piano di classificazione IdPianoDefLivelliTitTabIn
71        																			-- In output definizione dei livelli del piano di classificazione IdPianoClassifIn
72        			SepLivelliIn			IN		VARCHAR2,						-- (obblig.)Separatore dei livelli classifica da usare nell GUI
73        			FlgPaddingLivTitIn 		IN		PLS_INTEGER,					-- (valori 1/0/NULL) Se 1 significa che per il livelli numerici di classifica va fatto il riempimento con 0 fino alla max lunghezza di un n.ro livello (LengthNroLivelloIn)
74        			LengthNroLivelloIn		IN		PLS_INTEGER,					-- (obblig.)Max lunghezza (come n.ro di cifre o caratterri) di ciascun n.ro livello di classifica
75        			IndiceClassifxGUIOut	OUT		VARCHAR2						-- Indice della classifica (nella forma con cui mostrarla a GUI)
76        			) return VARCHAR2;												-- Segnatura del folder come deve essere renderizzata nella GUI
77        
78        	/************* funzione per convertire ORDER_BY_VALUE di un folder/fascicolo secondo piano di classificazione nella segnatura da mostare nella GUI *************/
79        	/************* come la funzione precedente solo che non restituisce in output l'indice della classifica da mostare nelle GUI					   *************/
80        	function ConvOrderByValueInSegnatura(
81        			OrderByValueIn			IN		DMT_FOLDER.ORDER_BY_VALUE%type,	-- (obblig.) Campo ORDER_BY_VALUE del folder
82        			IdPianoClassifIn		IN		DMT_PIANI_CLASSIF.ID_PIANO_CLASSIF%type,
83        																			-- (obblig.) Id. del piano cui appartiene la classifica del folder
84        			IdPianoDefLivelliTitTabIn	IN	DMT_PIANI_CLASSIF.ID_PIANO_CLASSIF%type,
85        																			-- Id. del piano di classificazione per cui è già stata ricavata la definizione dei livelli indicata in input nll'argomento successivo
86        			DefLivelliTitTabIO		IN OUT		DMTO_LIV_GERARCHIA,			-- In input definizione dei livelli del piano di classificazione IdPianoDefLivelliTitTabIn
87        																			-- In output definizione dei livelli del piano di classificazione IdPianoClassifIn
88        			SepLivelliIn			IN		VARCHAR2,						-- (obblig.)Separatore dei livelli classifica da usare nell GUI
89        			FlgPaddingLivTitIn 		IN		PLS_INTEGER,					-- (valori 1/0/NULL) Se 1 significa che per il livelli numerici di classifica va fatto il riempimento con 0 fino alla max lunghezza di un n.ro livello (LengthNroLivelloIn)
90        			LengthNroLivelloIn		IN		PLS_INTEGER						-- (obblig.)Max lunghezza (come n.ro di cifre o caratterri) di ciascun n.ro livello di classifica
91        			) return VARCHAR2;												-- Segnatura del folder come deve essere renderizzata nella GUI
92        
93        	/************* funzione per ottenere la segnatura di un folder secondo piano di classificazione a partire dai suoi ORDER_BY_VALUE e ID_CLASSIFICAZIONE  **********/
94        	/************  da NON utilizzarsi all'interno di una ciclo che carica n folder (in questo caso usare la ConvOrderByValueInSegnatura)					**********/
95        	function GetSegnaturaFolder(
96        			IdSPAOOIn				IN		DMT_FOLDER.ID_SP_AOO%type,		-- (obblig.) Id. del soggetto produttore o AOO cui è relativo il folder
97        			OrderByValueIn			IN		DMT_FOLDER.ORDER_BY_VALUE%type,	-- (obblig.) Campo ORDER_BY_VALUE del folder
98        			IdClassificazioneIn		IN		DMT_FOLDER.ID_CLASSIFICAZIONE%type
99        																			-- (obblig.) Id. della classifica del folder
100        			) return VARCHAR2;											-- Segnatura del folder come deve essere renderizzata nella GUI
101        
102        	/************* overload della funzione precedente: serve per ottenere la segnatura di un folder secondo piano di classificazione a partire dal suo ID_FOLDER  			**********/
103        	/************  da NON utilizzarsi all'interno di una ciclo che carica n folder (in questo caso usare la ConvOrderByValueInSegnatura)									**********/
104        	function GetSegnaturaFolder(
105        			IdFolderIn				IN		DMT_FOLDER.ID_FOLDER%type		-- (obblig.) Id. del folder
106        			) return VARCHAR2;												-- Segnatura del folder come deve essere renderizzata nella GUI
107        
108        	/**** Funzione per verificare se su un oggetto della repository è presente un lock 								****/
109        	/**** Si tiene conto anche dei lock presenti sugli oggetti cui appartiene quello per cui verificare					****/
110        	/**** La verifica si interrompe al primo lock riscontrato, partendo dall'oggetto indicato e risalendo su quelli superiori	****/
111        	function VerifyForLock(
112        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type,					-- (obblig.) Identificativo dell''utente di lavoro
113        			ObjTypeToVerifyIn		IN		VARCHAR2,							-- (obblig.) Tipo di oggetto della repository per cui fare la verifica. Valori possibili:
114        																	-- D = Documento
115        																	-- U = Unità documentaria 
116        																	-- F = Folder
117        																	-- W = Workspace
118        			IdObjToVerifyIn		IN		INTEGER,							-- (obblig.) Id. dell'oggetto della repository per cui fare la verifica (ID_DOC o ID_UD o ID_FOLDER o ID_WORKSPACE) 
119        			IdUserLockOut		OUT		DMT_USERS.ID_USER%type,					-- Id. dell'utente che ha messo il lock sull'oggetto o su un oggetto che lo contiene
120        			TsLockOut			OUT		DATE,								-- Data e ora in cui è stato messo il lock estraneo
121        			ObjTypeLockOnOut		OUT		VARCHAR2,							-- Tipo di oggetto su cui è stato messo il lock:
122        																	-- D = Documento
123        																	-- U = Unità documentaria 
124        																	-- F = Folder
125        																	-- W = Workflow															
126        			IdObjLockOut		OUT		INTEGER,							-- Id dell'oggetto su cui è stato messo il lock (ID_DOC o ID_UD o ID_FOLDER o ID_WORKSPACE) 
127        			NomeObjLockOut		OUT		VARCHAR2,							-- Nome dell'oggetto su cui è stato messo il lock se trattasi di folder o workspace di appartenenza dell'oggetto da verificare (e solo se visibile all'utente di lavoro)
128        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
129        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
130        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
131        			) return PLS_INTEGER;											-- 1 = Tutto OK; 0 = Errore
132        
133        	----overload della precedente con in input anche il token di connessione e con output un po' diversi
134        	function VerifyForLock(
135        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
136        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type,					-- (obblig.) Identificativo dell''utente di lavoro
137        			ObjTypeToVerifyIn		IN		VARCHAR2,							-- (obblig.) Tipo di oggetto della repository per cui fare la verifica. Valori possibili:
138        																	-- D = Documento
139        																	-- U = Unità documentaria 
140        																	-- F = Folder
141        																	-- W = Workspace
142        			IdObjToVerifyIn		IN		INTEGER,							-- (obblig.) Id. dell'oggetto della repository per cui fare la verifica (ID_DOC o ID_UD o ID_FOLDER o ID_WORKSPACE) 
143        			IdUserLockOut		OUT		DMT_USERS.ID_USER%type,					-- Id. dell'utente che ha messo il lock sull'oggetto o su un oggetto che lo contiene
144        			DesUserLockOut		OUT		VARCHAR2,							-- Nome dell'utente che ha messo il lock sull'oggetto o su un oggetto che lo contiene
145        			TsLockOut			OUT		VARCHAR2,							-- Data e ora in cui è stato messo il lock estraneo (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
146        			ObjTypeLockOnOut		OUT		VARCHAR2,							-- Tipo di oggetto su cui è stato messo il lock:
147        																	-- D = Documento
148        																	-- U = Unità documentaria 
149        																	-- F = Folder
150        																	-- W = Workflow															
151        			IdObjLockOut		OUT		INTEGER,							-- Id dell'oggetto su cui è stato messo il lock (ID_DOC o ID_UD o ID_FOLDER o ID_WORKSPACE) 
152        			NomeObjLockOut		OUT		VARCHAR2,							-- Nome dell'oggetto su cui è stato messo il lock se trattasi di folder o workspace di appartenenza dell'oggetto da verificare (e solo se visibile all'utente di lavoro)
153        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
154        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
155        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
156        			) return PLS_INTEGER;											-- 1 = Tutto OK; 0 = Errore
157        
158        	/********* funzione per aggiornare in automatico l'ACL di un'unità documentaria a seguito di un invio/notifica dell'unità documentaria stessa **********/
159        	function AggAutomaticoACLUD_PostIN(
160        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
161        																	-- (obblig). Codice identificativo del token di connessione
162        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora (se NULL è l'utente connesso)
163        			IdUDIn				IN		DMT_UNITA_DOC.ID_UD%type,			-- (obblig.) Id. dell'unità documentaria
164        			FlgInvioNotificaIn		IN		VARCHAR2,						-- (obblig.) Indica se l'aggiornamento dell'ACL deve avvenire a seguito di: 
165        																	--			I	= 	Invio
166        																	--			N	= 	Notifica
167        			TsInvioNotificaIn			IN		VARCHAR2 DEFAULT NULL,				-- Data e ora dell'invio/notifica a seguito del quale aggiornare l'ACL (nel formato DD/MM/RRRR HH24:MI:SS)
168        																	-- Se NULL viene presa la data e ora dell'ultimo invio/notifica
169        			FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
170        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
171        			FlgAutoCommitIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
172        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
173        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
174        			ErrMsgOut				OUT 		VARCHAR2						-- Messaggio d'errore
175        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0 (in caso di errore o warning)
176        
177        	/********* funzione per aggiornare in automatico l'ACL di folder a seguito di un invio/notifica del folder stesso **********/
178        	function AggAutomaticoACLFld_PostIN(
179        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
180        																	-- (obblig). Codice identificativo del token di connessione
181        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora (se NULL è l'utente connesso)
182        			IdFolderIn				IN		DMT_UNITA_DOC.ID_UD%type,			-- (obblig.) Id. del folder
183        			FlgInvioNotificaIn		IN		VARCHAR2,						-- (obblig.) Indica se l'aggiornamento dell'ACL deve avvenire a seguito di: 
184        																	--			I	= 	Invio
185        																	--			N	= 	Notifica
186        			TsInvioNotificaIn			IN		VARCHAR2 DEFAULT NULL,				-- Data e ora dell'invio/notifica a seguito del quale aggiornare l'ACL (nel formato DD/MM/RRRR HH24:MI:SS)
187        																	-- Se NULL viene presa la data e ora dell'ultimo invio/notifica
188        			FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
189        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
190        			FlgAutoCommitIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
191        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
192        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
193        			ErrMsgOut				OUT 		VARCHAR2						-- Messaggio d'errore
194        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0 (in caso di errore o warning)
195        
196        	/***** Funzione per ottenere l'id. di una libreria a partire dal suo nome e/o id. ******/
197        	function FindLibrary(
198        			IdSpAOOIn			IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type,		-- (obblig.) Identificativo del sogg. produttore/AOO cui appartiene la libreria da ricercare
199        			NomeLibraryIn		IN		DMT_FOLDER.NOME_FOLDER%type, 				-- Nome della libreria da ricercare. 
200        																	-- La ricerca sul nome della libreria è esatta, a meno che il nome non contenga caratteri jolly, e case insensitive
201        			IdLibraryIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL		-- Id. della libreria da ricercare
202        			) return INTEGER;												-- restituisce l'ID_FOLDER della libreria trovata
203        																	-- è NULL in caso di errore o libreria inesistente/non individuabile univocamente
204        
205        	-----overload della precedente
206        	function FindLibrary(
207        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
208        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora (se NULL è l'utente connesso)
209        			NomeLibraryIn		IN		DMT_FOLDER.NOME_FOLDER%type, 				-- Nome della libreria da ricercare. 
210        																	-- La ricerca sul nome della libreria è esatta, a meno che il nome non contenga caratteri jolly, e case insensitive
211        			IdLibraryIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL,		-- Id. della libreria da ricercare
212        			AccessTypeIn		IN		VARCHAR2 DEFAULT 'V',					-- (obblig.) Indica il tipo di accesso che deve avere l'utente sulla libreria
213        																	-- Valori possibili:
214        																	--	V	=	Sola visualizzazione
215        																	--	AF	=	Per aggiunta di folder
216        																	--	AD	=	Per aggiunta di unità documentarie
217        			IdLibraryOut		OUT		INTEGER,							-- ID_FOLDER della libreria trovata
218        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore; se NULL è la funzione stessa
219        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
220        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
221        			) return PLS_INTEGER;											-- restituisce 1 in caso di libreria individuata univocamente e accedibile con il tipo di accesso richiesto, 
222        																	-- 0 in caso di errore o libreria inesistente/non individuabile univocamente/non accedibile con il tipo di accesso richiesto
223        
224        	/***** Funzione per ottenere l'id. della libreria di defualt per un certo utente che lavora in un certo dominio (ed eventualmente per una certa applicazione)	******/
225        	/***** Restituisce l'id. della libreria di default se riesce a individuarla univocamente, altrimenti restituisce NULL								******/
226        	/***** Non esegue nè commit nè rollback 																					******/
227        	function GetDefaultLibrary(
228        			IdUserLoggedIn		IN		DMT_USERS.ID_USER%type,					-- (obblig.) Id. dell'utente connesso
229        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora (se NULL è l'utente connesso)
230        			FlgTpDominioAutIn		IN		PLS_INTEGER,						-- (obblig.) Indica il tipo del dominio in cui si sta lavorando: 1 = Schema; 2 = Sogg. produttore; 3 = AOO
231        			IdDominioAutIn		IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type,		-- Identificativo del sogg. produttore o AOO in cui si sta lavorando
232        			CodApplEsternaIn		IN		DMT_CONNECTION_TOKEN.COD_APPLICAZIONE%type,	-- Codice dell'applicazione esterna da cui si sta lavorando
233        			CodIstanzaApplEstIn	IN		DMT_CONNECTION_TOKEN.COD_ID_ISTANZA_APPL%type,  -- Codice dell'istanza dell'applicazione esterna da cui si sta lavorando
234        			AccessTypeIn		IN		VARCHAR2 DEFAULT 'V')					-- (obblig.) Indica il tipo di accesso che deve avere l'utente sulla libreria
235        																	-- Valori possibili:
236        																	--	V	=	Sola visualizzazione
237        																	--	AF	=	Per aggiunta di folder
238        																	--	AD	=	Per aggiunta di unità documentarie
239        			return DMT_FOLDER.ID_FOLDER%type;
240        
241        	-----overload della precedente
242        	function GetDefaultLibrary(
243        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
244        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora (se NULL è l'utente connesso)
245        			AccessTypeIn		IN		VARCHAR2 DEFAULT 'V',					-- Indica il tipo di accesso che deve avere l'utente sulla libreria
246        																	-- Valori possibili:
247        																	--	V o NULL	=	Sola visualizzazione
248        																	--	AF		=	Per aggiunta di folder
249        																	--	AD		=	Per aggiunta di unità documentarie
250        			IdLibraryOut		OUT		INTEGER,							-- Id. della libreria di default se trovata
251        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore; se NULL è la funzione stessa
252        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
253        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
254        			) return PLS_INTEGER;											-- restituisce 1 in libreria di default individuata e accedibile con il tipo di accesso richiesto, altrimenti 0
255        
256        
257        	/******* serve a trovare l'id. di un'unità documentaria su cui l'utenza di lavoro ha un dato tipo di accesso (almeno visualizzazione se nulla è specificato) 		******/
258        	/******  a partire da Id. e/o estremi di una registrazione/numerazione dell'unità documentaria stessa												******/
259        	/******* restituisce l'Id. dell'unità documentaria solo se a partire dagli estremi immessi riesce a identificarla univocamente 							******/
260        	/******* ATTENZIONE: gli estremi di registrazione/numerazione, se specifcati, devono essere completi												******/	
261        	function FindUD(
262        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
263        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type,					-- (obblig.) Identificativo dell''utente di lavoro
264        			IdUDIO			IN OUT	INTEGER,							-- Identificativo unità documentaria
265        			CodCategoriaRegIn		IN		VARCHAR2 DEFAULT NULL,					-- Codice della categoria di registrazione/numerazione dell'unità documentaria
266        			SiglaRegIn			IN		VARCHAR2 DEFAULT NULL,					-- Sigla di registrazione/numerazione dell'unità documentaria
267        			AnnoRegIn			IN		PLS_INTEGER DEFAULT NULL,				-- Anno di registrazione/numerazione dell'unità documentaria
268        			NumRegIn			IN		PLS_INTEGER DEFAULT NULL,				-- N.ro di registrazione/numerazione dell'unità documentaria
269        			AccessTypeIn		IN		VARCHAR2 DEFAULT 'V',					-- Indica il tipo di accesso che deve avere l'utente sull'unità documentaria
270        																	-- Valori possibili:
271        																	--	V o NULL	=	Visualizzazione metadati
272        																	--	M		=	Modifica (metadati o permessi o file)
273        																	--	C		=	Cancellazione
274        			IdDocPrimarioOut		OUT		DMT_DOCUMENTS.ID_DOC%type,				-- Id. del documento primario dell'UD 
275        			NroLastVerPrimarioOut	OUT		PLS_INTEGER,						-- N.ro dell'eventuale ultima versione elettronica del doc. primario visibile all'utente
276        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore; se NULL è la funzione stessa
277        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
278        			ErrMsgOut			OUT 		VARCHAR2,							-- Messaggio d'errore
279        			IdDocTypeIn			In			DMT_DOC_TYPES.ID_DOC_TYPE%type DEFAULT NULL			-- Id. della tipologia del documento primario
280        			) return PLS_INTEGER;											-- restituisce 1 in caso di unità documentaria individuata e accedibile con il tipo di accesso richiesto, altrimenti 0
281        
282        	/****** serve a controllare se una certa unità documentaria ha già una registrazione/numerazione di un certo tipo, al fine di stabilire se una registrazione di quel tipo le può essere ancora assegnata o meno *******/ 
283        	function CtrlPresenzaRegNumSuUD(
284        			IdUDIn			IN		INTEGER,							-- (obblig.) Id. dell'unità documentaria su cui fare il controllo
285        			CodCategoriaRegIn		IN		VARCHAR2,							-- (obblig.) Codice della categoria di registrazione/numerazione per cui fare il controllo
286        			SiglaRegIO			IN OUT	VARCHAR2,							-- Sigla di registrazione/numerazione per cui fare il controllo
287        			DesRegIn			IN		DMT_TIPI_REGISTRAZIONE.DESCRIZIONE%type DEFAULT NULL,
288        																	-- Descrizione della registrazione/numerazione per cui fare il controllo (ricerca case insensitive in like senza forzare % finale)
289        			FlgRegNumAssegnabileOut	OUT		PLS_INTEGER,						-- (valori 1/0) Se 1 la registrazione/numerazione può essere ancora assegnata all'unità documentaria, se 0 no
290        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore; se NULL è la funzione stessa
291        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
292        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
293        			) return PLS_INTEGER;											-- restituisce 1 in caso il controllo non dia errori, altrimenti 0
294        
295        	/***** Funzione per ottenere l'id. di un nodo (vale a dire unità documentaria o folder) dell'archivio documentale a partire da: libreria di appartenenza, percorso completo (con o senza la libreria) e nome ******/
296        	function FindNodoArchivio(
297        			IdSpAOOIn			IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type DEFAULT NULL,	
298        																	-- (obblig. se IdLibraryIn non è valorizzato) Identificativo del sogg. produttore/AOO cui appartiene la libreria in cui ricercare
299        			IdLibraryIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL,		-- (obblig. se NomeLibraryIn non è valorizzato e se il percorso non contiene la libreria) Id. della libreria in cui ricercare
300        			NomeLibraryIn		IN		DMT_FOLDER.NOME_FOLDER%type DEFAULT NULL,	 	-- (obblig. se IdLibraryIn non è valorizzato e se il percorso non contiene la libreria) Nome della libreria in cui ricercare. 
301        																	-- La ricerca sul nome della libreria è esatta, a meno che il nome non contenga caratteri jolly, e case insensitive 
302        			PathIn			IN		VARCHAR2,							-- (obblig.) Percorso + nome del nodo (con / o \ come separatore dei livelli; con o senza nome della libreria come prefisso)
303        																	-- La ricerca su questo argomento è esatta, a meno che non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive
304        			FlgTipoNodoIn		IN		VARCHAR2 DEFAULT NULL,					-- (valori: F/U/NULL) Se valorizzato permette di restringere la ricerca ai soli nodi di tipo folder (F) o unità documentaria (U)
305        			FlgIgnoreDelLogIn		IN		PLS_INTEGER DEFAULT NULL				-- (valori 1/0) Se 1 vengono considerate anche gli oggetti della repository logicamente annullati										
306        			) return INTEGER;												-- restituisce l'ID_FOLDER o ID_UD del nodo trovato
307        																	-- è NULL in caso di errore o nodo inesistente/non individuabile univocamente
308        	/**** Funzione per testare se un folder o unità documentaria appartiene ad un dato folder (anche non direttamente)						*****/
309        	function TestAppartenenzaAFolder (
310        			IdFolderOuterIn		IN		DMT_FOLDER.ID_FOLDER%type,			-- (obblig.) Identificativo del folder in cui deve ricadere l'altro folder o UD
311        			FlgTpObjInnerIn		IN		VARCHAR2,						-- (obblig.) Indica il tipo di oggetto che si vuole testare se ricade nel folder IdFolderOuterIn
312        																-- Valori ammessi: 
313        																--	F	=	Folder 
314        																-- 	U	=	Unità documentaria 
315        			IdObjInnerIn		IN		INTEGER,						-- (obblig.)  Identificativo (ID_UD o ID_FOLDER) dell'oggetto che si vuole testare se ricade nel folder IdFolderOuterIn
316        			FlgAppDirettaIn		IN		PLS_INTEGER DEFAULT NULL			-- (valori 1/0/NULL) Se 1 la relazione di appartenenza che si vuole testare se esiste è una relazione DIRETTA
317        																-- se diverso da 1 il test dà esito positivo anche se il folder/UD appartiene ad un folder ricompreso in IdFolderOuterIn
318        			)return PLS_INTEGER;										-- Valori possibili: 
319        																--	1	=	test positivo 
320        																--	0	=	test negativo 
321        
322        	----funzione per trovare tutti i sub-folder contenuti anche indirettamente in un dato folder
323            	function TrovaSubFolder(
324                    IdFolderIn     IN        DMT_FOLDER.ID_FOLDER%type            -- (obblig.) Identificativo del folder di cui trovare i subfolder
325                    ) return DMTO_ID;
326        															--	interi negativi = errore (il result è il codice d'errore)
327        
328        	----funzione per trovare tutti i folder, eccettuate la libreria, in cui è contenuto, anche indirettamente, un dato folder
329        	function TrovaSupFolder(
330        			IdFolderIn 	IN		INTEGER			-- (obblig.) Identificativo del folder di cui trovare i folder superiori
331        			) return DMTO_ID;					-- lista con gli ID dei folder di appartenenza
332        
333        	/****** Funzione per trovare quale parte di un path esiste in una data libreria, vale a dire corrisponde ad un suo folder esistente 	*********/
334        	/****** Come output restituisce l'id. del folder che corrisponde a tutto il path o eventualmente solo a una sua parte iniziale		*********/
335        	/****** Se non esiste un folder corrispondente all'intero path restituisce anche la parte del path non trovata					*********/
336        	function CheckPath(
337        			IdSpAOOIn			IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type DEFAULT NULL,	
338        																	-- (obblig. se IdLibraryIn non è valorizzato) Identificativo del sogg. produttore/AOO cui appartiene la libreria in cui ricercare
339        			IdLibraryIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL,		-- (obblig. se NomeLibraryIn non è valorizzato) Id. della libreria in cui ricercare
340        			NomeLibraryIn		IN		DMT_FOLDER.NOME_FOLDER%type DEFAULT NULL, 	-- (obblig. se IdLibraryIn non è valorizzato) Nome della libreria in cui ricercare. 
341        																	-- La ricerca sul nome della libreria è esatta, a meno che il nome non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive 
342        			PathIn			IN		VARCHAR2,							-- (obblig.) Percorso da verificare (con / o \ come separatore dei livelli; senza nome della libreria come prefisso)
343        																	-- La ricerca su questo argomento è esatta, a meno che non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive
344        			IdNodoOut			OUT		DMT_FOLDER.ID_FOLDER%type,				-- Id. del folder che corrisponde a tutto il path o solo alla sua parte iniziale che è stata trovata già esistente nella libreria
345        			PathNonEsistenteOut	OUT		VARCHAR2,							-- Parte del percorso che non risulta esistere nella libreria (è un percorso relativo a partire dal nodo identificato da IdNodoOut se IdNodoOut è valorizzato, altrimenti è l'intero percorso PathIn)
346        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore; se NULL è la funzione stessa
347        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
348        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
349        			) return PLS_INTEGER;											-- restituisce 1 in caso il check sia andato a buon fine, 0 in caso di errore
350        
351        	/****** Funzione per trovare quale parte di un path esiste in una data libreria, vale a dire corrisponde ad un suo folder esistente 	*********/
352        	/****** Come output restituisce l'id. del folder che corrisponde a tutto il path o eventualmente solo a una sua parte iniziale		*********/
353        	/****** Se non esiste un folder corrispondente all'intero path restituisce anche la parte del path non trovata					*********/
354        	function CheckPathXAddRicorsiva(
355        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
356        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type,					-- (obblig.) Identificativo dell''utente di lavoro
357        			IdLibraryIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL,		-- Id. della libreria in cui ricercare.
358        			NomeLibraryIn		IN		DMT_FOLDER.NOME_FOLDER%type DEFAULT NULL, 	-- Nome della libreria in cui ricercare. 
359        																	-- La ricerca sul nome della libreria è esatta, a meno che il nome non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive 
360        																	-- ATTENZIONE: Se nè id. nè nome della libreria sono specificati si intende la libreria di default (per l'utente connesso o l'applicazione da cui lavora o per il sistema).
361        			PathIn			IN		VARCHAR2,							-- (obblig.) Percorso da verificare (con / o \ come separatore dei livelli; senza nome della libreria come prefisso)
362        																	-- La ricerca su questo argomento è esatta, a meno che non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive
363        			IdNodoOut			OUT		DMT_FOLDER.ID_FOLDER%type,				-- Id. del folder che corrisponde a tutto il path o solo alla sua parte iniziale che è stata trovata già esistente nella libreria
364        			NodiPathDaCreareOut	OUT		CLOB,								-- Lista XML (secondo schema LISTA_STD.xsd) con i nodi del percorso che non risultano esistere nella libreria
365        																	-- Ogni nodo è un tag "Riga" con le seguenti colonne:
366        																	-- 1: Nome del folder
367        																	-- 2: Path e nome del folder (a partire dalla libreria esclusa) 
368        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore; se NULL è la funzione stessa
369        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
370        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
371        			) return PLS_INTEGER;											-- restituisce 1 in caso il check sia andato a buon fine, 0 in caso di errore
372        
373        
374        	/****** Funzione per ottenere il path di un documento o un'unità documentaria o un folder (in quest'ultimo caso il path include il nome del folder stesso)		*****/
375        	/****** Poichè questi oggetti possono avere più folderizzazioni il path mostrato è quello relativo alla prima delle folderizzazioni visibili all'utente di lavoro	*****/
376        	/****** In caso non vi siano folderizzazioni visibili all'utente viene mostrata la prima non visibile (non visibile in parte o in toto)					*****/	
377        	function GetPath(
378        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type,					-- (obblig.) Identificativo dell''utente di lavoro
379        			ObjTypeToVerifyIn		IN		VARCHAR2,							-- (obblig.) Tipo di oggetto della repository per cui trovare il path. Valori possibili:
380        																	-- D = Documento
381        																	-- U = Unità documentaria 
382        																	-- F = Folder
383        			IdObjToVerifyIn		IN		INTEGER,							-- (obblig.) Id. dell'oggetto della repository per cui trovare il path (ID_DOC o ID_UD o ID_FOLDER)
384        			ViaIdFolderIn		IN		INTEGER DEFAULT NULL					-- Id. dell'eventuale folder per cui deve passare il percorso
385        			) return VARCHAR2;											-- Path dell'oggetto (con nome libreria e inclusivo del nome del folder da cui si parte se ObjTypeToVerifyIn='F')
386        																	-- Può essere NULL in caso di errori/oggetto della repository inesistente o con nessuna folderizzazione 
387        
388        	/****** Funzione per ottenere il path di un documento o un'unità documentaria o un folder (in quest'ultimo caso il path include il nome del folder stesso)		*****/
389        	/****** E' un overload della funzione precedente più "leggera" di quest'ultima in quanto alcuni dati che lì erano calcolati qui sono recepiti in input		*****/
390        	function GetPath_L(
391        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type,				-- (obblig.) Identificativo dell''utente di lavoro
392        			FlgTpDominioAutIn			IN		INTEGER,						-- (obblig. valori 2/3) Indica se il dominio di lavoro è un soggetto produttore (2) o un'AOO (=3)
393        			IdDominioAutIn			IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type,	-- (obblig.) Identificativo del sogg. produttore o AOO in cui si sta lavorando
394        			FlgVisibIndipACLIn		IN		VARCHAR2,						-- (valori D/F/W o loro concatenazione) Indica se e su quali oggetti della repository l'utente di lavoro ha visibilità indipendentemente dalla loro ACL
395        			FlgVisibIndipUserAbilIn		IN		VARCHAR2,						-- (valori D/F/W o loro concatenazione) Indica se e su quali oggetti della repository l'utente di lavoro ha visibilità indipendentemente dall'essere abilitato al loro tipo, riservatezza ecc. 
396        			MaxLivRiservUserIn		IN		INTEGER,						-- Massimo livello di riservatezza di folder e documenti cui può accedere l'utente nel dominio di lavoro
397        			IdFolderTypeAbilTabIn		IN		DMTO_ID,						-- Lista con gli id. dei tipi folder cui è abilitato l'utente
398        			IdClassifAbilTabIn		IN		DMTO_ID,						-- Lista con gli id. delle classificazioni cui è abilitato l'utente
399        			Par_CTRL_FOLDER_TYPE_X_VISIn	IN	DMT_CONFIG_PARAM.PAR_VALUE%type,
400        			Par_CTRL_CLASSIF_X_VISIn		IN 	DMT_CONFIG_PARAM.PAR_VALUE%type,
401        			ObjTypeToVerifyIn			IN		VARCHAR2,						-- (obblig.) Tipo di oggetto della repository per cui trovare il path. Valori possibili:
402        																	-- D = Documento
403        																	-- U = Unità documentaria 
404        																	-- F = Folder
405        			IdObjToVerifyIn			IN		INTEGER,						-- (obblig.) Id. dell'oggetto della repository per cui trovare il path (ID_DOC o ID_UD o ID_FOLDER)
406        			ViaIdFolderIn			IN		INTEGER DEFAULT NULL				-- Id. dell'eventuale folder per cui deve passare il percorso
407        			) return VARCHAR2;											-- Path dell'oggetto (con nome libreria e inclusivo del nome del folder da cui si parte se ObjTypeToVerifyIn='F')
408        																	-- Può essere NULL in caso di errori/oggetto della repository inesistente o con nessuna folderizzazione 
409        
410        	/***** Funzione per ottenere l'id. di una workspace a partire dal suo nome e/o id. ******/
411        	function FindWorkspace(
412        			IdSpAOOIn			IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type,		-- (obblig.) Identificativo del sogg. produttore/AOO cui appartiene il workspace da ricercare
413        			NomeWorkspaceIn		IN		DMT_WORKSPACES.NOME_WORKSPACE%type, 		-- Nome del workspace da ricercare. 
414        																	-- La ricerca sul nome del workspace è esatta, a meno che il nome non contenga caratteri jolly, e case insensitive
415        			IdWorkspaceIn		IN		DMT_WORKSPACES.ID_WORKSPACE%type DEFAULT NULL	-- Id. della workspace da ricercare
416        			) return INTEGER;												-- restituisce l'ID_WORKSPACE del workspace trovato
417        																	-- è NULL in caso di errore o workspace inesistente/non individuabile univocamente
418        
419        	/***** Funzione per trovare l'id. del tipo di folder generale (quello non ricompreso a sua volta in altro tipo) in cui ricade un dato tipo di folder ******/
420        	function GetIdFolderTypeGen(
421        			IdFolderTypeIn		IN		DMT_FOLDER_TYPES.ID_FOLDER_TYPE%type		-- Id. del tipo di folder per cui trovare il tipo generale (quello da settare in DMT_FOLDER.ID_FOLDER_TYPE_GEN)
422        			) return DMT_FOLDER_TYPES.ID_FOLDER_TYPE%type;							-- Identificativo del tipo di folder generale (cioè un tipo senza tipo + generale) in cui ricade IdFolderTypeIn
423        
424        	/***** Table function che restituisce gli id. dei tipi di folder in cui ricade un dato tipo di folder 	*****/
425        	/***** In caso di errore l'errore non viene gestito ed è restituito al chiamante					*****/ 
426        	function GetIdFolderTypesSup(
427        			IdFolderTypeIn		IN		DMT_FOLDER_TYPES.ID_FOLDER_TYPE%type			-- Id. del tipo di folder di cui trovare i tipi di folder in cui ricade 
428        			) return DMTO_ID;													-- Lista con gli id. dei tipi di folder in cui ricade
429        
430        	/***** Table function che restituisce gli id. dei tipi di documenti in cui ricade un dato tipo di documento 	*****/
431        	/***** In caso di errore l'errore non viene gestito ed è restituito al chiamante						*****/ 
432        	function GetIdDocTypesSup(
433        			IdDocTypeIn			IN		DMT_DOC_TYPES.ID_DOC_TYPE%type				-- Id. del tipo di documento di cui trovare i tipi di doc. in cui ricade 
434        			) return DMTO_ID;													-- Lista con gli id. dei tipi di documenti in cui ricade
435        
436        	/********** Funzione per testare se nel dominio di autenticazione la gestione dell'archivio documentale è consentita **********/
437        	function TestGestArchivioInDominioAut(
438        			IdDominioAutIn		IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type)		-- Identificativo del dominio di autenticazione, vale a dire l'id. del soggetto produttore o AOO 
439        			return PLS_INTEGER;											-- restituisce 1 se il test è positivo, altrimenti 0
440        
441        	/***************** Funzione per ottenere il n.ro progressivo dell'ultima versione (VALIDA o meno) di un documento *********/
442        	function GetNroLastVerDoc(
443        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				--(obblig.) Identificativo del documento di cui trovare l'ultima versione
444        			FlgIgnoreDelLogIn		IN		PLS_INTEGER DEFAULT NULL				-- (valori 1/0) Se 1 vengono considerate anche le versioni annullamente logicamente										
445        			) return PLS_INTEGER;											-- è il n.ro dell'ultima versione valida; è NULL in caso di documento in input inesistente o non specificato o senza versioni elettroniche
446        
447        	/***************** Funzione per ottenere il codice dell'ultima versione VALIDA di un documento *********/
448        	function GetCodLastVerDoc(
449        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type				--(obblig.) Identificativo del documento di cui trovare l'ultima versione
450        			) return VARCHAR2;											-- è il codice dell'ultima versione valida; è NULL in caso di documento in input inesistente o non specificato o senza versioni elettroniche
451        
452        	/***************** Funzione per ottenere il n.ro progressivo dell'ultima versione di un documento visibile ad un dato utente di lavoro*********/
453        	function GetNroLastVisibleVerDoc(
454        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		--(obblig.) Id. dell'utente a nome di cui si lavora (quello connesso se si lavora a proprio nome)
455        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				--(obblig.) Identificativo del documento di cui trovare l'ultima versione valida visibile all'utente di lavoro
456        			FlgIgnoreDelLogIn		IN		PLS_INTEGER DEFAULT NULL				-- (valori 1/0/NULL) Se 1 vengono considerate anche le versioni logicamente annullate										
457        			) return PLS_INTEGER;											-- è il n.ro dell'ultima versione valida visibile all'utente di lavoro; è NULL in caso di documento in input inesistente o non specificato o senza versioni elettroniche visibili all'utente e valide
458        
459        	/**************** Funzione per ottenere i dati di una versione elettronica di un documento visibile ad un dato utente di lavoro (anche se annullata)			*************/
460        	/**************** Se il n.ro di versione non viene specificato si intende che si debba estrarre l'ultima versione valida visibile all'utente di lavoro		*************/
461        	function GetVerDoc(
462        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
463        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
464        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				--(obblig.) Identificativo del documento di cui estrarre i dati di una versione
465        			NroProgrVerIO		IN OUT	INTEGER,							-- N.ro progressivo che identifica la versione di cui estrarre i dati
466        																	-- Se non valorizzato si intende l'ultima versione valida visibile all'utente di lavoro
467        																	-- In output dà il n.ro progressivo della versione di cui si sono estratti i dati 
468        			AttributiVerXMLOut	OUT		NOCOPY CLOB,						-- XML contenente nomi e valori degli attributi della versione elettronica (conforme allo schema SezioneCache.xsd)
469        																	-- Questi attributi sono:
470        																	--	#DisplayFilename_Ver 		Nome con cui mostrare/in cui estrarre il file corrispondente alla versione elettronica del documento
471        																	--	#URI_Ver					Riferimento univoco per reperire nella repository il file corrispondente alla versione del documento
472        																	--	#Impronta_Ver			Impronta del file
473        																	--	#Algoritmo_Impronta_Ver	Algoritmo con cui è stata calcolata l'impronta (SHA-1, SHA-256, MD5 ecc)
474        																	--	#Encoding_Impronta_Ver	Encoding con cui è stata calcolata l'impronta: hex = esadecimale, base64 = in base 64
475        																	--	#Dimensione_Ver			Dimensione in bytes della versione
476        																	--	#FlgFirmata_Ver			(valori 1/0) Se 1 significa che la versione elettronica è firmata digitalmente, se 0 non è firmata
477        																	--	#Mimetype_Ver			Mimetype del file della versione (se è firmato con busta p7m, m7m o tsd è il formato del file "sbustato): è il mimetype principale del formato del file
478        																	--	#Cod_Ver				Codice identificativo della versione
479        																	--	#NroProgrVerBckVerDi_Ver		N.ro progressivo dell'eventuale versione di cui è una back-version
480        																	--	#FlgValida_Ver				(valori 1/0) Se 1 la versione è valida, altrimenti è annullata
481        																	--	#FlgPubblicata_Ver 		(valori 1/0) Se 1 indica che la versione è pubblicata, altrimenti no 
482        																	--	#IdFormatoEl_Ver 			Identificativo del formato elettronico della versione (quello con cui è registrato in banca dati)
483        																	--	#NomeFormatoEl_Ver			Nome del formato elettronico della versione (quello con cui è registrato in banca dati)
484        																	--	#FlgDaScansione_Ver 		(valori 1/0) Se 1 indica che la versione elettronica è un'immagine acquisita da scanner 
485        																	--	#DtScansione_Ver 			Data in cui l'immagine corrispondente alla versione elettronica è stata acquisita da scanner (nel formato dato dal parametro di conf. FMT_STD_DATA) 
486        																	--	#IdUserScansione_Ver 			Id. (quello interno al sistema) dell'utente che ha scansionato l'immagine corrispondente alla versione 
487        																	--	#CIEstUserScansione_Ver		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha scansionato l'immagine corrispondente alla versione
488        																	--	#DesUserScansione_Ver 		Denominazione dell'utente che ha scansionato l'immagine corrispondente alla versione
489        																	--	#SpecificheScansione_Ver 		Specifiche (es: risoluzione) sul processo di digitalizzazione che ha prodotto la versione
490        																	--	#Note_Ver				Note della versione
491        																	--	#DesUserCreazione_Ver		Utente di creazione
492        																	--	#TsCreazione_Ver			Data e ora di creazione (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
493        																	--	#DesUserUltimaMod_Ver		Utente di ultima modifica
494        																	--	#TsUltimaMod_Ver			Data e ora di ultima modifica (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)		
495        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>_Ver: qualsiasi attributo dinamico specificabile su una versione			
496        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore; se NULL è la funzione stessa
497        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
498        			ErrMsgOut			OUT 		VARCHAR2)							-- Messaggio d'errore
499        			return PLS_INTEGER;											-- vale 1 in caso di successo, altrimenti 0
500        
501        	/******* Funzione per ottenere il riferimento univoco (URI) attraverso cui reperire nella repository il file corrispondente ad una specifica versione ******/
502        	/******* o l'ultima valida e visibile all'utente, se non è specificato quale, di un dato documento.									******/
503        	/******* ATTENZIONE: nel caso i cui la versione non sia specificata e non ne esista alcuna valida e visibile non viene dato errore				******/
504        	function GetURIVerDoc(
505        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
506        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
507        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento
508        			NroProgrVerIO		IN OUT 	INTEGER,							-- N.ro progressivo che identifica la versione di cui trovare l'URI
509        																	-- ATTENZIONE: se in input è NULL significa che si vuole estrarre l'ultima versione valida del documento visibile all'utente
510        																	-- In output, in caso di successo, restituisce il n.ro della versione di cui si è trovato il riferimento
511        			URIVerOut			OUT		VARCHAR2,						      -- Riferimento per reperire univocamente nella repository il file corrispondente alla versione
512        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
513        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
514        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
515        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
516        
517        	/******* Funzione per ottenere il display name del file corrispondente ad una specifica versione 		 							******/
518        	/******* o l'ultima valida e visibile all'utente, se non è specificato quale, di un dato documento.									******/
519        	/******* ATTENZIONE: nel caso i cui la versione non sia specificata e non ne esista alcuna valida e visibile non viene dato errore				******/
520        	function GetDisplayNameVerDoc(
521        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
522        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
523        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento
524        			NroProgrVerIO		IN OUT 	INTEGER,							-- N.ro progressivo che identifica la versione di cui trovare l'URI
525        																	-- ATTENZIONE: se in input è NULL significa che si vuole estrarre l'ultima versione valida del documento visibile all'utente
526        																	-- In output, in caso di successo, restituisce il n.ro della versione di cui si è trovato il riferimento
527        			DisplaynameVerOut		OUT		VARCHAR2,						      -- Nome con cui mostrare nella GUI il file corrispondente alla versione
528        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
529        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
530        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
531        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
532        
533        	/******* Funzione per ottenere come output "semplici" i dati salienti di una versione elettronica (l'ultima valida, se il n.ro non è specificato) di un documento *******/
534        	/******* I dati vengono estratti senza tener conto delle policy di accesso 															*******/
535        	function GetMainDataVerDoc(
536        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Id. del documento di cui estrarre le versioni
537        			NroProgrVerIO		IN OUT 	INTEGER,							-- N.ro progressivo che identifica la versione di cui trovare i dati
538        																	-- ATTENZIONE: se in input è NULL significa che si vuole estrarre l'ultima versione valida del documento 
539        																	-- In output, in caso di successo, restituisce il n.ro della versione di cui si sono estratti i dati
540        			CodVerOut			OUT		VARCHAR2,							-- Codice identificativo della versione
541        			FlgVldOut			OUT		PLS_INTEGER,						--(valori 1/0) Indica se la versione è valida (1) o logicamente annullata
542        			DisplayFilenameVerOut	OUT		VARCHAR2,							-- Nome con cui mostrare/in cui estrarre il file corrispondente alla versione
543        			URIVerOut			OUT		VARCHAR2,						-- Riferimento per reperire univocamente nella repository il file corrispondente alla versione
544        			ImprontaVerOut		OUT		VARCHAR2,						-- Impronta del file
545        			AlgoritmoImprontaVerOut	OUT		VARCHAR2,					-- 	Algoritmo di calcolo dell'impronta: SHA-1, SHA-256, MD5 ecc
546        			EncodingImprontaVerOut	OUT		VARCHAR2,					-- Encoding usato nel calcolo dell'impronta: hex = esadecimale, base64 = in base 64
547        			DimensioneVerOut	OUT		INTEGER,						-- Dimensione del file in bytes
548        			MimetypeVerOut		OUT		VARCHAR2,						-- Mimetype del file (quello interno all'eventuale busta crittografica): è il mimetype principale del formato del file
549        			FlgFirmataVerOut		OUT		PLS_INTEGER,					-- (valori 1/0) Indica se il file è firmato digitalmente			
550        			NoteVerOut			OUT		VARCHAR2,							-- Note della versione
551        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
552        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
553        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
554        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
555        
556        	/***** Funzione per estrarre i dati di tutte le versioni di un documento, senza tener conto delle policy di accesso *****/
557        	function GetListDocVersion(
558        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Id. del documento di cui estrarre le versioni
559        			VersionListXMLOut		OUT		NOCOPY CLOB,						-- Lista delle versioni trovate (XML conforme a schema LISTA_STD.xsd)
560        																	-- Ogni versione è un tag Riga che può contenere le seguenti colonne: 
561        																	--	1: N.ro progressivo che identifica la versione
562        																	--	2: Nome con cui mostrare/in cui estrarre il file corrispondente alla versione elettronica del documento
563        																	--	3: Riferimento univoco per reperire nella repository il file corrispondente alla versione del documento
564        																	--	4: Impronta del file
565        																	--	5: Codice identificativo della versione
566        																	--	6: N.ro progressivo dell'eventuale versione di cui è una back-version
567        																	--	7: (valori 1/0) Se 1 la versione è valida, altrimenti è annullata
568        																	--	8: (valori 1/0) Se 1 indica che la versione è pubblicata, altrimenti no 
569        																	--	9: Identificativo del formato elettronico della versione (quello con cui è registrato in banca dati)
570        																	--	10: Nome del formato elettronico della versione (quello con cui è registrato in banca dati)
571        																	--	11: (valori 1/0) Se 1 indica che la versione elettronica è un'immagine acquisita da scanner 
572        																	--	12: Data in cui l'immagine corrispondente alla versione elettronica è stata acquisita da scanner (nel formato dato dal parametro di conf. FMT_STD_DATA) 
573        																	--	13: Id. (quello interno al sistema) dell'utente che ha scansionato l'immagine corrispondente alla versione 
574        																	--	14: <non utilizzata>
575        																	--	15: Denominazione dell'utente che ha scansionato l'immagine corrispondente alla versione
576        																	--	16: Specifiche (es: risoluzione) sul processo di digitalizzazione che ha prodotto la versione
577        																	--	17: Note della versione
578        																	--	18: Utente di creazione
579        																	--	19: Data e ora di creazione (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
580        																	--	20: Utente di ultima modifica
581        																	--	21: Data e ora di ultima modifica (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)	
582        																	--	22: <non utilizzata>
583        																	-- 	23: Algoritmo di calcolo dell'impronta(col 4): SHA-1, SHA-256, MD5 ecc
584        																	--	24: Encoding usato nel calcolo dell'impronta(col 4): hex = esadecimale, base64 = in base 64
585        																	--	25: Dimensione del file in bytes
586        																	--	26: Mimetype del file (il mimetype principale del formato del file)
587        																	-- 	27: (valori 1/0) Indica se il file è firmato digitalmente
588        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
589        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
590        			ErrMsgOut			OUT 		VARCHAR2,							-- Messaggio d'errore
591        			FlgIgnoreDelLogIn		IN		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0) Se 1 vengono considerate anche le versioni logicamente annullate, altrimenti no										
592        			NomeTagRigaIn		IN		VARCHAR2 default null,					-- se valorizzato è il nome del tag riga che deve avere l'xml in output
593        			NomeTagColonnaIn		IN		DMVA_STRING default null   				-- se valorizzato rappresenta i nomi dei tag colonne dell'xml di output
594        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
595        
596        	/***** Funzione per estrarre i dati delle versioni di un documento visibili all'utente di lavoro in base a tutte le policy di accesso *****/
597        	function TrovaVisibleDocVersion(
598        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
599        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
600        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Id. del documento di cui estrarre le versioni
601        			FlgIgnoreDelLogIn		IN		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0) Se 1 vengono estratte anche le versioni logicamente annullate, altrimenti no										
602        			------------- inizio argomenti standard di tutte le funzioni di ricerca che devono restituire una lista --------------
603        			ColOrderByIO			IN OUT	VARCHAR2,						-- Indica il/i numeri della/e colonna dell'XML (CLOB ResultOut) di output per cui ordinare i record nell'XML stesso (si può ordinare solo per le colonne da 1, 2 e 5). Se l'ordinamento è per più colonne queste vanno separate con "," (es: 2; 2,3)
604        																	-- in output può essere diverso che in input solo se in input è NULL: in tal caso significa che esiste sul tipo di ordinamento una qualche preimpostazione di sistema/utente ecc.
605        																	-- se non valorizzato (neppure in output) la lista di record restituita non è ordinata
606        			FlgDescOrderByIO  		IN OUT	VARCHAR2,						-- E' una stringa di 1 o 0/NULL, tanti quanti le colonne di ordinamento, separati da ",": 1 significa che l'ordinamento per la data colonna deve essere discendente anzichè ascendente (es: 1; 1,0; 1, )
607        																	-- in output può essere diverso che in input solo se in input è NULL: in tal caso significa che esiste sul verso di ordinamento una qualche preimpostazione di sistema/utente ecc.			
608        			FlgSenzaPaginazioneIn 		IN 		PLS_INTEGER DEFAULT NULL,            	-- (valori 1/0/NULL) Se 1 l'estrazione non è paginata, altrimenti sì
609        			NroPaginaIO      			IN OUT	PLS_INTEGER,                  		-- E' il numero della pagina da estrarre; se NULL e l'estrazione è paginata viene estratta la prima pagina
610           			BachSizeIO				IN OUT	PLS_INTEGER,					-- Indica il massimo n.ro di record da estrarre se l'estrazione non è paginata (FlgSenzaPaginazioneIn=1)  
611        																	-- Indica la dimensione (n.ro di record) della pagina se l'estrazione è paginata (FlgSenzaPaginazioneIn 0 o NULL) e in tal caso se non è valorizzato la dimensione della pagina è quella settata per l'utente di lavoro o è pari al valore del parametro STD_PAGE_NUM_ROW del dominio di lavoro				
612        			OverFlowLimitIn			IN		PLS_INTEGER DEFAULT NULL,			-- E' il n.ro di record soddisfacenti la ricerca superato il quale la funzione deve restituire errore di overflow
613        			FlgSenzaTotIn			IN		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 significa che non è richiesto come output il totale dei record soddisfacenti la ricerca (se la ricerca è paginata per la prima pagina il totale viene calcolato comunque, per le successive no)
614        			NroTotRecOut			OUT		PLS_INTEGER,					-- E' il n.ro di record complessivi trovati (valorizzato solo se FlgSenzaTotIn è 0 o NULL o se si estrae la prima pagina)
615             			NroRecInPaginaOut 		OUT   	PLS_INTEGER,                     		-- E' il numero di record nella pagina (valorizzato solo se l'estrazione è paginata, ovvero se FlgSenzaPaginazioneIn 0 o NULL)
616        			------------- fine argomenti standard di tutte le funzioni di ricerca che devono restituire una lista --------------
617        			VersionListXMLOut		OUT		NOCOPY CLOB,						-- Lista delle versioni trovate (XML conforme a schema LISTA_STD.xsd)
618        																	-- Ogni versione è un tag Riga che può contenere le seguenti colonne: 
619        																	--	1: N.ro progressivo che identifica la versione
620        																	--	2: Nome con cui mostrare/in cui estrarre il file corrispondente alla versione elettronica del documento
621        																	--	3: Riferimento univoco per reperire nella repository il file corrispondente alla versione del documento
622        																	--	4: Impronta del file
623        																	--	5: Codice identificativo della versione
624        																	--	6: N.ro progressivo dell'eventuale versione di cui è una back-version
625        																	--	7: (valori 1/0) Se 1 la versione è valida, altrimenti è annullata
626        																	--	8: (valori 1/0) Se 1 indica che la versione è pubblicata, altrimenti no 
627        																	--	9: Identificativo del formato elettronico della versione (quello con cui è registrato in banca dati)
628        																	--	10: Nome del formato elettronico della versione (quello con cui è registrato in banca dati)
629        																	--	11: (valori 1/0) Se 1 indica che la versione elettronica è un'immagine acquisita da scanner 
630        																	--	12: Data in cui l'immagine corrispondente alla versione elettronica è stata acquisita da scanner (nel formato dato dal parametro di conf. FMT_STD_DATA) 
631        																	--	13: Id. (quello interno al sistema) dell'utente che ha scansionato l'immagine corrispondente alla versione 
632        																	--	14: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha scansionato l'immagine corrispondente alla versione
633        																	--	15: Denominazione dell'utente che ha scansionato l'immagine corrispondente alla versione
634        																	--	16: Specifiche (es: risoluzione) sul processo di digitalizzazione che ha prodotto la versione
635        																	--	17: Note della versione
636        																	--	18: Utente di creazione
637        																	--	19: Data e ora di creazione (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
638        																	--	20: Utente di ultima modifica
639        																	--	21: Data e ora di ultima modifica (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)		
640        																	--	22: Bitmap di 1/0 che indica le operazioni possibili sulla versione
641        																	--		1° carattere: Modifica note
642        																	--		2° carattere: Modifica stato di pubblicazione
643        																	--		3° carattere: Annullamento logico
644        																	--		4° carattere: Ripristino
645        																	--		5° carattere: Cancellazione fisica 	
646        																	--		6° carattere: Abilitazione al download del file	
647        																	-- 	23: Algoritmo di calcolo dell'impronta(col 4): SHA-1, SHA-256, MD5 ecc
648        																	--	24: Encoding usato nel calcolo dell'impronta(col 4): hex = esadecimale, base64 = in base 64
649        																	--	25: Dimensione del file in KBytes
650        																	--	26: Mimetype del file (il mimetype principale del formato del file)
651        																	-- 	27: (valori 1/0) Indica se il file è firmato digitalmente
652        																	--	28: (valori 1/0) Indica se il file è pdf o convertibile in pdf
653        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
654        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
655        			ErrMsgOut			OUT 		VARCHAR2,							-- Messaggio d'errore
656        			NomeTagRigaIn		IN		VARCHAR2 default null,					-- se valorizzato è il nome del tag riga che deve avere l'xml in output
657        			NomeTagColonnaIn		IN		DMVA_STRING default null   				-- se valorizzato rappresenta i nomi dei tag colonne dell'xml di output
658        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
659        
660        	/***************** Funzione da richiamare per avere i dati per estrarre il file corrispondente ad una data versione, valida e visibile, di un documento (o l'ultima valida e visibile, se nessuna è specificata) *********/
661        	function ExtractVerDoc(
662        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
663        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
664        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento
665        			NroProgrVerIO		IN OUT 	INTEGER,							-- N.ro progressivo che identifica la versione da estrarre;
666        																	-- ATTENZIONE: se in input è NULL significa che si vuole estrarre l'ultima versione valida e visibile del documento
667        																	-- In output, in caso di successo, restituisce il n.ro della versione estratta
668        			DisplayFilenameVerOut	OUT		VARCHAR2,							-- Nome con cui mostrare/in cui estrarre il file corrispondente alla versione
669        			URIVerOut			OUT		VARCHAR2,						      -- Riferimento per reperire univocamente nella repository il file corrispondente alla versione
670        			ImprontaVerOut		OUT		VARCHAR2,							-- Impronta del file corrispondente alla versione
671        			AlgoritmoImprontaVerOut	OUT		VARCHAR2,					-- 	Algoritmo di calcolo dell'impronta: SHA-1, SHA-256, MD5 ecc
672        			EncodingImprontaVerOut	OUT		VARCHAR2,					-- Encoding usato nel calcolo dell'impronta: hex = esadecimale, base64 = in base 64
673        			DimensioneVerOut	OUT		INTEGER,						-- Dimensione del file in bytes
674        			MimetypeVerOut		OUT		VARCHAR2,						-- Mimetype del file (quello interno all'eventuale busta crittografica)
675        																		-- è il mimetype principale del formato del file
676        			FlgFirmataVerOut		OUT		PLS_INTEGER,					-- (valori 1/0) Indica se il file è firmato digitalmente			
677        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
678        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
679        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
680        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
681        
682        	----overload della precedente, per retrocomaptibilità con versioni di Auriga precedenti alla 3
683        	function ExtractVerDoc(
684        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
685        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
686        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento
687        			NroProgrVerIO		IN OUT 	INTEGER,							-- N.ro progressivo che identifica la versione da estrarre;
688        																	-- ATTENZIONE: se in input è NULL significa che si vuole estrarre l'ultima versione valida e visibile del documento
689        																	-- In output, in caso di successo, restituisce il n.ro della versione estratta
690        			DisplayFilenameVerOut	OUT		VARCHAR2,							-- Nome con cui mostrare/in cui estrarre il file corrispondente alla versione
691        			URIVerOut			OUT		VARCHAR2,						      -- Riferimento per reperire univocamente nella repository il file corrispondente alla versione
692        			ImprontaVerOut		OUT		VARCHAR2,							-- Impronta del file corrispondente alla versione
693        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
694        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
695        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
696        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
697        
698        	/*************** Funzione per ottenere i metadati (profilo) con cui caratterizzare un documento su un dato DMS 		***************/
699        	/*************** Si può utilizzare anche solo per avere le credenziali con cui accedere al DMS					***************/
700        	function GetProfiloDocXContainer(
701        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
702        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
703        			ContainerTypeIn		IN		DMT_DOCUMENTS.CONTAINER_TYPE%type,			-- (obblig.) Sigla che indica il tipo di contenitore (Hummingbird, Filenet ecc) in cui si trova o deve essere creato il documento 
704        			ContainerAliasIn		IN		DMT_DOCUMENTS.CONTAINER_ALIAS%type,			-- (obblig.) Alias che identifica lo specifico contenitore (del tipo ContainerTypeIn) in cui si trova o deve essere creato il documento 
705        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento
706        			FlgProfNotNeededIn	IN		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 indica che il profilo non va restituito (solo le credenziali di accesso al container)		
707        			UsernameOut			OUT		VARCHAR2,							-- Username con cui accreditarsi sul container
708        			PasswordOut			OUT		VARCHAR2,							-- Password con cui accreditarsi sul container
709        			ProfiloXMLOUT 		OUT		NOCOPY CLOB,						-- (valorizzato solo se FlgProfNotNeededIn non è 1) XML contenente nomi e valori degli attributi del documento da riportare sul contenitore (conforme allo schema SezioneCache.xsd)
710        																	-- Per gli attributi vale quanto segue:
711        																	-- 		gli attributi specificati nell'XML aggiornano i corrispondenti già presenti sul container:
712        																	--			per gli attributi con valore semplice il valore nell'XML sostituisce quello eventualmente già presente sul container per quell'attributo; se non c'è valore significativo nell'XML significa che il valore dell'attributo sul container va rimosso
713        																	--			per gli attributi con valore lista i valori nell'XML sostituiscono quelli già presenti sul container; se la lista di valori nell'XML è vuota significa che tutti i valori dell'attributo già presenti sul container vanno rimossi
714        																	-- 		gli attributi presenti sul container per cui non c'è corrispondente nell'XML restano invariati
715        																	-- Questi attributi sono:
716        																	--	#NomeLogico_!PROF			Nome logico
717        																	--	#FlgVerPubblicata_!PROF		(valori 1/0) Se 1 indica che la versione del doc. è pubblicata, se 0 che non lo è
718        																	--						E' presente solo in caso di AddDoc/Step-Version
719        																	--	#@Formato_!PROF			Formato del documento (lista con una sola riga)
720        																	--						La riga della lista contiene le seguenti colonne:
721        																	--						2: codice id. del formato in AURIGA
722        																	--						3: codice id. del formato sul container
723        																	--						4: nome del formato
724        																	--	#@Profili_!PROF			Lista con il/i tipo/tipi del documento ed eventuali attributi/property. 
725        																	--						Se nella riga mancano tutte le colonne relative all'attributo significa che si vuole settare solo il tipo/profilo.
726        																	--						La riga della lista contiene le seguenti colonne:
727        																	--						2: codice id. del tipo/profilo in AURIGA
728        																	--						3: codice id. del tipo/profilo sul container
729        																	--						4: nome del tipo/profilo
730        																	--						5: codice id. dell''attributo/property in AURIGA
731        																	--						6: codice id. dell''attributo/property sul container
732        																	--						7: nome/label dell''attributo/property 
733        																	--						8: valore dell''attributo/property 
734        																	--	#@FolderAppartenenza_!PROF	Lista con i folder di diretta appartenenza (librerie incluse) (solo quelli presenti sul container)
735        																	--						Ciscuna riga della lista contiene le seguenti colonne:
736        																	--						2: Id. del folder in AURIGA
737        																	--						3: URI che permette di individuare il folder nella repository
738        																	--						4: Percorso e nome del folder
739        																	--	#@Workspaces_!PROF		Lista con i workspace di appartenenza (solo quelli presenti sul container)
740        																	--						Ciscuna riga della lista contiene le seguenti colonne:
741        																	--						2: Id. del workspace in AURIGA
742        																	--						3: URI che permette di individuare il workspace nella repository
743        																	--						4: Nome del workspace
744        																	--	#@RelazioniVsAltriDoc_!PROF	Lista con le relazioni verso altri documenti (solo quelli che hanno una versione sul container)
745        																	--						Ciscuna riga della lista contiene le seguenti colonne:
746        																	--						2: Id. del documento in AURIGA
747        																	--						3: URI che permette di individuare il documento nella repository (è l'URI che punta ad una sua vers. presente sul container)
748        																	--						4: Percorso + nome logico del documento
749        																	--						5: codice id. della natura della relazione in AURIGA
750        																	--						6: codice id. della natura della relazione sul container
751        																	--						7: nome della natura della relazione
752        																	--	#@ACL_!PROF				Lista con i permessi assentiti o negati sull'unità documentaria e i suoi documenti
753        																	--						Ciscuna riga della lista contiene le seguenti colonne:
754        																	--						2: codice id. del destinatario del permesso su AURIGA
755        																	--						3: codice id. del destinatario del permesso sul container
756        																	--						4: Denominazione/nome del destinatario del permesso
757        																	--						5: Indicatore del tipo di destinatario del permesso
758        																	--							Valori possibili:
759        																	--							ALL	= A tutti  
760        																	-- 							UT 	= Utente
761        																	--							G	= Gruppo
762        																	--							R	= Ruolo
763        																	--						6:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
764        																	--						7:(valori 1/0/NULL) Indica se la visualizzazione dei file del documento è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
765        																	--						8:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
766        																	--						9:(valori 1/0/NULL) Indica se la modifica (intendendo anche il versioning) dei file del documento è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
767        																	--						10:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
768        																	--						11:(valori 1/0/NULL) Indica se la copia del documento è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
769        																	--						12:(valori 1/0/NULL) Indica se l'eliminazione del documento è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
770        																	--						13:(valori 1/0/NULL) Indica se il ripristino del documento eliminato è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
771        																	--						14:(valori 1/NULL) Se 1 indica se l'accesso agli eventuali file del documento è relativo alle sole versioni pubblicate
772        			AttributiVerIn		IN		CLOB,								-- XML conforme a schema Sezionecache.xsd che contiene gli attributi della versione elettronica da caricare
773        																	-- Va valorizzato in caso di AddDoc/Step-Version e Update di versione
774        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
775        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
776        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
777        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
778        
779        	/*************** Funzione per ottenere i metadati (profilo) con cui caratterizzare un folder su un dato DMS 		***************/
780        	/*************** Si può utilizzare anche solo per avere le credenziali con cui accedere al DMS					***************/
781        	function GetProfiloFolderXContainer(
782        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
783        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
784        			ContainerTypeIn		IN		DMT_DOCUMENTS.CONTAINER_TYPE%type,			-- (obblig.) Sigla che indica il tipo di contenitore (Hummingbird, Filenet ecc) in cui si trova o deve essere creato il folder 
785        			ContainerAliasIn		IN		DMT_DOCUMENTS.CONTAINER_ALIAS%type,			-- (obblig.) Alias che identifica lo specifico contenitore (del tipo ContainerTypeIn) in cui si trova o deve essere creato il folder 
786        			IdFolderIn			IN		DMT_FOLDER.ID_FOLDER%type,				-- (obblig.) Identificativo del folder
787        			FlgProfNotNeededIn	IN		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 indica che il profilo non va restituito (solo le credenziali di accesso al container)		
788        			UsernameOut			OUT		VARCHAR2,							-- Username con cui accreditarsi sul container
789        			PasswordOut			OUT		VARCHAR2,							-- Password con cui accreditarsi sul container
790        			ProfiloXMLOUT 		OUT		NOCOPY CLOB,						-- (valorizzato solo se FlgProfNotNeededIn non è 1) XML contenente nomi e valori degli attributi del folder da riportare sul contenitore (conforme allo schema SezioneCache.xsd)
791        																	-- Per gli attributi vale quanto segue:
792        																	-- 		gli attributi specificati nell'XML aggiornano i corrispondenti già presenti sul container:
793        																	--			per gli attributi con valore semplice il valore nell'XML sostituisce quello eventualmente già presente sul container per quell'attributo; se non c'è valore significativo nell'XML significa che il valore dell'attributo sul container va rimosso
794        																	--			per gli attributi con valore lista i valori nell'XML sostituiscono quelli già presenti sul container; se la lista di valori nell'XML è vuota significa che tutti i valori dell'attributo già presenti sul container vanno rimossi
795        																	-- 		gli attributi presenti sul container per cui non c'è corrispondente nell'XML restano invariati
796        																	-- Questi attributi sono:
797        																	--	#NomeLogico_!PROF			Nome logico
798        																	--	#@Profili_!PROF			Lista con il/i tipo/tipi del folder ed eventuali attributi/property. 
799        																	--						Se nella riga mancano tutte le colonne relative all'attributo significa che si vuole settare solo il tipo/profilo.
800        																	--						La riga della lista contiene le seguenti colonne:
801        																	--						2: codice id. del tipo/profilo in AURIGA
802        																	--						3: codice id. del tipo/profilo sul container
803        																	--						4: nome del tipo/profilo
804        																	--						5: codice id. dell''attributo/property in AURIGA
805        																	--						6: codice id. dell''attributo/property sul container
806        																	--						7: nome/label dell''attributo/property 
807        																	--						8: valore dell''attributo/property 
808        																	--	#@FolderAppartenenza_!PROF	Lista con i folder di diretta appartenenza (librerie incluse) (solo quelli presenti sul container)
809        																	--						Ciscuna riga della lista contiene le seguenti colonne:
810        																	--						2: Id. del folder in AURIGA
811        																	--						3: URI che permette di individuare il folder nella repository
812        																	--						4: Percorso e nome del folder
813        																	--	#@RelazioniVsAltriFolder_!PROF	Lista con le relazioni verso altri folder (solo quelli che hanno una versione sul container)
814        																	--						Ciscuna riga della lista contiene le seguenti colonne:
815        																	--						2: Id. del folder in AURIGA
816        																	--						3: URI che permette di individuare il folder nella repository
817        																	--						4: Percorso e nome del folder
818        																	--						5: codice id. della natura della relazione in AURIGA
819        																	--						6: codice id. della natura della relazione sul container
820        																	--						7: nome della natura della relazione
821        																	--	#@ACL_!PROF				Lista con i permessi assentiti o negati sul folder
822        																	--						Ciscuna riga della lista contiene le seguenti colonne:
823        																	--						2: codice id. del destinatario del permesso su AURIGA
824        																	--						3: codice id. del destinatario del permesso sul container
825        																	--						4: Denominazione/nome del destinatario del permesso
826        																	--						5: Indicatore del tipo di destinatario del permesso
827        																	--							Valori possibili:
828        																	--							ALL	= A tutti  
829        																	-- 							UT 	= Utente
830        																	--							G	= Gruppo
831        																	--							R	= Ruolo
832        																	--						6:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
833        																	--						7:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
834        																	--						8:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
835        																	--						9:(valori 1/0/NULL) Indica se la copia del folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
836        																	--						10:(valori 1/0/NULL) Indica se l'eliminazione del folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
837        																	--						11:(valori 1/0/NULL) Indica se il ripristino del folder eliminato è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
838        																	--						12:(valori 1/0/NULL) Indica se la modifica del contenuto di unità documentarie è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
839        																	--						13:(valori 1/0/NULL) Indica se la modifica del contenuto di folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
840        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
841        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
842        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
843        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
844        
845        	/*************** Funzione per ottenere i metadati (profilo) con cui caratterizzare un workspace su un dato DMS 		***************/
846        	/*************** Si può utilizzare anche solo per avere le credenziali con cui accedere al DMS					***************/
847        	function GetProfiloWorkspaceXContainer(
848        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
849        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
850        			ContainerTypeIn		IN		DMT_DOCUMENTS.CONTAINER_TYPE%type,			-- (obblig.) Sigla che indica il tipo di contenitore (Hummingbird, Filenet ecc) in cui si trova o deve essere creato il workspace 
851        			ContainerAliasIn		IN		DMT_DOCUMENTS.CONTAINER_ALIAS%type,			-- (obblig.) Alias che identifica lo specifico contenitore (del tipo ContainerTypeIn) in cui si trova o deve essere creato il workspace 
852        			IdWorkspaceIn		IN		DMT_WORKSPACES.ID_WORKSPACE%type,			-- (obblig.) Identificativo del workspace
853        			FlgProfNotNeededIn	IN		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 indica che il profilo non va restituito (solo le credenziali di accesso al container)		
854        			UsernameOut			OUT		VARCHAR2,							-- Username con cui accreditarsi sul container
855        			PasswordOut			OUT		VARCHAR2,							-- Password con cui accreditarsi sul container
856        			ProfiloXMLOUT 		OUT		NOCOPY CLOB,						-- (valorizzato solo se FlgProfNotNeededIn non è 1) XML contenente nomi e valori degli attributi del workspace da riportare sul contenitore (conforme allo schema SezioneCache.xsd)
857        																	-- Per gli attributi vale quanto segue:
858        																	-- 		gli attributi specificati nell'XML aggiornano i corrispondenti già presenti sul container:
859        																	--			per gli attributi con valore semplice il valore nell'XML sostituisce quello eventualmente già presente sul container per quell'attributo; se non c'è valore significativo nell'XML significa che il valore dell'attributo sul container va rimosso
860        																	--			per gli attributi con valore lista i valori nell'XML sostituiscono quelli già presenti sul container; se la lista di valori nell'XML è vuota significa che tutti i valori dell'attributo già presenti sul container vanno rimossi
861        																	-- 		gli attributi presenti sul container per cui non c'è corrispondente nell'XML restano invariati
862        																	-- Questi attributi sono:
863        																	--	#NomeLogico_!PROF			Nome logico
864        																	--	#@Attributi_!PROF			Lista con gli attributi/property da settare nel profilo del workspace. 
865        																	--						2: codice id. dell''attributo/property in AURIGA
866        																	--						3: codice id. dell''attributo/property sul container
867        																	--						4: nome/label dell''attributo/property 
868        																	--						5: valore dell''attributo/property 
869        																	--	#@ACL_!PROF				Lista con i permessi assentiti o negati sul workspace
870        																	--						Ciscuna riga della lista contiene le seguenti colonne:
871        																	--						2: codice id. del destinatario del permesso su AURIGA
872        																	--						3: codice id. del destinatario del permesso sul container
873        																	--						4: Denominazione/nome del destinatario del permesso
874        																	--						5: Indicatore del tipo di destinatario del permesso
875        																	--							Valori possibili:
876        																	--							ALL	= A tutti  
877        																	-- 							UT 	= Utente
878        																	--							G	= Gruppo
879        																	--							R	= Ruolo
880        																	--						6:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
881        																	--						7:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
882        																	--						8:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
883        																	--						9:(valori 1/0/NULL) Indica se l'eliminazione del workspace è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
884        																	--						10:(valori 1/0/NULL) Indica se il ripristino del workspace eliminato è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
885        																	--						11:(valori 1/0/NULL) Indica se la modifica del contenuto è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)														
886        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
887        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
888        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
889        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
890        
891        	/***** Funzione per estrarre gli oggetti correlati ad un dato documento o folder o workspace che si trovano in un dato container 								*****/
892        	/***** Come coorelati si intendono: gli oggetti contenuti, i doc. facenti parte della stessa unità doc; i documenti e folder legati da relazioni precedente/successivo ecc. 	*****/
893        	function GetListRelatedObjInContainer(
894        			ContainerTypeIn		IN		DMT_DOCUMENTS.CONTAINER_TYPE%type,			-- (obblig.) Sigla che indica il tipo di contenitore (Hummingbird, Filenet ecc) in cui si devono trovare gli oggetti correlati da estrarre
895        			ContainerAliasIn		IN		DMT_DOCUMENTS.CONTAINER_ALIAS%type,			-- (obblig.) Alias che identifica lo specifico contenitore (del tipo ContainerTypeIn) in cui si devono trovare gli oggetti correlati da estrarre
896        			FlgObjTypeIn		IN		VARCHAR2,							-- (obblig.) Tipo dell'oggetto di cui trovare gli oggetti correlati; valori ammessi:
897        																	-- D = Documento
898        																	-- F = Folder
899        																	-- W = Workspace
900        			IdObjIn			IN		INTEGER,							-- (obblig.) Identificativo univoco (ID_DOC o ID_FOLDER o ID_WORKSPACE) dell'oggetto di cui trovare gli oggetti correlati
901        			RelatedObjXMLOut		OUT		NOCOPY CLOB,						-- Lista degli oggetti correlati (XML conforme a schema LISTA_STD.xsd)
902        																	-- Ogni oggetto correlato è un tag Riga che contiene le seguenti colonne: 
903        																	--	1: (valori D/F) Tipo dell'oggetto
904        																	--	2: Id. (ID_DOC o ID_FOLDER) dell'oggetto
905        																	--	3: (valori A/UD) Flag che indica se relazione di "appartenenza" (=A) o insistenza sulla stessa unità documentaria (=UD) o d'altro genere (NULL)
906        																	--	4: URI dell'oggetto (se documento URI di una sua versione sul container)
907        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
908        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
909        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
910        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
911        
912        	/************** Funzione per creare un nuovo documento (con o senza versione elettronica) legandolo ad una certa unità documentaria												***********/
913        	/************** Provvede anche a creare l'unità doc. di appartenenza se non ne esiste alcuna con l'id. e/o gli estremi di registrazione (categ./sigla/anno/n.ro di reg.) specificati 			***********/
914        	/************** Se l'unità documentaria viene creata ex-novo il doc. nè è comunque il primario, altrimenti si deve specificare che relazione ha con l'unità doc. preesistente (allegato o altro)	***********/  
915        	function AddDoc(
916        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
917        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si inserisce il documento. Se non valorizzato è l'utente connesso
918        			AttributiUDDocXMLIn	IN		CLOB,								-- XML contenente nomi e valori degli attributi dell'unità documentaria di appartenenza e del documento (conforme allo schema SezioneCache.xsd)
919        																	-- Per gli attributi dell'unità documentaria, se l'unità documentaria è già esistente, vale quanto segue:
920        																	-- 		gli attributi specificati nell'XML aggiornano i corrispondenti già presenti in DB:
921        																	--			per gli attributi con valore semplice il valore nell'XML sostituisce quello eventualmente già presente in DB per quell'attributo; se non c'è valore significativo nell'XML significa che il valore dell'attributo in DB va rimosso
922        																	--			per gli attributi con valore lista i valori nell'XML si aggiungono o sostituiscono quelli già presenti in DB a seconda rispettivamente che nell'XML sia presente o meno un attributo #Append_<Nome attributo>; se la lista di valori nell'XML è vuota significa che tutti i valori dell'attributo già presenti in DB vanno rimossi
923        																	-- 		gli attributi presenti in DB per cui non c'è corrispondente nell'XML restano invariati
924        																	-- Gli attributi relativi all'unità documentaria sono:
925        																	--	#@RegistrazioniDate		Lista di registrazioni/numerazioni date all'unità documentaria.
926        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
927        																	--						1: (obblig.) Categoria di registrazione/numerazione; valori ammessi: PG = Protocollo Generale; PP = Protocollo Particolare; R = Repertorio; E = Registrazione d'emergenza; A = Altro tipo di numerazione
928        																	--						2: Sigla di registrazione/numerazione
929        																	--						3: (obblig. se non si indicano data e ora di registrazione) Anno di registrazione/numerazione
930        																	--						4: (obblig.) N.ro di registrazione/numerazione
931        																	--						5: Data e ora di registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
932        																	--						6: Identificativo dell'utente che ha effettuato la registrazione/numerazione
933        																	--						7: Codice che identifica l'utente che ha effettuato la registrazione/numerazione nell'applicazione esterna da cui ci si connette 
934        																	--						8: Denominazione dell'utente che ha effettuato la registrazione/numerazione
935        																	--						9: Identificativo della UO presso cui è stata effettuata la registrazione/numerazione
936        																	--						10: Denominazione della UO presso cui è stata effettuata la registrazione/numerazione (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
937        																	--						11: N.ri livello della UO presso cui è stata effettuata la registrazione/numerazione (tutti, separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
938        																	--						12: Codice che identifica la registrazione nel sistema in cui è stata data
939        																	--						13: Data in cui decade la riservatezza data all'unità documentaria dalla data registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_DATA)
940        																	--						14:(valori 1/NULL) Se 1 significa che la registrazione/numerazione è annullata
941        																	--						15: Data e ora di annullamento della registrazione (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
942        																	--						16: Identificativo dell'unità documentaria che rappresenta l'atto di autorizzazione all'annullamento della data registrazione/numerazione 
943        																	--						17: Estremi dell'atto di autorizzazione annullamento (alternativo al precedente e gestito solo se quello non è valorizzato)
944        																	--						18: Motivazioni dell'annullamento della data registrazione/numerazione
945        																	--						19: (valori 1/NULL) Se 1 significa che la registrazione/numerazione è stata richiesta dal sistema documentale
946        																	--						20: Identificativo dell'utente che ha annullato la registrazione
947        																	--						21: Codice che identifica l'utente che ha annullato la registrazione nell'applicazione esterna da cui ci si connette
948        																	--						22: Denominazione dell'utente che ha annullato la registrazione
949        																	--						23: Eventuale sub o appendice del n.ro di registrazione
950        																	--	#Append_#@RegistrazioniDate	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
951        																	--	#@NumerazioniDaDare		Lista con gli estremi della/e numerazioni da dare all'unità documentaria.
952        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
953        																	--						1: (obblig. se la categoria, ovvero colonna 3, non è specificata o è diversa da PG o se è PG ma si gestiscono più AOO nello stesso archivio) Sigla di numerazione
954        																	--						2: Anno di numerazione (se non specificato si intende l'anno corrente)
955        																	--						3: (facolt.) Categoria della numerazione; valori ammessi: PG = Protocollo Generale; PP = Protocollo Particolare; R = Repertorio; I = Altro tipo di numerazione
956        																	--									 Se non specificata si intende pari a I
957        																	--						4: Identificativo della UO che effettua la registrazione/numerazione
958        																	--						5: Denominazione della UO che effettua la registrazione/numerazione (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
959        																	--						6: N.ri livello della UO che effettua la registrazione/numerazione (tutti, separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
960        																	--						7: Data in cui decade la riservatezza data all'unità documentaria dalla data registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_DATA)
961        																	--						In caso di unità doc. già esistente, se la data numerazione per il dato anno già c'era, viene mantenuta quella preesistente senza dare errore
962        																	--	ATTENZIONE: le numerazioni da dare sono sempre aggiunte - append - alle eventuali numerazioni già generate per la data UD
963        																	--	#NomeUD				Nome dell'unità documentaria (quello con cui viene presentata e riconosciuta nella GUI). Se questo attributo non è presente e l'unità è da creare, il nome viene settato pari agli estremi della prima registrazione/numerazione data/da dare
964        																	--	#IdLibrary				Id. della libreria di appartenenza dell'unità documentaria
965        																	--	#NomeLibrary			Nome della libreria di appartenenza dell'unità documentaria
966        																	--	#@ClassFascTitolario		Lista delle classificazioni e/o fascicolazioni basate sul piano di classificazione. Se i fascicoli non esistono viene dato errore.
967        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
968        																	--						1: Identificativo della classificazione
969        																	--						2: N.ri livello della classificazione (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore previsto per i livelli di classificazione nel dominio di lavoro) 
970        																	--						3: Descrizione della classificazione (può essere quella semplice o la concatenazione con separatore "|" delle descrizioni delle calssificazioni superiori + quella della classificazione)
971        																	--						4: Anno di apertura del fascicolo (obblig. se si intende specificare un fascicolo)
972        																	--						5: N.ro progressivo del fascicolo (obblig. se si intende specificare un fascicolo)
973        																	--						6: N.ro di sotto-fascicolo
974        																	--						7: N.ro di inserto del sotto-fascicolo
975        																	--						8: N.ro secondario (numerazione alternativa) del fascicolo
976        																	--						9: Codice che indica il ruolo dell'unità documentraia nel fascicolo (valori da dizionario)
977        																	--						10: Descrizione del ruolo dell'unità documentria nel fascicolo (valori da dizionario)
978        																	--						11: Motivi (descrittivi) della relazione dell'unità documentria col fascicolo 
979        																	--						12: Id. folder del fascicolo o sottofascicolo
980        																	--	#Append_#@ClassFascTitolario	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
981        																	--	#@FolderCustom			Lista con i folder (esclusi i fascicoli basati sul piano di classificazione: dunque i fascicoli non di titolario, le serie, ecc.) in cui deve essere collocata l'unità documentaria. Se i folder non esistono viene dato errore.
982        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
983        																	--						1: Identificativo del folder
984        																	--						2: Path (con o senza nome della libreria di appartenenza)+ nome del folder (i vari livelli del percorso vanno separati con / o \)
985        																	--						3: Codice che indica il ruolo dell'unità documentraia nel folder (valori da dizionario)
986        																	--						4: Descrizione del ruolo dell'unità documentria nel folder (valori da dizionario)
987        																	--						5: Motivi (descrittivi) della relazione dell'unità documentria col folder 
988        																	--	#Append_#@FolderCustom		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
989        																	--	#@Workspaces			Lista con i dati degli eventuali workspace in cui collocare l'unità documentaria. I workspace devono essere già esistenti
990        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
991        																	--						1: Identificativo del workspace
992        																	--						2: Nome del workspace	
993        																	--						3: Motivi (descrittivi) della relazione dell'unità documentria col workspace
994        																	--	#Append_#@Workspaces		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
995        																	--	#@ACL					Lista con i permessi assentiti o negati sull'unità documentaria e i suoi documenti
996        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
997        																	--						1: (obblig.) Indicatore del tipo di destinatario del permesso
998        																	--							Valori possibili:
999        																	--							SP	= Soggetto produttore  
1000        																	-- 							AOO	= AOO 
1001        																	-- 							UT 	= Utente
1002        																	--							SV	= Scrivania virtuale
1003        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
1004        																	--							G	= Gruppo
1005        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
1006        																	--						2: Identificativo del destinatario del permesso
1007        																	--							è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
1008        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
1009        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
1010        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
1011        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
1012        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
1013        																	--						3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1014        																	--						4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
1015        																	--						5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
1016        																	--						6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1017        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
1018        																	--						8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
1019        																	--						9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
1020        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
1021        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
1022        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
1023        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
1024        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
1025        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
1026        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1027        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
1028        																	--						16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
1029        																	--						17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
1030        																	--						18:(valori 1/0/NULL) Indica se la visualizzazione dei file dell'unità documentaria è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
1031        																	--						19:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
1032        																	--						20:(valori 1/0/NULL) Indica se la modifica (intendendo anche il versioning) dei file dell'unità documentaria è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
1033        																	--						21:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
1034        																	--						22:(valori 1/0/NULL) Indica se la copia dell'unità doc. è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
1035        																	--						23:(valori 1/0/NULL) Indica se l'eliminazione dell'unità doc. è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
1036        																	--						24:(valori 1/0/NULL) Indica se il ripristino dell'unità doc. eliminata è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
1037        																	--						25:(valori 1/NULL) Se 1 indica se l'accesso agli eventuali file dell'unità documentaria è relativo alle sole versioni pubblicate
1038        																	--	#Append_#@ACL			Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
1039        																	--	#FlgEreditaPermessi		Valori 1/0/NULL. Indica se l'unità documentaria può ereditare i permessi da un folder o workspace di appartenenza
1040        																	--	#PathNomeFolderEreditaPerm	Percorso e nome del folder da cui l'unità documentaria deve ereditare i permessi (se folder di titolario il nome è dato da anno di apertura + livelli classificazione + n.ro progr. di fascicolo [+ n.ro di sottofascicolo] [+n.ro di inserto])
1041        																	--	#IdFolderEreditaPerm		Id. del folder da cui l'unità documentaria deve ereditare i permessi
1042        																	--	#NomeWorkspaceEreditaPerm	Nome del workspace da cui l'unità documentaria deve ereditare i permessi (altrenativo all'attributo precedente)	
1043        																	--	#IdWorkspaceEreditaPerm		Id. del workspace da cui l'unità documentaria deve ereditare i permessi
1044        																	--	#IdBatchGAE			(usato per GAE, connettore vs Conservazione) Id. del batch di documenti di appartenenza (dei batch di docuementi ricevuti dal documentale al fine di inviarli in conservazione)
1045        																	--	#IdLottoGAE			(usato per GAE, connettore vs Conservazione) Id. del lotto di documenti di appartenenza (dei lotti di docuementi ricevuti dal documentale al fine di inviarli in conservazione)
1046        																	--	#NroPosizioneDocInLottoGAE (usato per GAE, connettore vs Conservazione) Posizione del documento da registare all'interno del lotto di documenti di appartenenza (dei lotti di documenti ricevuti dal documentale al fine di inviarli in conservazione)
1047        																	--	#@AltriSoggettiInt		Lista con i soggetti interni che hanno ruoli rispetto all'unità documentaria diversi da quelli - produttori, destinatari, estensori - già gestiti in apposite variabili 
1048        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1049        																	--						1: (obblig.) Indicatore del tipo di soggetto
1050        																	--							Valori possibili:
1051        																	-- 							UT 	= Utente
1052        																	--							SV	= Scrivania virtuale
1053        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
1054        																	--							G	= Gruppo
1055        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
1056        																	--						2: Identificativo del soggetto
1057        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
1058        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
1059        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
1060        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
1061        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
1062        																	--						3: Denominazione/nome del soggetto (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1063        																	--						4: Identificativo della UO cui appartiene la scrivania
1064        																	--						5: Nri livello della UO o a cui appartiene la scrivania (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
1065        																	--						6: Denominazione della UO cui appartiene la scrivania (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1066        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente o quello che occupa la scrivania 
1067        																	--						8: Denominazione dell'utente che occupa la scrivania 
1068        																	--						9: (valore 1) Indica, nel caso di UO, se sono ricomprese anche tutte le sue sotto-UO
1069        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo 
1070        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo  (alternativo alla colonna 10)
1071        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente "soggetto" o di quello che occupa la scrivania "soggetto" 
1072        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo (alternativo alla colonna 10)
1073        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente soggetto o che occupa la scrivania soggetto 
1074        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo "soggetto" o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo "soggetto"
1075        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo "soggetto" o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo "soggetto" (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1076        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo "soggetto" o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo "soggetto" (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
1077        																	--						16:(valore 1) Indica che il ruolo amministrativo "soggetto" si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
1078        																	--						17: Codice del ruolo del soggetto rispetto all'unità documentaria (valori codificati in apposita disctionary entry)
1079        																	--						18: Ruolo del soggetto rispetto all'unità documentaria (valori in apposita disctionary entry)
1080        																	--	#Append_#@AltriSoggettiInt	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)			
1081        																	--	#CodRuoliAltriSoggIntInAppend	E' la lista dei codici dei ruoli che sono in append e non in sostituzione (separati da |*| se più di uno). Se questa variabile non è valorizzata ed è presente #Append_#@AltriSoggettiInt significa che l'append vale per tutti i ruoli. 	
1082        																	--	#CodRuoliAltriSoggIntToDel	E' la lista dei codici dei ruoli i cui soggetti - quelli che hanno il dato ruolo - sono da cancellare del tutto(separati da |*| se più di uno).  	
1083        																	--	#@InCaricoA				Indica a chi (non destinatario) mettere in carico copia dell'unità documentaria
1084        																	--						Chi ha in carico può essere specificato/variato solo se il documento non è ancora inviato
1085        																	--						Chi ha in carico può essere solo l'utente di lavoro o una UO/scrivania cui è collegato da appartenenza o delega o per cui può lavorare
1086        																	--						E' una lista mono-riga; la riga può contenere le seguenti colonne:
1087        																	--						1: (obblig.) Indicatore del tipo di soggetto
1088        																	--							Valori possibili:
1089        																	-- 							UT 	= Utente
1090        																	--							SV	= Scrivania virtuale
1091        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
1092        																	--						2: Identificativo del destinatario della copia
1093        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
1094        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
1095        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
1096        																	--						3: Denominazione/nome del soggetto(se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1097        																	--						4: Identificativo della UO cui appartiene la scrivania che rappresenta il soggetto
1098        																	--						5: Nri livello della UO che rappresenta il soggetto o a cui appartiene la scrivania che rappresenta il soggetto (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
1099        																	--						6: Denominazione della UO cui appartiene la scrivania che rappresenta il soggetto (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1100        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che rappresenta il soggetto o quello che occupa la scrivania che rappresenta il soggetto
1101        																	--						8: Denominazione dell'utente che occupa la scrivania che rappresenta il soggetto
1102        																	--						9: <Non utilizzata>
1103        																	--						10: <Non utilizzata>
1104        																	--						11: Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente che rappresenta il soggetto o che occupa la scrivania che rappresenta il soggetto
1105        																	--						12: Se colonna 1 =UT o SV: N.ro di matricola dell'utente che rappresenta il soggetto o che occupa la scrivania che rappresenta il soggetto  
1106        																	--						13: <Non utilizzata>
1107        																	--						14: <Non utilizzata>
1108        																	--						15: <Non utilizzata>
1109        																	--						16: <Non utilizzata>
1110        																	--						Se si vuole togliere chi ha in carico la copia basta settare a vuota la lista di questo attributo
1111        																	--  #ConfermaAssegnazione.IdUser		Id. dell'utente che deve confermare le assegnazioni
1112        																	--  #ConfermaAssegnazione.CIEstUser		Codice che identifica l'utente che deve confermare le assegnazioni nell'applicazione esterna da cui ci si connette
1113        																	--  #ConfermaAssegnazione.DesUser		Cognome e nome dell'utente che deve confermare le assegnazioni
1114        																	--  #ConfermaAssegnazione.Username		Username (interna ad Auriga) dell'utente che deve confermare le assegnazioni
1115        																	--	#@Assegnatari		Indica a chi - destinatario o meno, e comunque un soggetto interno - assegnare l'unità documentaria 
1116        																	--						Può essere specificato/variato solo se il documento NON è assegnato o se è assegnato all'utenza di lavoro o UO/Scrivania cui è collegato
1117        																	-- 						Ogni assegnatario è un tag "Riga" con le seguenti colonne:
1118        																	--						1: (obblig.) Indicatore del tipo di assegnatario
1119        																	--							Valori possibili:
1120        																	-- 							UT 	= Utente
1121        																	--							SV	= Scrivania virtuale
1122        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
1123        																	--							G	= Gruppo
1124        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
1125        																	--						2: Identificativo dell'assegnatario
1126        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
1127        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
1128        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
1129        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
1130        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
1131        																	--						3: Denominazione/nome dell'assegnatario (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1132        																	--						4: Identificativo della UO cui appartiene la scrivania assegnataria
1133        																	--						5: Nri livello della UO assegnataria o a cui appartiene la scrivania assegnataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
1134        																	--						6: Denominazione della UO cui appartiene la scrivania assegnataria (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1135        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente assegnatario o quello che occupa la scrivania assegnataria
1136        																	--						8: Denominazione dell'utente che occupa la scrivania assegnataria
1137        																	--						9: (valore 1) Indica che l'assegnatario, se UO, sono anche tutte le sue sotto-UO
1138        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo assegnatario
1139        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo assegnatario (alternativo alla colonna 10)
1140        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente assegnatario o che occupa la scrivania assegnataria 
1141        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo assegnatario (alternativo alla colonna 10)
1142        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente assegnatario o che occupa la scrivania assegnataria 
1143        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo assegnatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo assegnatario
1144        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo assegnatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo assegnatario (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1145        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo assegnatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo assegnatario (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
1146        																	--						16:(valore 1) Indica che il ruolo amministrativo assegnatario si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
1147        																	--						17: Codice del ruolo dell'assegnatario (valori codificati in apposita disctionary entry)
1148        																	--						18: Ruolo dell'assegnatario (valori in apposita disctionary entry)
1149        																	--						19: Flag che indica la modalità di accesso da dare all'assegnatario sull'unità documentaria (ovvero indica le opzioni di accesso che avrà l'assegnatario nell'ACL dell'UD dopo l'invio, salvo ne avesse già di più ampie)
1150        																	--						    Valori possibili: FC = Full control; M = Modifica metadati e files/contenuti; MM = Modifica soli metadati; V = Sola visualizzazione; VM = Visualizzazione dei soli metadati (non dei files)
1151        																	--						20: (valori 1/NULL) Se 1 indica che è richiesta la notifica di presa in carico per il dato assegnatario 
1152        																	--						21: N.ro di giorni, a partire dalla decorrenza dell'assegnazione, trascorsi i quali senza che sia avvenuta la presa in carico, ci deve essere la notifica di mancata presa in carico da parte del dato assegnatario
1153        																	--						22: Cod. motivo assegnazione al dato assegnatario
1154        																	--						23: Cod. priorità assegnazione al dato assegnatario
1155        																	--						24: (flag 1/0) Se 1 significa che al dato assegnatario va assegnato anche tutto il fascicolo di appartenenza (se 1 solo) 
1156        																	--						25: (flag 1/0) Se 1 significa che al dato assegnatario vanno assegnati anche tutti i documenti collegati (quelli assegnati alla/e strutture dell'utente di lavoro)
1157        																	--						26: (flag 1/0) Se 1 significa che va mentenuta una copia presso chi assegna
1158        																	--						27: Messaggio a corredo dell'assegnazione al dato assegnatario
1159        																	--						28: Id. UO del punto di protocollo a cui assegnare se l'assegnazione non può essere direttamente all'assegnatario indicato e se questo è associato a più punti di protocollo
1160        																	--						29: (1/0) Se 1 significa che è richiesta notifica mail dell'assegnazione
1161        																	--  #CodMotivoAssegn	Cod. del motivo dell'assegnazione agli assegnatari (da dizionario)
1162        																	--	#MotivoAssegn		Motivo dell'assegnazione agli assegnatari (da dizionario)
1163        																	--	#@InvioDestCC		Indica a chi, soggetto interno, inviare per conoscenza l'unità documentaria 
1164        																	-- 						Ogni destinatario di invio per conoscenza è un tag "Riga" con le seguenti colonne:
1165        																	--						1: (obblig.) Indicatore del tipo di destinastario
1166        																	--							Valori possibili:
1167        																	-- 							UT 	= Utente
1168        																	--							SV	= Scrivania virtuale
1169        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
1170        																	--							G	= Gruppo
1171        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
1172        																	--							R@	= Soggetti interni che hanno un certo ruolo rispetto al documento / folder
1173        																	--						2: Identificativo del destinatario
1174        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
1175        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
1176        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
1177        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
1178        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
1179        																	--							è un COD_NATURA_REL di DMT_REL_SOGG_INT_DOC/DMT_REL_SOGG_INT_FOLDER che indica il codice del ruolo rispetto al documento / folder se colonna 1 = R@. Può avere i valori particolari: #CON_ACCESSO (= tutti coloro che hanno accesso anche in sola visualizzazione) e #CON_ACCESSO_IN_MODIFICA (= tutti coloro che hanno accesso anche in modifica dei metadati e/o file)
1180        																	--						3: Denominazione/nome del destinatario (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|"). Se colonna 1 = R@ è la descrizione del ruolo rispetto al documento / folder
1181        																	--						4: Identificativo della UO cui appartiene la scrivania destinataria
1182        																	--						5: Nri livello della UO destinataria o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
1183        																	--						6: Denominazione della UO cui appartiene la scrivania destinataria (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1184        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario o quello che occupa la scrivania destinataria
1185        																	--						8: Denominazione dell'utente che occupa la scrivania destinataria
1186        																	--						9: (valore 1) Indica che il destinatario, se UO, sono anche tutte le sue sotto-UO
1187        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario
1188        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario (alternativo alla colonna 10)
1189        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario o che occupa la scrivania destinataria 
1190        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario (alternativo alla colonna 10)
1191        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario o che occupa la scrivania destinataria 
1192        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario
1193        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1194        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
1195        																	--						16:(valore 1) Indica che il ruolo amministrativo destinatario si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
1196        																	--						17: Codice del ruolo del destinatario (valori codificati in apposita disctionary entry)
1197        																	--						18: Ruolo del destinatario (valori in apposita disctionary entry)
1198        																	--						19: Flag che indica la modalità di accesso da dare al destinatario sull'oggetto inviato (ovvero indica le opzioni di accesso che avrà il destinatario nell'ACL dell'oggetto dopo l'invio, salvo ne avesse già di più ampie)
1199        																	--						    Valori possibili: FC = Full control; M = Modifica metadati e files/contenuti; MM = Modifica soli metadati; V = Sola visualizzazione; VM = Visualizzazione dei soli metadati (non dei files)
1200        																	--						20: (valori 1/NULL) Se 1 indica che è richiesta la notifica di presa visione per il dato destinatario (anche se non è stata richiesta per tutti i destinatari questa notifica)
1201        																	--						21: N.ro di giorni, a partire dalla decorrenza della notifica, trascorsi i quali senza che sia avvenuta la presa visione, ci deve essere la notifica di mancata presa visione da parte del dato destinatario (anche se tale notifica non è richiesta per tutti i destinatari)
1202        																	--						22: Cod. motivo invio al dato destinatario
1203        																	--						23: Cod. priorità invio al dato destinatario
1204        																	--						24: (flag 1/0) Se 1 significa che al dato destinatario va inviato anche tutto il fascicolo di appartenenza (se 1 solo) 
1205        																	--						25: (flag 1/0) Se 1 significa che al dato destinatario vanno inviati anche tutti i documenti collegati (quelli assegnati alla/e strutture dell'utente di lavoro)
1206        																	--						26: non utilizzata
1207        																	--						27: Messaggio a corredo dell'invio al dato destinatario
1208        																	--						29: (1/0) Se 1 significa che è richiesta notifica mail dell'invio in cc
1209        																	--	#@RelazioniVsUD			Lista delle relazioni dell'unità documentaria con altre unità documentarie (relazioni di precedente-successivo ecc.)
1210        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1211        																	--						1: Identificativo dell'unità documentaria collegata
1212        																	--						2: Categoria di una registrazione/numerazione dell'unità documentaria collegata; valori ammessi: PG = Protocollo Generale; PP = Protocollo Particolare; R = Repertorio; E = Registrazione d'emergenza; A = Altro tipo di numerazione
1213        																	--						3: Sigla di una registrazione/numerazione dell'unità documentaria collegata
1214        																	--						4: Anno di una registrazione/numerazione dell'unità documentaria collegata
1215        																	--						5: N.ro di una registrazione/numerazione dell'unità documentaria collegata
1216        																	--						6: Codice della categoria/natura generale della relazione tra le due unità doc. (valori da dizionario)
1217        																	--						7: Descrizione della categoria/natura generale della relazione tra le due unità doc. (valori da dizionario)
1218        																	--						8: Codice del ruolo che svolge nella relazione l'unità documentaria da creare/aggiornare (valori da dizionario)
1219        																	--						9: Descrizione del ruolo che svolge nella relazione l'unità documentaria da creare/aggiornare (valori da dizionario)
1220        																	--						10: Codice del ruolo che svolge nella relazione l'unità documentaria collegata a quella da creare/aggiornare (valori da dizionario)
1221        																	--						11: Descrizione del ruolo che svolge nella relazione l'unità documentaria collegata a quella da creare/aggiornare (valori da dizionario)
1222        																	--						12: Dettagli della relazione (campo descrittivo)
1223        																	--						22: Sub del n.ro di registrazione
1224        																	--						23: Flag SI/NO: se SI si tratta di un riferimento ad estremi di documento/atto NON presente a sistema
1225        																	--	#Append_#@RelazioniVsUD		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
1226        																	--	#FlgArchivio			Indica il tipo di archivio a cui appartiene l'unità documentaria: C = Corrente; D = di Deposito; S = Storico
1227        																	--	#FlgTipoProv			Indica se unità documentaria in entrata (E), in uscita (U) o interna/tra uffici (I)
1228        																	--	#TsArrivo				Data e ora di ricezione dell'unità documentaria se in entrata (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
1229        																	--	#IdUDAutRegDiff			Identificativo dell'unità documentaria che rappresenta l'autorizzazione al differimento della registrazione della corrente unità documentaria
1230        																	--	#EstremiAutRegDiff		Estremi dell'atto di autorizzazione al differimento della registrazione della corrente unità documentaria (alternativo al campo precedente, qualora l'atto di aut. al differimento non sia un'unità doc. a sistema)
1231        																	--	#MotiviRegDiff			Motivi del differimento di registrazione della corrente unità documentaria
1232        																	--	#TsTerminXRegDiff			Data e ora che costituiscono un termine rilevante per la ricezione dell'unità documentaria (ad esempio: termine presentazione domande a concorso o offerte di gara) e che a causa del differimento è precedente alla data di registrazione ma non a quella effettiva di ricezione (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
1233        																	--	#DtDocRicevuto			Data di registrazione del documento ricevuto se unità doc. in entrata (ad esempio la data del Protocollo mittente)(nel formato dato dal parametro di conf. FMT_STD_DATA)
1234        																	--	#AnnoDocRicevuto			Anno di registrazione del documento ricevuto se unità doc. in entrata (ad esempio l'anno del Protocollo mittente)
1235        																	--	#EstremiRegDocRicevuto		Estremi di registrazione del documento ricevuto se unità doc. in entrata (ad esempio anno e numero del Protocollo mittente)
1236        																	--	#RifDocRicevuto			Altri riferimenti del documento ricevuto se unità doc. in entrata
1237        																	--	#CodMezzoTrasm			Codice che indica il mezzo di trasmissione dell'unità documentaria dai mittenti/ai destinatari esterni al/dal soggetto produttore/AOO (se in uscita è il mezzo di trasmissione a tutti i destinatari per cui non sia diversamente specificato). Valori in dizionario
1238        																	--	#DesMezzoTrasm			Descrizione del mezzo di trasmissione dell'unità documentaria dai mittenti/ai destinatari esterni al/dal soggetto produttore/AOO (se in uscita è il mezzo di trasmissione a tutti i destinatari per cui non sia diversamente specificato). Valori in dizionaro
1239        																	--	#DtRaccomandata			Data di raccomandata (se la trasmissione è tramite raccomandata) (se in uscita è la data di raccomandata a tutti i destinatari per cui non sia diversamente specificata)(nel formato dato dal parametro di conf. FMT_STD_DATA)
1240        																	--	#NroRaccomandata			Nro di raccomandata (se la trasmissione è tramite raccomandata) (se in uscita è il n.ro di raccomandata a tutti i destinatari per cui non sia diversamente specificato)
1241        																	--	#NroListaRaccomandata	Nro della lista di appartenenza della raccomandata (se la trasmissione è tramite raccomandata)
1242        																	--	#DtNotifica				Data di notifica (per unità doc. in uscita è la data di notifica a tutti i destinatari per cui non sia diversamente specificata)(nel formato dato dal parametro di conf. FMT_STD_DATA)
1243        																	--	#NroNotifica			Nro di notifica (per unità doc. in uscita è il n.ro di notifica a tutti i destinatari per cui non sia diversamente specificato)
1244        																	--	#IndirizzoProv.CITopon	 	Codice toponomastico (cioè nel viario) della via/piazza ecc. dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1245        																	--	#IndirizzoProv.DesIndirizzo 	Via/piazza ecc. dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria
1246        																	--	#IndirizzoProv.Frazione 	Frazione dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria) 
1247        																	--	#IndirizzoProv.Zona			Zona dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1248        																	--	#IndirizzoProv.Complemento	Complemento (i.e. altri dati) dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1249        																	--	#IndirizzoProv.Civico 		N.ro civico (senza eventuale esponente o altre appendici) dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1250        																	--	#IndirizzoProv.AppendiciCivico 		Appendici del n.ro civico (esponente, bis/ter ecc, colore) dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1251        																	--	#IndirizzoProv.Interno 		Interno del civico dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1252        																	--	#IndirizzoProv.Scala 		Scala del civico dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1253        																	--	#IndirizzoProv.Piano 		Piano nel civico dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1254        																	--	#IndirizzoProv.CAP 		Codice Avviamento Postale dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1255        																	--	#IndirizzoProv.CodIstatCom 	Codice istat del comune (se italiano) dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1256        																	--	#IndirizzoProv.NomeComCitta 	Nome del comune/città dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1257        																	--	#IndirizzoProv.CodIstatStato 	Codice istat dello stato estero dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1258        																	--	#IndirizzoProv.NomeStato 	Nome dello stato estero dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
1259        																	--	#EmailProv.Id				Id. (PK in T_EMAIL_MGO) della mail in arrivo che ha dato luogo all'unità documentaria 
1260        																	--	#EmailProv.Indirizzo		Indirizzo e-mail di provenienza (se unità documentaria in entrata tramite posta elettronica) 
1261        																	--	#EmailProv.FlgCasellaIstituz	Indicatore che l'indirizzo e-mail di provenienza è una casella istituzionale di un'AOO. Valore fisso 1.
1262        																	--	#EmailProv.FlgDichIPA		Indicatore che l'indirizzo e-mail di provenienza è dichiarato all'Indice PA. Valore fisso 1.
1263        																	--	#EmailProv.FlgPEC			Indicatore che l'indirizzo e-mail di provenienza è un idirizzo di Posta Elettronica Certificata. Valore fisso 1.
1264        																	--	#EmailProv.GestorePEC		Estremi del gestore della casella e-mail di provenienza se è di Posta Elettronica Certificata.
1265        																	--	#IdUORicezione			Identificativo della UO che ha ricevuto l'unità documentaria in entrata
1266        																	--	#LivelliUORicezione		Nri livello della UO che ha ricevuto l'unità documentaria in entrata (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)																	
1267        																	--	#DesUORicezione			Denominazione della UO che ha ricevuto l'unità documentaria in entrata (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1268        																	--	#IdUserRicezione			Identificativo (quello interno al sistema) dell'utente che ha ricevuto l'unità documentaria in entrata
1269        																	--	#CIEstUserRicezione		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha ricevuto l'unità documentaria in entrata
1270        																	--	#DesUserRicezione			Descrizione dell'utente che ha ricevuto l'unità documentaria in entrata
1271        																	--	#FlgInteroperabilita		Se valorizzato (valore fisso 1) indica che l'unità documentaria è entrata o uscita tramite interoperabilità tra Protocolli Informatici
1272        																	--	#IdUserCtrlAmmissib		Identificativo (quello interno al sistema) dell'utente che ha effettuata il controllo di ammissibilità dell'unità documentaria in ingresso con il meccanismo dell'interoperabilità tra Protocolli Informatici
1273        																	--	#CIEstUserCtrlAmmissib		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuata il controllo di ammissibilità dell'unità documentaria in ingresso con il meccanismo dell'interoperabilità tra Protocolli Informatici
1274        																	--	#DesUserCtrlAmmissib		Descrizione dell'utente che ha effettuata il controllo di ammissibilità dell'unità documentaria in ingresso con il meccanismo dell'interoperabilità tra Protocolli Informatici
1275        																	--	#TsSpedizione			Data e ora di spedizione dell'unità documentaria se ricevuta via PEC (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
1276        																	--	#DtSpedizione			Data di spedizione dell'unità documentaria se in uscita (nel formato dato dal parametro di conf. FMT_STD_DATA)
1277        																	--	#IdUserSpedizione			Identificativo (quello interno al sistema) dell'utente che ha effettuato la spedizione dell'unità documentaria (in uscita)
1278        																	--	#CIEstUserSpedizione		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuato la spedizione dell'unità documentaria (in uscita)
1279        																	--	#DesUserSpedizione		Descrizione dell'utente che ha effettuato la spedizione dell'unità documentaria (in uscita)
1280        																	--	#IdUOSpedizione			Identificativo della UO che ha effettuato la spedizione dell'unità documentaria (in uscita)
1281        																	--	#LivelliUOSpedizione		Nri livello della UO che ha effettuato la spedizione dell'unità documentaria (in uscita)(tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)																	
1282        																	--	#DesUOSpedizione			Denominazione della UO che ha effettuato la spedizione dell'unità documentaria (in uscita)(può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1283        																	--	#NroAllegati			N.ro di allegati (se non specificato si intende pari al n.ro di allegati presenti in DB)      																	
1284        																	--	#LivEvidenza                  Livello di evidenza assegnato all'unità documentaria (il massimo valore possibile è dato dal parametro di configurazione MAX_LIV_EVIDENZA)
1285        																	--	#FlgInteresseCessato		Se pari a 1 indica che è cessato l'interesse sull'unità documentaria, se 0 o NULL che l'interesse è attivo
1286        																	--	#CollocazioneFisica.IdTopografico	Id. del luogo - censito nel topografico - in cui è collocata l'unità documentaria
1287        																	--  #CollocazioneFisica.Descrizione		Descrizione libera della collocazione fisica dell'unità documentaria
1288        																	--	#FlgConservPerm			Se valorizzato (valore fisso 1) indica che l'unità documentaria deve essere conservata illimitatamente		
1289        																	--	#PeriodoConserv               Periodo minimo di conservazione (espresso in anni) dell'unità documentaria (se non specificato può essere ereditato da quelli definiti per la tipologia del doc. primario o la/le classificazione o il tipo del/dei fascicolo di appartenenza o il tipo del/i procedimenti di afferenza)
1290        																	--	#CodSupportoConserv		Codice del supporto fisico di conservazione (carta, disco ottico, microfilm ecc) dell'unità documentaria. Valori da dizionario
1291        																	--	#DesSupportoConserv		Descrizione del supporto fisico di conservazione (carta, disco ottico, microfilm ecc) dell'unità documentaria. Valori da dizionario
1292        																	--	#DtScarto                     Data di scarto archivistico (vale a dire esculsione dal processo di conservazione) dell'unità documentaria (nel formato dato dal parametro di conf. FMT_STD_DATA)
1293        																	--	#IdUserScarto           	Identificativo (quello interno al sistema) dell'utente che ha effettuato lo scarto archivistico dell'unità documentaria
1294        																	--	#CIEstUserScarto			Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuato lo scarto archivistico dell'unità documentaria	
1295        																	--	#DesUserScarto			Descrizione dell'utente che ha effettuato lo scarto archivistico dell'unità documentaria
1296        																	--	#IdUserAutScarto           	Identificativo (quello interno al sistema) dell'utente che ha autorizzato lo scarto archivistico dell'unità documentaria
1297        																	--	#CIEstUserAutScarto		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato lo scarto archivistico dell'unità documentaria	
1298        																	--	#DesUserAutScarto			Descrizione dell'utente che ha autorizzato lo scarto archivistico dell'unità documentaria
1299        																	--	#NoteUD				Annotazioni dell'unità documentaria
1300        																	--	#CodStato				Codice dello stato dell'unità documentaria 
1301        																	--	#CodStatoDett			Codice dello stato di dettaglio dell'unità documentaria		
1302        																	--	#DesStato				Descrizione dello stato dell'unità documentaria
1303        																	--	#DesStatoDett			Descrizione dello stato di dettaglio dell'unità documentaria
1304        																	--	#ProvCIUD				Codice identificativo dell'unità documentaria in un eventuale sistema di provenienza
1305        																	--	#DataEsecutivita		Data di escutività
1306        																	--	#DataAdozione			Data di adozione
1307        																	--  #MotiviModificaDatiRegistrazione Motivo per cui si modificano i dati dell'unità documentaria - se registrata su registro ufficiale quali quelli di protocollo e repertorio - che figurano nel registro di protocollo/repertorio
1308        																	--  #ProcessToStart.IdBPMProcessDef 	Id. del flusso BPM (comprensivo di versione) con il quale avviare un processo legato al folder aperto dall'unità documentaria
1309        																	--										se il folder ha già un processo associato la variabile viene ignorata
1310        																	--  #ProcessToStart.IdBPMProcessInst	Id. dell'istanza di processo BPM con la quale avviare un processo legato al folder aperto dall'unità documentaria
1311        																	--										se il folder ha già un processo associato la variabile viene ignorata
1312        																	--	#RichPubblicazione.CodCategoriaReg	Cod. categoria della registrazione dell'atto da inviare in pubblicazione. PG = Protocollo Generale, R = Repertorio
1313        																	--	#RichPubblicazione.SiglaReg			Sigla del repertorio della registrazione dell'atto da inviare in pubblicazione
1314        																	--	#RichPubblicazione.NumReg			Nro di registrazione dell'atto da inviare in pubblicazione
1315        																	--	#RichPubblicazione.TsReg			Data e ora registrazione dell'atto da inviare in pubblicazione. Se non speceificata viene considerata come data di regitrazione #RichPubblicazione.DtAdozione. Nel formato DD/MM/RRRR HH24:MI:SS
1316        																	--	#RichPubblicazione.DtAdozione		Data e ora registrazione dell'atto da inviare in pubblicazione. Se non speceificata viene considerata come data di regitrazione #RichPubblicazione.DtAdozione. Nel formato DD/MM/RRRR HH24:MI:SS
1317        																	--	#RichPubblicazione.DtInizioPubbl	Data di inizio pubblicazione richiesta (all'Albo o B.U.)
1318        																	--  #RichPubblicazione.NroGGPubbl  		N.ro di giorni di pubblicazione
1319        																	--  #RichPubblicazione.FormaPubblicazione	Forma di pubblicazione: INTEGRALE o PER_ESTRATTO
1320        																	--  #RichPubblicazione.DtInizioRiPubbl	Data di inizio 2a pubblicazione richiesta (all'Albo o B.U.)
1321        																	--  #RichPubblicazione.NroGGRiPubbl  	N.ro di giorni 2a pubblicazione
1322        																	--  #RichPubblicazione.Note				Note pubblicazione
1323        																	--  @Allegati				Contiene informazioni sugli allegati eventuali da creare insieme al documento principale
1324        																	--							Viene gestita solo in caso di creazione del documento primario
1325        																	--							Ogni riga rappresenta un allegato e contiene le seguenti colonne:
1326        																	--							1:	Nome file per visualizzazione (senza rinomina se manca estensione o estensione non coerente con formato)
1327        																	--							2:	URI del file in notazione StorageUtil
1328        																	--							3:	Id. della tipologia documentale dell'allegato
1329        																	--							4:	Nome della tipologia documentale dell'allegato
1330        																	--							5:	Descrizione dell'allegato
1331        																	--							6:	Dimensione (in bytes)
1332        																	--							7: 	Impronta
1333        																	--							8: 	Algoritmo impronta
1334        																	--							9: 	Encoding impronta
1335        																	--							10: Flg file firmato (valori 1/0)
1336        																	--							11: Mimetype
1337        																	--							12: Firmatari considerando solo sottoscrizioni digitali(se più di uno separati da ";" )
1338        																	--							13: Indicazione del tipo di firma (CAdES o PAdES o XAdES)
1339        																	--							14: Info di verifica della firma 
1340        																	--							15: Data e ora delle marca se presente marca temporale valida (nel formato DD/MM/RRR HH24:MI:SS)
1341        																	--							16: Tipo di marca temporale se presente
1342        																	--							17: Informazioni di verifica della marca temporale se presente
1343        																	--							19: Codice del tipo di supporto su cui originariamente è stato acquisito o prodotto il documento (cartaceo, informatico ecc). Valori da dizionario
1344        																	--							20: Indica se il documento cartaceo è: originale unico (OU), originale non unico (ONU), copia (C)
1345        																	--							21: ID dell'allegato nel sistema di provenienza
1346        																	--							22: Data e ora della firma digitale della busta crittografica più esterna, se presente (nel formato DD/MM/RRR HH24:MI:SS)
1347        																	--							23: Flag di firma non valida alla data (valori 1/0/NULL) (la firma della busta crittografica più esterna)
1348        																	--							24: Flag di manca temporale non valida alla data (valori 1/0/NULL)--	<Nome identificativo attributo dinamico (ATTR_NAME)>_Ud: qualsiasi attributo dinamico specificabile per un'unità documentaria (nel dominio di lavoro)			
1349        																	-- E gli attributi del documento sono:
1350        																	-- Quelli non relativi alla versione elettronica:
1351        																	--	#IdUD					Id. dell'unità documentaria di appartenenza (se già esistente)
1352        																	--	#FlgVersConOmissis		Se 1 il documento è la versione con omissis di altro documento della stessa UD
1353        																	--	#IdDocVersIntegrale		ID_DOC del documento di cui quello corrente è la versione con omissis
1354        																	--	#CodCategoriaRegUD		Codice di una categoria di registrazione dell'unità documentaria di appartenenza (se già esistente)
1355        																	--	#SiglaRegUD				Sigla di registrazione/numerazione dell'unità documentaria di appartenenza (se già esistente)
1356        																	--	#AnnoRegUD				Anno di registrazione/numerazione dell'unità documentaria di appartenenza (se già esistente)
1357        																	--	#NroRegUD				N.ro di registrazione/numerazione dell'unità documentaria di appartenenza (se già esistente)
1358        																	--	#CodNaturaRelVsUD			Codice della natura della relazione del documento (allegato, mail ricevuta, ricevuta di accettazione ecc) con l'unità documentaria. Valori da dizionario.
1359        																	--						Da specificare solo se l'unità documentaria è preesistente (altrimenti il documento è necessariamente il primario dell'unità doc.)
1360        																	--	#DesNaturaRelVsUD			Natura della relazione del documento (allegato, mail ricevuta, ricevuta di accettazione ecc) con l'unità documentaria. Valori da dizionario.
1361        																	--						Da specificare solo se l'unità documentaria è preesistente (altrimenti il documento è necessariamente il primario dell'unità doc.)
1362        																	--	#DettagliRelVsUD			Dettagli della relazione del documento con l'unità documentaria.
1363        																	--						Da specificare solo se l'unità documentaria è preesistente (e quindi il documento non è il primario)
1364        																	--	#IdDocType				Identificativo del tipo del documento
1365        																	--	#NomeDocType			Nome del tipo del documento
1366        																	--	#ProvCIDocType			Codice identificativo del tipo documento nel sistema di provenienza (PROV_CI_DOC_TYPE)
1367        																	--	#@MittentiEsterni			Lista con i dati dei mittenti esterni.
1368        																	--						ATTENZIONE: possono essere o meno soggetti censiti nella rubrica del sistema ed eventualmente anche nell'anagrafe residenti o ditte
1369        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
1370        																	--								tutti gli altri campi (colonne dalla 3 alla 14) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul documento)
1371        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul documento vengono riportati come nel tag
1372        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al documento
1373        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1374        																	--						1: Identificativo del soggetto nella rubrica soggetti del sistema
1375        																	--						2: Codice identificativo del soggetto nell'anagrafe residenti o ditte 
1376        																	--						3: Se valorizzato (valore fisso 1) indica che il soggetto è una persona fisica (altrimenti si intende essere una persona giuridica)
1377        																	--						4: Denominazione (se persona giuridica) o cognome (se persona fisica)
1378        																	--						5: Nome (se persona fisica)
1379        																	--						6: Codice fiscale
1380        																	--						7: Partita IVA
1381        																	--						8: Sesso (valori F/M/NULL) (se persona fisica)
1382        																	--						9: Data di nascita/istituzione (nel formato dato dal parametro FMT_STD_DATA)
1383        																	--						10: Codice ISTAT del comune di nascita/istituzione
1384        																	--						11: Nome del comune (se italiano) o città estera di nascita/istituzione
1385        																	--						12: Codice ISTAT dello stato estero di nascita/istituzione
1386        																	--						13: Nome dello stato estero di nascita/istituzione
1387        																	--						14: Codice ISTAT dello stato di cittadinanza
1388        																	--						15: Nome dello stato di cittadinanza
1389        																	--						16: Indicatore di soggetto da registrare in rubrica soggetti se non vi è già presente (in base ai criteri stabiliti per il test di esistenza). Valore fisso 1.
1390        																	--						17: Cod. rapido assegnatogli in rubrica
1391        																	--						24: Codice toponomastico (cioè nel viario) della via/piazza ecc. dell'indirizzo 
1392        																	--						25: Via/piazza ecc. dell'indirizzo fisico 
1393        																	--						26: Località dell'indirizzo fisico  
1394        																	--						27: N.ro civico (senza eventuale esponente o altre "appendici" quali colore ecc che vanno in colonna 47) dell'indirizzo fisico 
1395        																	--						28: Interno del civico dell'indirizzo fisico 
1396        																	--						29: Scala del civico dell'indirizzo fisico 
1397        																	--						30: Piano nel civico dell'indirizzo fisico 
1398        																	--						31: Codice Avviamento Postale dell'indirizzo fisico 
1399        																	--						32: Codice istat del comune (se italiano) dell'indirizzo fisico 
1400        																	--						33: Nome del comune/città dell'indirizzo fisico 
1401        																	--						34: Codice istat dello stato estero dell'indirizzo fisico 
1402        																	--						35: Nome dello stato estero dell'indirizzo fisico 
1403        																	--						43: N.ro che indica la posizione del mittente tra tutti i destinatari interni ed esterni del documento 
1404        																	--						44: Titolo di studio/professionale
1405        																	--						45: Zona dell'indirizzo fisico 
1406        																	--						46:	Complemento (i.e. altri dati) dell'indirizzo fisico 
1407        																	--						47: Appendici del n.ro civico (esponente, bis/ter ecc, colore) dell'indirizzo fisico 
1408        																	--						48: non utilizzato
1409        																	--					    49: Tipo di toponimo dell'indirizzo fisico di invio al destinatario
1410        																	--						50: Indirizzo e-mail
1411        																	--						51: N.ro di telefono
1412        																	--						52: Userid del mittente
1413        																	--	#@DestinatariEsterni		Lista con i dati dei destinatari (in realtà possono essere esterni o interni)
1414        																	--						ATTENZIONE: possono essere o meno soggetti censiti nella rubrica del sistema ed eventualmente anche nell'anagrafe residenti o ditte
1415        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
1416        																	--								tutti gli altri campi (colonne dalla 3 alla 15) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul documento)
1417        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul documento vengono riportati come nel tag
1418        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al documento
1419        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1420        																	--						1: Identificativo del soggetto nella rubrica soggetti del sistema
1421        																	--						2: Codice identificativo del soggetto nell'anagrafe residenti o ditte 
1422        																	--						3: Se valorizzato (valore fisso 1) indica che il soggetto è una persona fisica (altrimenti si intende essere una persona giuridica)
1423        																	--						4: Denominazione (se persona giuridica) o cognome (se persona fisica)
1424        																	--						5: Nome (se persona fisica)
1425        																	--						6: Codice fiscale
1426        																	--						7: Partita IVA
1427        																	--						8: Sesso (valori F/M/NULL) (se persona fisica)
1428        																	--						9: Data di nascita/istituzione (nel formato dato dal parametro FMT_STD_DATA)
1429        																	--						10: Codice ISTAT del comune di nascita/istituzione
1430        																	--						11: Nome del comune (se italiano) o città estera di nascita/istituzione
1431        																	--						12: Codice ISTAT dello stato estero di nascita/istituzione
1432        																	--						13: Nome dello stato estero di nascita/istituzione
1433        																	--						14: Codice ISTAT dello stato di cittadinanza
1434        																	--						15: Nome dello stato di cittadinanza
1435        																	--						16: Indicatore di soggetto da registrare in rubrica soggetti se non vi è già presente (in base ai criteri stabiliti per il test di esistenza). Valore fisso 1.
1436        																	--						17: Codice che indica il mezzo di trasmissione dell'unità documentaria al destinataro. Valori in dizionario
1437        																	--						18: Descrizione del mezzo di trasmissione dell'unità documentaria al destinatario. Valori in dizionaro
1438        																	--						19: Data e ora di spedizione/invio al destinatario (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
1439        																	--						20: Data di raccomandata (se la trasmissione è tramite raccomandata)(nel formato dato dal parametro di conf. FMT_STD_DATA)
1440        																	--						21: Nro di raccomandata al destinatario (se la trasmissione è tramite raccomandata)
1441        																	--						22: Data di notifica al destinatario (nel formato dato dal parametro di conf. FMT_STD_DATA)
1442        																	--						23: Nro di notifica al destinatario
1443        																	--						24: Codice toponomastico (cioè nel viario) della via/piazza ecc. dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
1444        																	--						25: Via/piazza ecc. dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
1445        																	--						26: Località dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria) 
1446        																	--						27: N.ro civico (senza eventuale esponente o altre "appendici" quali colore ecc che vanno in colonna 47) dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
1447        																	--						28: Interno del civico dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
1448        																	--						29: Scala del civico dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
1449        																	--						30: Piano nel civico dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
1450        																	--						31: Codice Avviamento Postale dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
1451        																	--						32: Codice istat del comune (se italiano) dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
1452        																	--						33: Nome del comune/città dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
1453        																	--						34: Codice istat dello stato estero dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
1454        																	--						35: Nome dello stato estero dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
1455        																	--						36: Indirizzo e-mail del destinatario (se invio tramite posta elettronica) 
1456        																	--						37: Indicatore che l'indirizzo e-mail del destinatario è un idirizzo di Posta Elettronica Certificata. Valore fisso 1.
1457        																	--						38: Estremi del gestore della casella e-mail del destinatario se è di Posta Elettronica Certificata.
1458        																	--						39: Indicatore di destinatario per conoscenza. Valore fisso 1. 
1459        																	--						40: Indicatore che l'indirizzo e-mail del destinatario è dichiarato all'Indice PA. Valore fisso 1.
1460        																	--						41: Indicatore che l'indirizzo e-mail del destinatario è una casella istituzionale di un'AOO. Valore fisso 1.
1461        																	--						42: Nro fax del destinatario (se invio tramite fax) 
1462        																	--						43: N.ro che indica la posizione del destinatario tra tutti i destinatari interni ed esterni del documento 
1463        																	--						44: Titolo di studio/professionale
1464        																	--						45: Zona dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria) 
1465        																	--						46:	Complemento (i.e. altri dati) dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria) 
1466        																	--						47: Appendici del n.ro civico (esponente, bis/ter ecc, colore) dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
1467        																	--						48: Cod. rapido assegnatogli in rubrica
1468        																	--					    49: Tipo di toponimo dell'indirizzo fisico di invio al destinatario
1469        																	--						53: Tipo di destinatario; valori ammessi: UOI = Unità Operativa dell'organigramma; UP = Unità di personale
1470        																	--						54: Id. UO / id. scrivania (se colonna 53 è valorizzata)
1471        																	--						57: Indicatore di destinatario che è anche assegnatario (possibile solo se destinatario interno). Valore fisso 1.
1472        																	--	#@GruppiDestinatari	Lista con i gruppi/liste di distribuzione di destinatari
1473        																	--						ATTENZIONE: devono essere gruppi/liste di distribuzione censite nella rubrica del sistema
1474        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
1475        																	--								tutti gli altri campi (colonne dalla 3 alla 15) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul documento)
1476        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul documento vengono riportati come nel tag
1477        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al documento
1478        																	--						Ciscuna riga della lista è un gruppo/lista di distribuzione e può contenere le seguenti colonne:
1479        																	--						1: Identificativo (ID_GRUPPO) del gruppo/lista di distribuzione
1480        																	--						2: Nome del gruppo/lista di distribuzione
1481        																	--						3: Codice rapido del gruppo/lista di distribuzione
1482        																	--						4: Indicatore di destinatario per conoscenza (i.e. tutti i membri del gruppo sono destinatari x conoscenza). Valore fisso 1. 
1483        																	--						5: Indicatore di destinatario con assegnazione (i.e. i membri del gruppo sono assegnatari). Valore fisso 1.
1484        																	--	#@AltriSoggettiEsterni		Lista con i dati di altri soggetti esterni (firmatari, conraenti ecc) in relazione con il documento
1485        																	--						ATTENZIONE: possono essere o meno soggetti censiti nella rubrica del sistema ed eventualmente anche nell'anagrafe residenti o ditte
1486        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
1487        																	--								tutti gli altri campi (colonne dalla 3 alla 14) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul documento)
1488        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul documento vengono riportati come nel tag
1489        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al documento
1490        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1491        																	--						1: Identificativo del soggetto nella rubrica soggetti del sistema
1492        																	--						2: Codice identificativo del soggetto nell'anagrafe o sistema di provenienza 
1493        																	--						3: Se valorizzato (valore fisso 1) indica che il soggetto è una persona fisica (altrimenti si intende essere una persona giuridica)
1494        																	--						4: Denominazione (se persona giuridica) o cognome (se persona fisica)
1495        																	--						5: Nome (se persona fisica)
1496        																	--						6: Codice fiscale
1497        																	--						7: Partita IVA
1498        																	--						8: Sesso (valori F/M/NULL) (se persona fisica)
1499        																	--						9: Data di nascita/istituzione (nel formato dato dal parametro FMT_STD_DATA)
1500        																	--						10: Codice ISTAT del comune di nascita/istituzione
1501        																	--						11: Nome del comune (se italiano) o città estera di nascita/istituzione
1502        																	--						12: Codice ISTAT dello stato estero di nascita/istituzione
1503        																	--						13: Nome dello stato estero di nascita/istituzione
1504        																	--						14: Codice ISTAT dello stato di cittadinanza
1505        																	--						15: Nome dello stato di cittadinanza
1506        																	--						16: Indicatore di soggetto da registrare in rubrica soggetti se non vi è già presente (in base ai criteri stabiliti per il test di esistenza). Valore fisso 1.
1507        																	--						17: (obblig. se campo successivo non è valorizzato) Codice della natura della relazione del soggetto con il documento (firmatario, contraente ecc). Valori da dizionario.
1508        																	--						18: (obblig. se campo precedente non è valorizzato) Descrizione della natura della relazione del soggetto con il documento (firmatario, contraente ecc). Valori da dizionario.
1509        																	--						19: Dettagli sulla natura della relazione tra soggetto e documento
1510        																	--						20: Titolo di studio/professionale
1511        																	--						21: Cod. rapido assegnatogli in rubrica
1512        																	--						23: N° documento di riconoscimento
1513        																	--						24: Codice toponomastico (cioè nel viario) della via/piazza ecc. dell'indirizzo 
1514        																	--						25: Via/piazza ecc. dell'indirizzo fisico 
1515        																	--						26: Località dell'indirizzo fisico  
1516        																	--						27: N.ro civico (senza eventuale esponente o altre "appendici" quali colore ecc che vanno in colonna 47) dell'indirizzo fisico 
1517        																	--						28: Interno del civico dell'indirizzo fisico 
1518        																	--						29: Scala del civico dell'indirizzo fisico 
1519        																	--						30: Piano nel civico dell'indirizzo fisico 
1520        																	--						31: Codice Avviamento Postale dell'indirizzo fisico 
1521        																	--						32: Codice istat del comune (se italiano) dell'indirizzo fisico 
1522        																	--						33: Nome del comune/città dell'indirizzo fisico 
1523        																	--						34: Codice istat dello stato estero dell'indirizzo fisico 
1524        																	--						35: Nome dello stato estero dell'indirizzo fisico 
1525        																	--						45: Zona dell'indirizzo fisico 
1526        																	--						46:	Complemento (i.e. altri dati) dell'indirizzo fisico 
1527        																	--						47: Appendici del n.ro civico (esponente, bis/ter ecc, colore) dell'indirizzo fisico 
1528        																	--						48: non utilizzato
1529        																	--					    49: Tipo di toponimo dell'indirizzo fisico 
1530        																	--						50: Indirizzo e-mail
1531        																	--						51: (valori 1/0) Se 1 indica se il soggetto (qualora esibente) è anche mittente
1532        																	--						52: Tipo di documento di riconoscimento
1533        																	--						53: N.ro di telefono
1534        																	--						54: (valori U/E) Indica se soggetto incaricato del ritiro documentazione per conto di: U = ufficio interno, E = richiedente esterno
1535        																	--	#DesOgg				Oggetto / descrizione del documento
1536        																	--	#ParoleChiave                 Parole chiave per cui è utile ricercare il documento 
1537        																	--	#CodSupportoOrig            	Codice del tipo di supporto su cui originariamente è stato acquisito o prodotto il documento (cartaceo, informatico ecc). Valori da dizionario
1538        																	--	#SupportoOriginale			Descrizione del tipo di supporto su cui originariamente è stato acquisito o prodotto il documento (cartaceo, informatico ecc). Valori da dizionario
1539        																	--	#FlgTipoCartaceo            	Indica se il documento cartaceo è: originale unico (OU), originale non unico (ONU), copia (C)
1540        																	--	#FlgDigitalizzazione         	Indica se il documento, originariamente cartaceo, è stato digitalizzato (2) o se ne è richiesta la digitalizzazione (1)
1541        																	--	#CISuCartaceo                 Codice (ad esempio un codice a barre) riportato sul documento cartaceo per identificarlo (da usarsi in fase di digitalizzazione per associare l'immagine al documento corretto)
1542        																	--	#NroPagineCartaceo          	N.ro di pagine del documento cartaceo
1543        																	--	#DtStesura  	            Data di redazione del documento (nel formato dato dal parametro di conf. FMT_STD_DATA)
1544        																	--	#LuogoStesura			Luogo di redazione del documento (descrittivo)
1545        																	--	#@Estensori                   Lista degli estensori (interni) del documento (sono utenti censiti nel sistema)
1546        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1547        																	--						1: Identificativo (quello interno al sistema) dell'utente estensore
1548        																	--						2: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente estensore
1549        																	--						3: Descrizione dell'utente estensore
1550        																	--						4: Username dell'utente estensore (quella interna)
1551        																	--	#@UffProduttori               Lista degli uffici che hanno prodotto il documento (UO censite nel sistema)
1552        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1553        																	--						1: Identificativo della UO
1554        																	--						2: Nri livello della UO (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
1555        																	--						3: Denominazione della UO (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1556        																	--	#LivRiservatezza             	Livello di riservatezza del documento (n.ro intero da 0 ad un valore dato dal parametro di configurazione MAX_LIV_RISERVATEZZA)
1557        																	--	#DtTermineRiservatezza			Data in cui cessa di valere la riservatezza indicata il #LivRiservatezza (nel formato indicato nel parametro di config. FMT_STD_DATA)
1558        																	--	#FlgVisibInChiaroRistrettaA		Indica, qualora sia settato un livello di riservatezza, a chi è ristretta la visibilità di tutti i dati e file del documento:
1559        																	--									C  =	assegnatari per competenza (i.e. i soggetti – UO, postazioni, utenti – a cui il documento è stato assegnato per competenza e che non l'hanno a loro volta smistato o riassegnato a qualcun altro);
1560        																	--									CE =	coloro a cui il documento è stato assegnato per competenza (anche se successivamente l'hanno a loro volta smistato o riassegnato a qualcun altro);
1561        																	--									CC =	coloro a cui il documento è stato assegnato per competenza o conoscenza.
1562        																	--	#FlgDatiPersonali           	Se valorizzato (valore fisso 1) indica che il documento contiene dati personali
1563        																	--	#FlgDatiSensibili           	Se valorizzato (valore fisso 1) indica che il documento contiene dati sensibili
1564        																	--	#FlgDatiSensibilissimi      	Se valorizzato (valore fisso 1) indica che il documento contiene dati sensibilissimi
1565        																	--	#FlgDatiGiudiziari          	Se valorizzato (valore fisso 1) indica che il documento contiene dati giudiziari
1566        																	--	#FlgEsercDirPrivacy        	Se valorizzato (valore fisso 1) indica che l'interessato ha esercitato i diritti di cui al codice sulla privacy
1567        																	--	#FlgBloccoTrattamento       	Se valorizzato (valore fisso 1) indica che l'interessato ha esercitato il blocco del trattamento dei dati personali
1568        																	--	#DtTermineBloccoTratt         Termine (data) posto al blocco del trattamento dei dati personali di cui al campo precedente (nel formato dato dal parametro di conf. FMT_STD_DATA)
1569        																	--	#FlgLimitAccesso            	Indica se l'accesso al documento dall'esterno è precluso temporaneamente (1) o permanentemente (2)
1570        																	--	#DtTermineDiffAccesso      	Termine (data) fino a cui l'accesso al documento dall'esterno è differito (nel formato dato dal parametro di conf. FMT_STD_DATA)
1571        																	--	#IdUserTitolareTratt       	Identificativo (quello interno al sistema) dell'utente titolare del trattamento dei dati personali, sensibili ecc. contenuti nel documento
1572        																	--	#CIEstUserTitolareTratt		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente titolare del trattamento dei dati personali, sensibili ecc. contenuti nel documento
1573        																	--	#DesUserTitolareTratt       	Descrizione dell'utente titolare del trattamento dei dati personali, sensibili ecc. contenuti nel documento
1574        																	--	#IdUserRespTratt       		Identificativo (quello interno al sistema) dell'utente responsabile del trattamento dei dati personali, sensibili ecc. contenuti nel documento
1575        																	--	#CIEstUserRespTratt		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente responsabile del trattamento dei dati personali, sensibili ecc. contenuti nel documento
1576        																	--	#DesUserRespTratt       	Descrizione dell'utente responsabile del trattamento dei dati personali, sensibili ecc. contenuti nel documento
1577        																	--	#@IncaricatiTrattamento       Lista degli incaricati del trattamento dei dati personali, sensibili ecc. contenuti nel documento. Devono essere utenti censiti nel sistema
1578        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1579        																	--						1: Identificativo (quello interno al sistema) dell'utente incaricato
1580        																	--						2: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente incaricato
1581        																	--						3: Descrizione dell'utente incaricato
1582        																	--	#RestrizioniAccesso 	  	Restrizioni all'accesso al documento (parti da oscuare ecc.)
1583        																	--	#RestrizioniRiprod           	Restrizioni alla riproduzione del documento
1584        																	--	#FlgCartaceoEliminato       	Se valorizzato (valore fisso 1) indica che il cartaceo del documento è stato eliminato
1585        																	--	#DtElimCartaceo             	Data di eliminazione del cartaceo del documento (nel formato dato dal parametro di conf. FMT_STD_DATA)
1586        																	--	#IdUserElimCart            	Identificativo (quello interno al sistema) dell'utente che ha eliminato il cartaceo
1587        																	--	#CIEstUserElimCart		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha eliminato il cartaceo
1588        																	--	#DesUserElimCart       		Descrizione dell'utente che ha eliminato il cartaceo
1589        																	--	#IdUserAutElimCart        	Identificativo (quello interno al sistema) dell'utente che ha autorizzato l'eliminazione del cartaceo
1590        																	--	#CIEstUserAutElimCart		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato l'eliminazione del cartaceo
1591        																	--	#DesUserAutElimCart       	Descrizione dell'utente che ha autorizzato l'eliminazione del cartaceo
1592        																	--	#ProvCIDoc                  	Codice identificativo del documento in un eventuale sistema di provenienza
1593        																	--	#ContainerHandler			Tipo di contenitore (file-system, Hummingbird, ecc) in cui dovranno essere collocate eventuali nuove versioni elettroniche del documento
1594        																	--						Se non viene specificato e se viene specificata una versione questo attributo viene settato pari al tipo di contenitore della versione
1595        																	--	#ContainerAlias			Alias che identifica lo specifico contenitore (del tipo #ContainerHandler) in cui dovranno essere collocate eventuali nuove versioni elettroniche del documento
1596        																	--						Se non viene specificato e se viene specificata una versione questo attributo viene settato pari all'alias del contenitore della versione
1597        																	--	#FlgInvioInConserv		Indicatore di invio in conservazione
1598        																	--	#FlgInvioInConservUrgente	Livello di urgenza dell'invio in conservazione (numero intero positivo)
1599        																	--	#TsInvioInConservazione	Data e ora di invio in conservazione
1600        																	--  #StatoConservazione 		Stato del processo di conservazione. Valori ammessi: inviato, accettato, rifiutato, conservato
1601        																	--  #ErrMsgInvioInConservazione	Errore dell'invio al sistema di conservazione
1602        																	--  #IdInConservazione		Id. assegnato al documento dal sistema di conservazione
1603        																	--	#CanaleInvioDest	Codice del canale di invio dell'unità documentaria al destinatario/cliente. Va sepcificato il codice come da dizionario di sistema
1604        																	--  #@AttiRichiesti 	Lista delle pratiche/fascicoli richiesti tramite l'UD (nel caso di UD di richiesta accesso atti in archivio)
1605        																	--						I folder/pratiche che non risultano già esistenti vengono creati
1606        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1607        																		-- 1)   Tipo di identificativo dell’atto/pratica: PG (Prot. Gen.) , PS (Protocollo di settore), EP (Protocollo Edilizia Privata)
1608        																		-- 2)   N° di protocollo
1609        																		-- 3)   Registro del protocollo di settore
1610        																		-- 4)   Anno di protocollo
1611        																		-- 5)   Sub del nro di protocollo
1612        																		-- 6)	Stato scansione: N (Non ancora scansionata), P (Parzialmente scansionata), C (Completamente scansionata)
1613        																		-- 7)	ID_FOLDER del folder corrispondente alla pratica
1614        																		-- 8)	Stato: con valori non pervenuto in Cittadella, presente in Cittadella, prelevato e ancora da restituire
1615        																		-- 9)	Unità di Carico (UDC) in cui si trova la pratica
1616        																		-- 10)	Denominazione ufficio che ha effettuato il prelievo
1617        																		-- 11)	Cod. dell’ufficio che ha effettuato il prelievo
1618        																		-- 12)	ID_UO che ha effettuato il prelievo
1619        																		-- 13)	Cognome responsabile prelievo
1620        																		-- 14)	Nome responsabile prelievo
1621        																		-- 15)	Username responsabile prelievo
1622        																		-- 16)	ID_USER responsabile prelievo
1623        																		-- 17)	Data prelievo (GG/MM/AAAA)
1624        																		-- 18)	Note uff. richiedente
1625        																		-- 19)	Note dell'archivio
1626        																		-- 20)  Classifica del fascicolo (anche storica, campo di testo libero)
1627        																		-- 22)  Competenza di Urbanistica
1628        																		-- 23)  Cartaceo reperibile
1629        																		-- 24)  Archivio in cui si trova il cartaceo
1630        																		-- 25)	Flag che indica se richiesta (1) o meno visione del cartaceo
1631        																		-- 26)  Tipo fascicolo: atti di fabbrica, modifiche, cementi armati
1632        																		-- 27)	Anno protocollo EP (Edilizia Privata)
1633        																		-- 28)	Nro protocollo EP (Edilizia Privata)
1634        																		-- 29)	Anno pratica workflow (OnlyOne)
1635        																		-- 30)	Nro pratica workflow (OnlyOne)
1636        																		-- 31)	Nro di deposito (per cementi armati)
1637        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>_Doc: qualsiasi attributo dinamico specificabile per il documento (nel dominio di lavoro)			
1638        																	-- E quelli relativi alla versione elettronica:		
1639        																	--	#DisplayFilename_Ver 		(obblig. se si vuole caricare la ver. elettronica) Nome con cui mostrare/in cui estrarre il file corrispondente alla versione elettronica del documento
1640        																	--	#URI_Ver					(obblig. se si vuole caricare la ver. elettronica) Riferimento univoco per reperire nella repository il file corrispondente alla versione del documento
1641        																	--	#Impronta_Ver			(obblig. se si vuole caricare la ver. elettronica) Impronta della versione elettronica del documento
1642        																	--	#Algoritmo_Impronta_Ver	(obblig. se si vuole caricare la ver. elettronica) Algoritmo con cui è stata calcolata l'impronta (SHA-1, SHA-256, MD5 ecc)
1643        																	--	#Encoding_Impronta_Ver	(obblig. se si vuole caricare la ver. elettronica) Encoding con cui è stata calcolata l'impronta: hex = esadecimale, base64 = in base 64
1644        																	--	#Dimensione_Ver			(obblig. se si vuole caricare la ver. elettronica)  Dimensione in bytes della versione
1645        																	--	#FlgFirmata_Ver			(valori 1/0/NULL) Se 1 significa che la versione elettronica è firmata digitalmente, se 0 o NULL che non è firmata
1646        																	--	#Mimetype_Ver			(obblig. se si vuole caricare la ver. elettronica) Mimetype del file della versione (se è firmato con busta p7m, m7m o tsd è il formato del file "sbustato)
1647        																	--	#Cod_Ver				Codice identificativo da assegnare alla versione elettronica
1648        																	-- 						Se non è valorizzato/manca del tutto nell'XML alla versione viene assegnato in automatico un codice
1649        																	--	#Note_Ver	 			Note versione elettronica del documento
1650        																	--	#FlgPubblicata_Ver 		(valori 1/0/NULL) Se 1 indica che la versione è pubblicata 
1651        																	--	#IdFormatoEl_Ver 			Identificativo del formato elettronico della versione (quello con cui è registrato in banca dati)
1652        																	--	#NomeFormatoEl_Ver			Nome del formato elettronico della versione (quello con cui è registrato in banca dati)
1653        																	--	#FlgDaScansione_Ver 			(valori 1/0/NULL) Se 1 indica che la versione elettronica è un'immagine acquisita da scanner 
1654        																	--	#DtScansione_Ver 			Data in cui l'immagine corrispondente alla versione elettronica è stata acquisita da scanner (nel formato dato dal parametro di conf. FMT_STD_DATA) 
1655        																	--	#IdUserScansione_Ver 			Id. (quello interno al sistema) dell'utente che ha scansionato l'immagine corrispondente alla versione 
1656        																	--	#CIEstUserScansione_Ver		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha scansionato l'immagine corrispondente alla versione
1657        																	--	#DesUserScansione_Ver 		Denominazione dell'utente che ha scansionato l'immagine corrispondente alla versione
1658        																	--	#SpecificheScansione_Ver 		Specifiche (es: risoluzione) sul processo di digitalizzazione che ha prodotto la versione
1659        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>_Ver: qualsiasi attributo dinamico specificabile su una versione																															 			
1660        			IdUDOut			OUT		DMT_UNITA_DOC.ID_UD%type,				-- Id. dell'unità documentaria creata insieme al documento o solo di appartenenza del documento
1661        			IdDocOut			OUT		DMT_DOCUMENTS.ID_DOC%type,				-- Id. del documento creato												
1662        			URIXmlOut			OUT		NOCOPY CLOB,						-- Lista con gli URI delle versioni elettroniche degli altri doc. dell'unità doc. (oltre a quello appena creato) il cui profilo va aggiornato sui container a seguito dell'operazione (xml conforme a schema LISTA_STD.xsd)
1663        																	-- Ogni versione è un tag Riga che contiene le seguenti colonne: 
1664        																	-- 1:	Identificativo del documento cui è relativa la versione
1665        																	-- 2:	N.ro progressivo della versione
1666        																	-- 3: URI della versione
1667        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1668        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1669        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1670        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1671        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1672        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1673        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1674        
1675        	/***** ricava il container di una certa versione di un documento (o della sua ultima versione valida) *****/
1676        	function GetVersionContainer(
1677        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento cui è relativa la versione 
1678        			NroProgrVerIO		IN OUT 	INTEGER,							-- N.ro progressivo che identifica la versione 
1679        																	-- ATTENZIONE: se in input è NULL significa che si vuole trovare il container dell'ultima versione valida
1680        																	-- In output, in caso di successo, restituisce il n.ro della versione
1681        			ContainerTypeOut		OUT		DMT_DOCUMENTS.CONTAINER_TYPE%type,			-- Sigla del tipo di contenitore del file (file-system, Hummingbird)
1682        			ContainerAliasOut		OUT		DMT_DOCUMENTS.CONTAINER_ALIAS%type			-- Alias dello specifico contenitore del file 
1683        			) RETURN PLS_INTEGER;											-- 1 = Container trovato, 0 = Container non trovato
1684        
1685        	/***** Ricava il container in cui deve essere mappato un folder appena creato nella repository								*****/	
1686        	/***** E' il container in cui si trova il primo folder (o libreria) di appartenenza (se c'è) del folder da mappare sul container		*****/
1687        	/***** Nel caso in cui si specifichino in input gli estremi di un container verranno restituiti questi ultimi					*****/
1688        	/***** e non quelli del primo folder di appartenenza qualora vi sia nel container in input almeno un folder di appartenenza valido 		*****/
1689        	/***** Se non c'è, ovvero se si tratta di una libreria o in caso di folder inesistente, il container viene restituito NULL			*****/
1690        	function GetContainerForNewFolder(
1691        			IdFolderIn			IN		DMT_FOLDER.ID_FOLDER%type,				-- (obblig.) Identificativo del folder 
1692        			ContainerTypeIO		IN OUT	DMT_FOLDER.CONTAINER_TYPE%type,			-- Sigla del tipo di contenitore del folder (file-system, Hummingbird)
1693        																	-- Il valore in input è la sigla del tipo di contenitore in cui si vorrebbe fosse creato il folder
1694        			ContainerAliasIO		IN OUT	DMT_FOLDER.CONTAINER_ALIAS%type,			-- Alias dello specifico contenitore del folder 
1695        																	-- Il valore in input è l'alias dello specifico contenitore in cui si vorrebbe fosse creato il folder
1696        			ContainerTypeToLogOut	OUT		DMT_FOLDER.CONTAINER_TYPE%type,			-- Sigla del tipo di contenitore in cui andrà inserito un log di ADD fallita per il sub-folder da creare  
1697        			ContainerAliasToLogOut	OUT		DMT_FOLDER.CONTAINER_ALIAS%type			-- Alias dello specifico contenitore in cui andrà inserito un log di ADD fallita per il sub-folder da creare
1698        			) RETURN PLS_INTEGER;											-- 1 = Container trovato, 0 = Container non trovato
1699        
1700        	/***** funzione per ottenere il container su cui va messa una nuova/prima versione di un documento esistente *****/
1701        	function GetContainerForAddVer(
1702        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento
1703        			ContainerTypeOut	OUT		DMT_DOCUMENTS.CONTAINER_TYPE%type,				-- Sigla del tipo di contenitore del file (file-system, Hummingbird)
1704        			ContainerAliasOut		OUT		DMT_DOCUMENTS.CONTAINER_ALIAS%type,			-- Alias dello specifico contenitore del file 
1705        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1706        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1707        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1708        			) RETURN PLS_INTEGER;											-- 1 = Successo, 0 = Errore (ad es. documento inesistente)
1709        
1710        	/***************** Funzione con cui un utente può creare nuova versione di un documento (anche la prima, se non ne esiste alcuna)	*********/
1711        	/***************** Va in errore se sul documento non c'è già un lock messo dall'utente (tramite funzione di lock o check-out)		*********/
1712        	/***************** Restituisce errore se l'utente non ha diritto di gestire l'ultima versione valida del documento   			*********/
1713        	function AddVerDoc(
1714        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1715        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si crea la nuova versione del documento. Se non valorizzato è l'utente connesso
1716        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento
1717        			AttributiVerXMLIn		IN		CLOB,								-- XML contenente nomi e valori degli attributi della nuova versione elettronica (conforme allo schema SezioneCache.xsd)
1718        																	-- Questi attributi possono essere:
1719        																	--	#DisplayFilename_Ver 		(obblig.)Nome con cui mostrare/in cui estrarre il file corrispondente alla versione elettronica del documento
1720        																	--	#URI_Ver					(obblig.)Riferimento univoco per reperire nella repository il file corrispondente alla versione del documento
1721        																	--	#Impronta_Ver			(obblig.)Impronta del file
1722        																	--	#Algoritmo_Impronta_Ver	(obblig.) Algoritmo con cui è stata calcolata l'impronta (SHA-1, SHA-256, MD5 ecc)
1723        																	--	#Encoding_Impronta_Ver	(obblig.) Encoding con cui è stata calcolata l'impronta: hex = esadecimale, base64 = in base 64
1724        																	--	#Dimensione_Ver			(obblig.)  Dimensione in bytes della versione
1725        																	--	#FlgFirmata_Ver			(valori 1/0/NULL) Se 1 significa che la versione elettronica è firmata digitalmente, se 0 o NULL che non è firmata
1726        																	--	#Mimetype_Ver			(obblig.) Mimetype del file della versione (se è firmato con busta p7m, m7m o tsd è il formato del file "sbustato)
1727        																	--	#Cod_Ver				Codice identificativo della versione elettronica
1728        																	--	#NroProgrVerBckVerDi_Ver		N.ro progressivo dell'eventuale versione di cui è una back-version
1729        																	--	#Note_Ver	 			Note versione elettronica del documento
1730        																	--	#FlgPubblicata_Ver 		(valori 1/0/NULL) Se 1 indica che la versione è pubblicata 
1731        																	--	#IdFormatoEl_Ver 			Identificativo del formato elettronico della versione (quello con cui è registrato in banca dati)
1732        																	--	#NomeFormatoEl_Ver			Nome del formato elettronico della versione (quello con cui è registrato in banca dati)
1733        																	--	#FlgDaScansione_Ver 			(valori 1/0/NULL) Se 1 indica che la versione elettronica è un'immagine acquisita da scanner 
1734        																	--	#DtScansione_Ver 			Data in cui l'immagine corrispondente alla versione elettronica è stata acquisita da scanner (nel formato dato dal parametro di conf. FMT_STD_DATA) 
1735        																	--	#IdUserScansione_Ver 			Id. (quello interno al sistema) dell'utente che ha scansionato l'immagine corrispondente alla versione 
1736        																	--	#CIEstUserScansione_Ver		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha scansionato l'immagine corrispondente alla versione
1737        																	--	#DesUserScansione_Ver 		Denominazione dell'utente che ha scansionato l'immagine corrispondente alla versione
1738        																	--	#SpecificheScansione_Ver 		Specifiche (es: risoluzione) sul processo di digitalizzazione che ha prodotto la versione
1739        																	--  #@URIVersPrecSuSharePoint_Ver	URI della versione già presenti su SharePoint (lista fatta da una sola colonna con gli URI a meno della parte tra [])
1740        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>_Ver: qualsiasi attributo dinamico specificabile su una versione		
1741        			NroProgrVerIO		IN OUT	INTEGER,							-- In INPUT è il n.ro progressivo della versione checked-out/estratta dall'utente l'ultima volta e che lui ritiene di aggiornare; valorizzandola si richiede che venga controllato che essa coincida con l'attuale versione del documento
1742        																	-- In OUTPUT è il .ro progressivo che identifica la versione creata, ovvero l'ultima versione valida del documento (valorizzato solo in caso di successo)
1743        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1744        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1745        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1746        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1747        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1748        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1749        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1750        
1751        	/***************** Funzione con cui un utente può fare check-out (lock ed estrazione dell'ultima versione) di un documento con versione elettronica 	***************/
1752        	/***************** Restituisce errore se l'utente non ha diritto di gestire l'ultima versione valida del documento   					  	***************/
1753        	function CheckOutDoc(
1754        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1755        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
1756        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento
1757        			NroProgrVerOut		OUT 		INTEGER,							-- N.ro progressivo che identifica la versione estratta (l'ultima valida)
1758        			DisplayFilenameVerOut	OUT		VARCHAR2,							-- Nome con cui mostrare/in cui estrarre il file corrispondente alla versione
1759        			URIVerOut			OUT		VARCHAR2,						      -- Riferimento per reperire univocamente nella repository il file corrispondente alla versione
1760        			ImprontaVerOut		OUT		VARCHAR2,							-- Impronta del file corrispondente alla versione
1761        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1762        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1763        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1764        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1765        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1766        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1767        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1768        
1769        	/***************** Funzione con cui un utente valido può mettere un lock su un documento con versione elettronica 		*********/
1770        	/***************** Restituisce errore se l'utente non ha diritto di gestire l'ultima versione valida del documento   		*********/
1771        	/***************** Restituisce errore anche se il documento è già locked.									*********/
1772        	function LockDoc(
1773        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1774        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si mette il lock. Se non valorizzato è l'utente connesso
1775        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento
1776        			FlgTipoLockIn		IN		VARCHAR2,							-- (obblig; valori E/I) Indica il tipo di lock: E = esplicito, su richiesta dell'utente; I = implicito, messo in automatico a fronte di un'operazione di aggiornamento del documento
1777        			NroProgrLastVerOut	OUT		INTEGER,							--  N.ro progressivo che identifica l'ultima versione valida del documento
1778        			URIVerOut			OUT		VARCHAR2,						      -- Riferimento per reperire univocamente nella repository l'ultima versione valida del documento
1779        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1780        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1781        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1782        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1783        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1784        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1785        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1786        
1787        	-----overload della precedente: mantenuta per retrocompatibilità con i servizi del vecchio Aurigarepository. Fa sempre il lock implicito
1788        	function LockDoc(
1789        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1790        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si mette il lock. Se non valorizzato è l'utente connesso
1791        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento
1792        			NroProgrLastVerOut	OUT		INTEGER,							--  N.ro progressivo che identifica l'ultima versione valida del documento
1793        			URIVerOut			OUT		VARCHAR2,						      -- Riferimento per reperire univocamente nella repository l'ultima versione valida del documento
1794        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1795        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1796        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1797        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1798        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1799        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1800        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1801        
1802        	/***************** Funzione con cui un utente può togliere il lock che lui stesso ha messo su un documento 			*********/
1803        	/***************** o che ha messo qualcun altro se l'utente di lavoro è abilitato all'unlock amministrativo 	      *********/
1804        	function UnlockDoc(
1805        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1806        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si toglie il lock. Se non valorizzato è l'utente connesso
1807        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento
1808        			URIVerOut			OUT		VARCHAR2,						      -- Riferimento per reperire univocamente nella repository l'ultima versione valida del documento
1809        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1810        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1811        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1812        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1813        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1814        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1815        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1816        
1817        	/***************** Funzione con cui un utente valido può mettere un lock su un'intera unità documentaria		*********/
1818        	/***************** Restituisce errore anche se l''unità documentaria è già locked.						*********/
1819        	function LockUD(
1820        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1821        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si mette il lock. Se non valorizzato è l'utente connesso
1822        			IdUDIn			IN		DMT_UNITA_DOC.ID_UD%type,				-- (obblig.) Identificativo dell'unità documentaria
1823        			FlgTipoLockIn		IN		VARCHAR2,							-- (obblig; valori E/I) Indica il tipo di lock: E = esplicito, su richiesta dell'utente; I = implicito, messo in automatico a fronte di un'operazione di aggiornamento dell'UD
1824        			DocUDXMLOut			OUT		NOCOPY CLOB,						-- Lista con i dati relativi ai documenti dell'unità documetaria che sono utili a mettere il lock sui documenti stessi a livello di container (XML conforme a schema LISTA_STD.xsd)
1825        																	-- Ogni tag Riga rappresenta un documento e contiene le colonne:
1826        																	-- 1: Id. del documento
1827        																	-- 2: Riferimento (URI) per reperire univocamente nella repository l'ultima versione valida del documento
1828        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1829        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1830        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1831        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1832        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1833        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1834        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1835        
1836        	-----overload della precedente: mantenuta per retrocompatibilità con i servizi del vecchio Aurigarepository. Fa sempre il lock esplicito
1837        	function LockUD(
1838        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1839        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si mette il lock. Se non valorizzato è l'utente connesso
1840        			IdUDIn			IN		DMT_UNITA_DOC.ID_UD%type,				-- (obblig.) Identificativo dell'unità documentaria
1841        			DocUDXMLOut			OUT		NOCOPY CLOB,						-- Lista con i dati relativi ai documenti dell'unità documetaria che sono utili a mettere il lock sui documenti stessi a livello di container (XML conforme a schema LISTA_STD.xsd)
1842        																	-- Ogni tag Riga rappresenta un documento e contiene le colonne:
1843        																	-- 1: Id. del documento
1844        																	-- 2: Riferimento (URI) per reperire univocamente nella repository l'ultima versione valida del documento
1845        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1846        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1847        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1848        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1849        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1850        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1851        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1852        
1853        	/***************** Funzione con cui un utente può togliere il lock che lui stesso ha messo su un'unità documentaria *********/
1854        	/***************** o che ha messo qualcun altro se l'utente di lavoro è abilitato all'unlock amministrativo 	  *********/
1855        	function UnlockUD(
1856        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1857        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si toglie il lock. Se non valorizzato è l'utente connesso
1858        			IdUDIn			IN		DMT_UNITA_DOC.ID_UD%type,				-- (obblig.) Identificativo dell'unità documentaria
1859        			DocUDXMLOut			OUT		NOCOPY CLOB,						-- Lista con i dati relativi ai documenti dell'unità documetaria che sono utili a togliere il lock sui documenti stessi a livello di container (XML conforme a schema LISTA_STD.xsd)
1860        																	-- Ogni tag Riga rappresenta un documento e contiene le colonne:
1861        																	-- 1: Id. del documento
1862        																	-- 2: Riferimento (URI) per reperire univocamente nella repository l'ultima versione valida del documento
1863        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1864        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1865        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1866        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1867        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1868        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1869        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1870        
1871        	/***************** Funzione con cui un utente valido può mettere un lock su un'intero folder				*********/
1872        	/***************** Restituisce errore anche se il folder è già locked.						*********/
1873        	function LockFolder(
1874        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1875        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si mette il lock. Se non valorizzato è l'utente connesso
1876        			IdFolderIn			IN		DMT_FOLDER.ID_FOLDER%type,				-- (obblig.) Identificativo del folder
1877        			FlgTipoLockIn		IN		VARCHAR2,							-- (obblig; valori E/I) Indica il tipo di lock: E = esplicito, su richiesta dell'utente; I = implicito, messo in automatico a fronte di un'operazione di aggiornamento del folder
1878        			URIOut			OUT		VARCHAR2,							-- URI per individuare il folder nel container in cui si trova
1879        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1880        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1881        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1882        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1883        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1884        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1885        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1886        
1887        	-----overload della precedente: mantenuta per retrocompatibilità con i servizi del vecchio Aurigarepository. Fa sempre il lock esplicito
1888        	function LockFolder(
1889        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1890        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si mette il lock. Se non valorizzato è l'utente connesso
1891        			IdFolderIn			IN		DMT_FOLDER.ID_FOLDER%type,				-- (obblig.) Identificativo del folder
1892        			URIOut			OUT		VARCHAR2,							-- URI per individuare il folder nel container in cui si trova
1893        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1894        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1895        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1896        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1897        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1898        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1899        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1900        
1901        	/***************** Funzione con cui un utente può togliere il lock che lui stesso ha messo su un folder 		*********/
1902        	/***************** o che ha messo qualcun altro se l'utente di lavoro è abilitato all'unlock amministrativo       *********/
1903        	function UnlockFolder(
1904        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1905        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si toglie il lock. Se non valorizzato è l'utente connesso
1906        			IdFolderIn			IN		DMT_FOLDER.ID_FOLDER%type,				-- (obblig.) Identificativo del folder
1907        			URIOut			OUT		VARCHAR2,							-- URI per individuare il folder nel container in cui si trova
1908        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1909        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1910        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1911        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1912        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1913        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1914        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1915        
1916        	/***************** Funzione con cui un utente valido può mettere un lock su un'intero workspace				*********/
1917        	/***************** Restituisce errore anche se il workspace è già locked.						*********/
1918        	function LockWorkspace(
1919        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1920        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si mette il lock. Se non valorizzato è l'utente connesso
1921        			IdWorkspaceIn		IN		DMT_WORKSPACES.ID_WORKSPACE%type,			-- (obblig.) Identificativo del workspace
1922        			FlgTipoLockIn		IN		VARCHAR2,							-- (obblig; valori E/I) Indica il tipo di lock: E = esplicito, su richiesta dell'utente; I = implicito, messo in automatico a fronte di un'operazione di aggiornamento del workspace
1923        			URIOut			OUT		VARCHAR2,							-- URI per individuare il workspace nel container in cui si trova
1924        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1925        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1926        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1927        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1928        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1929        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1930        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1931        
1932        	-----overload della precedente: mantenuta per retrocompatibilità con i servizi del vecchio Aurigarepository. Fa sempre il lock esplicito
1933        	function LockWorkspace(
1934        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1935        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si mette il lock. Se non valorizzato è l'utente connesso
1936        			IdWorkspaceIn		IN		DMT_WORKSPACES.ID_WORKSPACE%type,			-- (obblig.) Identificativo del workspace
1937        			URIOut			OUT		VARCHAR2,							-- URI per individuare il workspace nel container in cui si trova
1938        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1939        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1940        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1941        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1942        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1943        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1944        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1945        
1946        
1947        	/***************** Funzione con cui un utente può togliere il lock che lui stesso ha messo su un workspace  *********/
1948        	/***************** o che ha messo qualcun altro se l'utente di lavoro è abilitato all'unlock amministrativo *********/
1949        	function UnlockWorkspace(
1950        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1951        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si toglie il lock. Se non valorizzato è l'utente connesso
1952        			IdWorkspaceIn		IN		DMT_WORKSPACES.ID_WORKSPACE%type,			-- (obblig.) Identificativo del workspace
1953        			URIOut			OUT		VARCHAR2,							-- URI per individuare il workspace nel container in cui si trova
1954        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
1955        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
1956        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
1957        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
1958        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
1959        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
1960        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
1961        
1962        	/************** Funzione per aggiornare i metadati di un'unità documentaria o di un documento (con o senza versione elettronica) e della relativa unità documentaria 				***********/
1963        	/************** In caso di aggiornamento dei metadati di un documento permette di aggiornare anche qual è l'unità doc. di appartenenza (salvo che sia il doc. primario): 			***********/
1964        	/************** in caso di variata unità doc. di appartenenza i metadati specificati per l'unità documentaria aggiornano la nuova unità documentaria di appartenenza				***********/	
1965        	/************** Non prevede l'aggiornamento dei dati relativi alla specifica versione elettronica del documento													***********/
1966        	function UpdDocUD(
1967        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
1968        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
1969        			FlgTipoTargetIn		IN		VARCHAR2,							-- (obblig., valori U/D) Indica se i metadati che si intende aggiornare sono quelli di un'unità documentaria (valore U: allora l'argomento successivo è il suo ID_UD)
1970        																	-- o piuttosto quelli di un documento (valore D: allora l'argomento successivo è il suo ID_DOC) e dell'unità documentaria di appartenenza (che è essa stessa un dato modificabile)	
1971        			IdUDDocIn			IN		INTEGER,							-- (obblig.) Identificativo dell'unità documentaria (se FlgTipoTargetIn=U) di cui aggiornare i metadati
1972        																	-- o del documento (se FlgTipoTargetIn=D) di cui aggiornare i metadati (eventualmente anche quelli della sua unità documentaria)
1973        			AttributiUDDocXMLIn	IN		CLOB,								-- XML contenente nomi e valori degli attributi dell'unità documentaria e/o del documento (conforme allo schema SezioneCache.xsd)
1974        																	-- Per tutti gli attributi vale quanto segue:
1975        																	-- 		gli attributi specificati nell'XML aggiornano i corrispondenti già presenti in DB:
1976        																	--			per gli attributi con valore semplice il valore nell'XML sostituisce quello eventualmente già presente in DB per quell'attributo; se non c'è valore significativo nell'XML significa che il valore dell'attributo in DB va rimosso
1977        																	--			per gli attributi con valore lista i valori nell'XML si aggiungono o sostituiscono quelli già presenti in DB a seconda rispettivamente che nell'XML sia presente o meno un attributo #Append_<Nome attributo>; se la lista di valori nell'XML è vuota significa che tutti i valori dell'attributo già presenti in DB vanno rimossi
1978        																	-- 		gli attributi presenti in DB per cui non c'è corrispondente nell'XML restano invariati
1979        																	-- Gli attributi dell'unità documentaria sono:
1980        																	--	#@RegistrazioniDate		Lista di registrazioni/numerazioni date all'unità documentaria.
1981        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
1982        																	--						1: (obblig.) Categoria di registrazione/numerazione; valori ammessi: PG = Protocollo Generale; PP = Protocollo Particolare; R = Repertorio; E = Registrazione d'emergenza; A = Altro tipo di numerazione
1983        																	--						2: Sigla di registrazione/numerazione
1984        																	--						3: (obblig. se non si indicano data e ora di registrazione) Anno di registrazione/numerazione
1985        																	--						4: (obblig.) N.ro di registrazione/numerazione
1986        																	--						5: Data e ora di registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
1987        																	--						6: Identificativo dell'utente che ha effettuato la registrazione/numerazione
1988        																	--						7: Codice che identifica l'utente che ha effettuato la registrazione/numerazione nell'applicazione esterna da cui ci si connette 
1989        																	--						8: Denominazione dell'utente che ha effettuato la registrazione/numerazione
1990        																	--						9: Identificativo della UO presso cui è stata effettuata la registrazione/numerazione
1991        																	--						10: Denominazione della UO presso cui è stata effettuata la registrazione/numerazione (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
1992        																	--						11: N.ri livello della UO presso cui è stata effettuata la registrazione/numerazione (tutti, separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
1993        																	--						12: Codice che identifica la registrazione nel sistema in cui è stata data
1994        																	--						13: Data in cui decade la riservatezza data all'unità documentaria dalla data registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_DATA)
1995        																	--						14:(valori 1/NULL) Se 1 significa che la registrazione/numerazione è annullata
1996        																	--						15: Data e ora di annullamento della registrazione (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
1997        																	--						16: Identificativo dell'unità documentaria che rappresenta l'atto di autorizzazione all'annullamento della data registrazione/numerazione 
1998        																	--						17: Estremi dell'atto di autorizzazione annullamento (alternativo al precedente e gestito solo se quello non è valorizzato)
1999        																	--						18: Motivazioni dell'annullamento della data registrazione/numerazione
2000        																	--						19: (valori 1/NULL) Se 1 significa che la registrazione/numerazione è stata richiesta dal sistema documentale
2001        																	--						20: Identificativo dell'utente che ha annullato la registrazione
2002        																	--						21: Codice che identifica l'utente che ha annullato la registrazione nell'applicazione esterna da cui ci si connette
2003        																	--						22: Denominazione dell'utente che ha annullato la registrazione
2004        																	--						23: Eventuale sub o appendice del n.ro di registrazione
2005        																	--	#Append_#@RegistrazioniDate	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2006        																	--	#@NumerazioniDaDare		Lista con gli estremi della/e numerazioni da dare all'unità documentaria.
2007        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2008        																	--						1: (obblig. se la categoria, ovvero colonna 3, non è specificata o è diversa da PG o se è PG ma si gestiscono più AOO nello stesso archivio) Sigla di numerazione
2009        																	--						2: Anno di numerazione (se non specificato si intende l'anno corrente)
2010        																	--						3: (facolt.) Categoria della numerazione; valori ammessi: PG = Protocollo Generale; PP = Protocollo Particolare; R = Repertorio; I = Altro tipo di numerazione
2011        																	--									 Se non specificata si intende pari a I
2012        																	--						4: Identificativo della UO che effettua la registrazione/numerazione
2013        																	--						5: Denominazione della UO che effettua la registrazione/numerazione (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2014        																	--						6: N.ri livello della UO che effettua la registrazione/numerazione (tutti, separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2015        																	--						7: Data in cui decade la riservatezza data all'unità documentaria dalla data registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_DATA)
2016        																	--						In caso di unità doc. già esistente, se la data numerazione per il dato anno già c'era, viene mantenuta quella preesistente senza dare errore
2017        																	--	ATTENZIONE: le numerazioni da dare sono sempre aggiunte - append - alle eventuali numerazioni già generate per la data UD
2018        																	--	#NomeUD				Nome dell'unità documentaria (quello con cui viene presentata e riconosciuta nella GUI).
2019        																	--	#IdLibrary				Id. della libreria di appartenenza dell'unità documentaria
2020        																	--	#NomeLibrary			Nome della libreria di appartenenza dell'unità documentaria
2021        																	--	#@ClassFascTitolario		Lista delle classificazioni e/o fascicolazioni basate sul piano di classificazione. Se i fascicoli non esistono viene dato errore.
2022        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2023        																	--						1: Identificativo della classificazione
2024        																	--						2: N.ri livello della classificazione (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore previsto per i livelli di classificazione nel dominio di lavoro) 
2025        																	--						3: Descrizione della classificazione (può essere quella semplice o la concatenazione con separatore "|" delle descrizioni delle calssificazioni superiori + quella della classificazione)
2026        																	--						4: Anno di apertura del fascicolo (obblig. se si intende specificare un fascicolo)
2027        																	--						5: N.ro progressivo del fascicolo (obblig. se si intende specificare un fascicolo)
2028        																	--						6: N.ro di sotto-fascicolo
2029        																	--						7: N.ro di inserto del sotto-fascicolo
2030        																	--						8: N.ro secondario (numerazione alternativa) del fascicolo
2031        																	--						9: Codice che indica il ruolo dell'unità documentraia nel fascicolo (valori da dizionario)
2032        																	--						10: Descrizione del ruolo dell'unità documentria nel fascicolo (valori da dizionario)
2033        																	--						11: Motivi (descrittivi) della relazione dell'unità documentria col fascicolo 
2034        																	--						12: Id. folder del fascicolo o sottofascicolo
2035        																	--	#Append_#@ClassFascTitolario	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2036        																	--	#@FolderCustom			Lista con i folder (esclusi i fascicoli basati sul piano di classificazione: dunque i fascicoli non di titolario, le serie, ecc.) in cui deve essere collocata l'unità documentaria. Se i folder non esistono viene dato errore.
2037        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2038        																	--						1: Identificativo del folder
2039        																	--						2: Path (con o senza nome della libreria di appartenenza)+ nome del folder (i vari livelli del percorso vanno separati con / o \)
2040        																	--						3: Codice che indica il ruolo dell'unità documentraia nel folder (valori da dizionario)
2041        																	--						4: Descrizione del ruolo dell'unità documentria nel folder (valori da dizionario)
2042        																	--						5: Motivi (descrittivi) della relazione dell'unità documentria col folder 
2043        																	--	#Append_#@FolderCustom		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2044        																	--	#@Workspaces			Lista con i dati degli eventuali workspace in cui collocare l'unità documentaria. I workspace devono essere già esistenti
2045        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2046        																	--						1: Identificativo del workspace
2047        																	--						2: Nome del workspace	
2048        																	--						3: Motivi (descrittivi) della relazione dell'unità documentria col workspace
2049        																	--	#Append_#@Workspaces		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2050        																	--	#@ACL					Lista con i permessi assentiti o negati sull'unità documentaria e i suoi documenti
2051        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2052        																	--						1: (obblig.) Indicatore del tipo di destinatario del permesso
2053        																	--							Valori possibili:
2054        																	--							SP	= Soggetto produttore  
2055        																	-- 							AOO	= AOO 
2056        																	-- 							UT 	= Utente
2057        																	--							SV	= Scrivania virtuale
2058        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
2059        																	--							G	= Gruppo
2060        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
2061        																	--						2: Identificativo del destinatario del permesso
2062        																	--							è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
2063        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
2064        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
2065        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
2066        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
2067        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
2068        																	--						3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2069        																	--						4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
2070        																	--						5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2071        																	--						6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2072        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
2073        																	--						8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
2074        																	--						9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
2075        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
2076        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
2077        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
2078        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
2079        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
2080        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
2081        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2082        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2083        																	--						16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
2084        																	--						17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2085        																	--						18:(valori 1/0/NULL) Indica se la visualizzazione dei file dell'unità documentaria è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2086        																	--						19:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2087        																	--						20:(valori 1/0/NULL) Indica se la modifica (intendendo anche il versioning) dei file dell'unità documentaria è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2088        																	--						21:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2089        																	--						22:(valori 1/0/NULL) Indica se la copia dell'unità doc. è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2090        																	--						23:(valori 1/0/NULL) Indica se l'eliminazione dell'unità doc. è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2091        																	--						24:(valori 1/0/NULL) Indica se il ripristino dell'unità doc. eliminata è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
2092        																	--						25:(valori 1/NULL) Se 1 indica se l'accesso agli eventuali file dell'unità documentaria è relativo alle sole versioni pubblicate
2093        																	--	#Append_#@ACL			Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2094        																	--	#FlgEreditaPermessi		Valori 1/0/NULL. Indica se l'unità documentaria può ereditare i permessi da un folder o workspace di appartenenza
2095        																	--	#PathNomeFolderEreditaPerm	Percorso e nome del folder da cui l'unità documentaria deve ereditare i permessi (se folder di titolario il nome è dato da anno di apertura + livelli classificazione + n.ro progr. di fascicolo [+ n.ro di sottofascicolo] [+n.ro di inserto])
2096        																	--	#IdFolderEreditaPerm		Id. del folder da cui l'unità documentaria deve ereditare i permessi
2097        																	--	#NomeWorkspaceEreditaPerm	Nome del workspace da cui l'unità documentaria deve ereditare i permessi (altrenativo all'attributo precedente)	
2098        																	--	#IdWorkspaceEreditaPerm		Id. del workspace da cui l'unità documentaria deve ereditare i permessi
2099        																	--	#@AltriSoggettiInt		Lista con i soggetti interni che hanno ruoli rispetto all'unità documentaria diversi da quelli - produttori, destinatari, estensori - già gestiti in apposite variabili 
2100        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2101        																	--						1: (obblig.) Indicatore del tipo di soggetto
2102        																	--							Valori possibili:
2103        																	-- 							UT 	= Utente
2104        																	--							SV	= Scrivania virtuale
2105        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
2106        																	--							G	= Gruppo
2107        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
2108        																	--						2: Identificativo del soggetto
2109        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
2110        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
2111        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
2112        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
2113        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
2114        																	--						3: Denominazione/nome del soggetto (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2115        																	--						4: Identificativo della UO cui appartiene la scrivania
2116        																	--						5: Nri livello della UO o a cui appartiene la scrivania (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2117        																	--						6: Denominazione della UO cui appartiene la scrivania (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2118        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente o quello che occupa la scrivania 
2119        																	--						8: Denominazione dell'utente che occupa la scrivania 
2120        																	--						9: (valore 1) Indica, nel caso di UO, se sono ricomprese anche tutte le sue sotto-UO
2121        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo 
2122        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo  (alternativo alla colonna 10)
2123        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente "soggetto" o di quello che occupa la scrivania "soggetto" 
2124        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo (alternativo alla colonna 10)
2125        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente soggetto o che occupa la scrivania soggetto 
2126        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo "soggetto" o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo "soggetto"
2127        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo "soggetto" o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo "soggetto" (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2128        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo "soggetto" o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo "soggetto" (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2129        																	--						16:(valore 1) Indica che il ruolo amministrativo "soggetto" si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
2130        																	--						17: Codice del ruolo del soggetto rispetto all'unità documentaria (valori codificati in apposita disctionary entry)
2131        																	--						18: Ruolo del soggetto rispetto all'unità documentaria (valori in apposita disctionary entry)
2132        																	--	#Append_#@AltriSoggettiInt	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)			
2133        																	--	#CodRuoliAltriSoggIntInAppend	E' la lista dei codici dei ruoli che sono in append e non in sostituzione (separati da |*| se più di uno). Se questa variabile non è valorizzata ed è presente #Append_#@AltriSoggettiInt significa che l'append vale per tutti i ruoli. 	
2134        																	--	#CodRuoliAltriSoggIntToDel	E' la lista dei codici dei ruoli i cui soggetti - quelli che hanno il dato ruolo - sono da cancellare del tutto(separati da |*| se più di uno).  	
2135        																	--	#@InCaricoA				Indica a chi (non destinatario) mettere in carico copia dell'unità documentaria
2136        																	--						Chi ha in carico può essere specificato/variato solo se il documento non è ancora inviato
2137        																	--						Chi ha in carico può essere solo l'utente di lavoro o una UO/scrivania cui è collegato da appartenenza o delega o per cui può lavorare
2138        																	--						E' una lista mono-riga; la riga può contenere le seguenti colonne:
2139        																	--						1: (obblig.) Indicatore del tipo di soggetto
2140        																	--							Valori possibili:
2141        																	-- 							UT 	= Utente
2142        																	--							SV	= Scrivania virtuale
2143        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
2144        																	--						2: Identificativo del destinatario della copia
2145        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
2146        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
2147        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
2148        																	--						3: Denominazione/nome del soggetto(se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2149        																	--						4: Identificativo della UO cui appartiene la scrivania che rappresenta il soggetto
2150        																	--						5: Nri livello della UO che rappresenta il soggetto o a cui appartiene la scrivania che rappresenta il soggetto (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2151        																	--						6: Denominazione della UO cui appartiene la scrivania che rappresenta il soggetto (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2152        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che rappresenta il soggetto o quello che occupa la scrivania che rappresenta il soggetto
2153        																	--						8: Denominazione dell'utente che occupa la scrivania che rappresenta il soggetto
2154        																	--						9: <Non utilizzata>
2155        																	--						10: <Non utilizzata>
2156        																	--						11: Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente che rappresenta il soggetto o che occupa la scrivania che rappresenta il soggetto
2157        																	--						12: Se colonna 1 =UT o SV: N.ro di matricola dell'utente che rappresenta il soggetto o che occupa la scrivania che rappresenta il soggetto  
2158        																	--						13: <Non utilizzata>
2159        																	--						14: <Non utilizzata>
2160        																	--						15: <Non utilizzata>
2161        																	--						16: <Non utilizzata>
2162        																	--						Se si vuole togliere chi ha in carico la copia basta settare a vuota la lista di questo attributo
2163        																	--  #ConfermaAssegnazione.IdUser		Id. dell'utente che deve confermare le assegnazioni
2164        																	--  #ConfermaAssegnazione.CIEstUser		Codice che identifica l'utente che deve confermare le assegnazioni nell'applicazione esterna da cui ci si connette
2165        																	--  #ConfermaAssegnazione.DesUser		Cognome e nome dell'utente che deve confermare le assegnazioni
2166        																	--  #ConfermaAssegnazione.Username		Username (interna ad Auriga) dell'utente che deve confermare le assegnazioni
2167        																	--	#@Assegnatari		Indica a chi - destinatario o meno, e comunque un soggetto interno - assegnare l'unità documentaria 
2168        																	--						Può essere specificato/variato solo se il documento NON è assegnato o se è assegnato all'utenza di lavoro o UO/Scrivania cui è collegato
2169        																	-- 						Ogni assegnatario è un tag "Riga" con le seguenti colonne:
2170        																	--						1: (obblig.) Indicatore del tipo di assegnatario
2171        																	--							Valori possibili:
2172        																	-- 							UT 	= Utente
2173        																	--							SV	= Scrivania virtuale
2174        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
2175        																	--							G	= Gruppo
2176        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
2177        																	--						2: Identificativo dell'assegnatario
2178        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
2179        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
2180        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
2181        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
2182        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
2183        																	--						3: Denominazione/nome dell'assegnatario (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2184        																	--						4: Identificativo della UO cui appartiene la scrivania assegnataria
2185        																	--						5: Nri livello della UO assegnataria o a cui appartiene la scrivania assegnataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2186        																	--						6: Denominazione della UO cui appartiene la scrivania assegnataria (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2187        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente assegnatario o quello che occupa la scrivania assegnataria
2188        																	--						8: Denominazione dell'utente che occupa la scrivania assegnataria
2189        																	--						9: (valore 1) Indica che l'assegnatario, se UO, sono anche tutte le sue sotto-UO
2190        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo assegnatario
2191        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo assegnatario (alternativo alla colonna 10)
2192        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente assegnatario o che occupa la scrivania assegnataria 
2193        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo assegnatario (alternativo alla colonna 10)
2194        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente assegnatario o che occupa la scrivania assegnataria 
2195        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo assegnatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo assegnatario
2196        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo assegnatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo assegnatario (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2197        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo assegnatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo assegnatario (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2198        																	--						16:(valore 1) Indica che il ruolo amministrativo assegnatario si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
2199        																	--						17: Codice del ruolo dell'assegnatario (valori codificati in apposita disctionary entry)
2200        																	--						18: Ruolo dell'assegnatario (valori in apposita disctionary entry)
2201        																	--						19: Flag che indica la modalità di accesso da dare all'assegnatario sull'unità documentaria (ovvero indica le opzioni di accesso che avrà l'assegnatario nell'ACL dell'UD dopo l'invio, salvo ne avesse già di più ampie)
2202        																	--						    Valori possibili: FC = Full control; M = Modifica metadati e files/contenuti; MM = Modifica soli metadati; V = Sola visualizzazione; VM = Visualizzazione dei soli metadati (non dei files)
2203        																	--						20: (valori 1/NULL) Se 1 indica che è richiesta la notifica di presa in carico per il dato assegnatario 
2204        																	--						21: N.ro di giorni, a partire dalla decorrenza dell'assegnazione, trascorsi i quali senza che sia avvenuta la presa in carico, ci deve essere la notifica di mancata presa in carico da parte del dato assegnatario
2205        																	--						22: Cod. motivo assegnazione al dato assegnatario
2206        																	--						23: Cod. priorità assegnazione al dato assegnatario
2207        																	--						24: (flag 1/0) Se 1 significa che al dato assegnatario va assegnato anche tutto il fascicolo di appartenenza (se 1 solo) 
2208        																	--						25: (flag 1/0) Se 1 significa che al dato assegnatario vanno assegnati anche tutti i documenti collegati (quelli assegnati alla/e strutture dell'utente di lavoro)
2209        																	--						26: (flag 1/0) Se 1 significa che va mentenuta una copia presso chi assegna
2210        																	--						27: Messaggio a corredo dell'assegnazione al dato assegnatario
2211        																	--						28: Id. UO del punto di protocollo a cui assegnare se l'assegnazione non può essere direttamente all'assegnatario indicato e se questo è associato a più punti di protocollo
2212        																	--						29: (1/0) Se 1 significa che è richiesta notifica mail dell'assegnazione
2213        																	--  #CodMotivoAssegn	Cod. del motivo dell'assegnazione agli assegnatari (da dizionario)
2214        																	--	#MotivoAssegn		Motivo dell'assegnazione agli assegnatari (da dizionario)
2215        																	--	#@InvioDestCC		Indica a chi, soggetto interno, inviare per conoscenza l'unità documentaria 
2216        																	-- 						Ogni destinatario di invio per conoscenza è un tag "Riga" con le seguenti colonne:
2217        																	--						1: (obblig.) Indicatore del tipo di destinastario
2218        																	--							Valori possibili:
2219        																	-- 							UT 	= Utente
2220        																	--							SV	= Scrivania virtuale
2221        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
2222        																	--							G	= Gruppo
2223        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
2224        																	--							R@	= Soggetti interni che hanno un certo ruolo rispetto al documento / folder
2225        																	--						2: Identificativo del destinatario
2226        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
2227        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
2228        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
2229        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
2230        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
2231        																	--							è un COD_NATURA_REL di DMT_REL_SOGG_INT_DOC/DMT_REL_SOGG_INT_FOLDER che indica il codice del ruolo rispetto al documento / folder se colonna 1 = R@. Può avere i valori particolari: #CON_ACCESSO (= tutti coloro che hanno accesso anche in sola visualizzazione) e #CON_ACCESSO_IN_MODIFICA (= tutti coloro che hanno accesso anche in modifica dei metadati e/o file)
2232        																	--						3: Denominazione/nome del destinatario (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|"). Se colonna 1 = R@ è la descrizione del ruolo rispetto al documento / folder
2233        																	--						4: Identificativo della UO cui appartiene la scrivania destinataria
2234        																	--						5: Nri livello della UO destinataria o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2235        																	--						6: Denominazione della UO cui appartiene la scrivania destinataria (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2236        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario o quello che occupa la scrivania destinataria
2237        																	--						8: Denominazione dell'utente che occupa la scrivania destinataria
2238        																	--						9: (valore 1) Indica che il destinatario, se UO, sono anche tutte le sue sotto-UO
2239        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario
2240        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario (alternativo alla colonna 10)
2241        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario o che occupa la scrivania destinataria 
2242        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario (alternativo alla colonna 10)
2243        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario o che occupa la scrivania destinataria 
2244        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario
2245        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2246        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2247        																	--						16:(valore 1) Indica che il ruolo amministrativo destinatario si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
2248        																	--						17: Codice del ruolo del destinatario (valori codificati in apposita disctionary entry)
2249        																	--						18: Ruolo del destinatario (valori in apposita disctionary entry)
2250        																	--						19: Flag che indica la modalità di accesso da dare al destinatario sull'oggetto inviato (ovvero indica le opzioni di accesso che avrà il destinatario nell'ACL dell'oggetto dopo l'invio, salvo ne avesse già di più ampie)
2251        																	--						    Valori possibili: FC = Full control; M = Modifica metadati e files/contenuti; MM = Modifica soli metadati; V = Sola visualizzazione; VM = Visualizzazione dei soli metadati (non dei files)
2252        																	--						20: (valori 1/NULL) Se 1 indica che è richiesta la notifica di presa visione per il dato destinatario (anche se non è stata richiesta per tutti i destinatari questa notifica)
2253        																	--						21: N.ro di giorni, a partire dalla decorrenza della notifica, trascorsi i quali senza che sia avvenuta la presa visione, ci deve essere la notifica di mancata presa visione da parte del dato destinatario (anche se tale notifica non è richiesta per tutti i destinatari)
2254        																	--						22: Cod. motivo invio al dato destinatario
2255        																	--						23: Cod. priorità invio al dato destinatario
2256        																	--						24: (flag 1/0) Se 1 significa che al dato destinatario va inviato anche tutto il fascicolo di appartenenza (se 1 solo) 
2257        																	--						25: (flag 1/0) Se 1 significa che al dato destinatario vanno inviati anche tutti i documenti collegati (quelli assegnati alla/e strutture dell'utente di lavoro)
2258        																	--						26: non utilizzata
2259        																	--						27: Messaggio a corredo dell'invio al dato destinatario
2260        																	--						29: (1/0) Se 1 significa che è richiesta notifica mail dell'invio in cc
2261        																	--	#@RelazioniVsUD			Lista delle relazioni dell'unità documentaria con altre unità documentarie (relazioni di precedente-successivo ecc.)
2262        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2263        																	--						1: Identificativo dell'unità documentaria collegata
2264        																	--						2: Categoria di una registrazione/numerazione dell'unità documentaria collegata; valori ammessi: PG = Protocollo Generale; PP = Protocollo Particolare; R = Repertorio; E = Registrazione d'emergenza; A = Altro tipo di numerazione
2265        																	--						3: Sigla di una registrazione/numerazione dell'unità documentaria collegata
2266        																	--						4: Anno di una registrazione/numerazione dell'unità documentaria collegata
2267        																	--						5: N.ro di una registrazione/numerazione dell'unità documentaria collegata
2268        																	--						6: Codice della categoria/natura generale della relazione tra le due unità doc. (valori da dizionario)
2269        																	--						7: Descrizione della categoria/natura generale della relazione tra le due unità doc. (valori da dizionario)
2270        																	--						8: Codice del ruolo che svolge nella relazione l'unità documentaria da creare/aggiornare (valori da dizionario)
2271        																	--						9: Descrizione del ruolo che svolge nella relazione l'unità documentaria da creare/aggiornare (valori da dizionario)
2272        																	--						10: Codice del ruolo che svolge nella relazione l'unità documentaria collegata a quella da creare/aggiornare (valori da dizionario)
2273        																	--						11: Descrizione del ruolo che svolge nella relazione l'unità documentaria collegata a quella da creare/aggiornare (valori da dizionario)
2274        																	--						12: Dettagli della relazione (campo descrittivo)
2275        																	--						22: Sub del n.ro di registrazione
2276        																	--						23: Flag SI/NO: se SI si tratta di un riferimento ad estremi di documento/atto NON presente a sistema
2277        																	--	#Append_#@RelazioniVsUD		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2278        																	--	#@IdUDEmendamentiOrdinati Lista con gli ID_UD degli emendamenti già salvati sull'UD nell'ordine in cui risalvarli
2279        																	--							Ogni riga contiene una sola colonna con l'ID_UD dell'emendamento
2280        																	--	#FlgArchivio			Indica il tipo di archivio a cui appartiene l'unità documentaria: C = Corrente; D = di Deposito; S = Storico
2281        																	--	#FlgTipoProv			Indica se unità documentaria in entrata (E), in uscita (U) o interna/tra uffici (I)
2282        																	--	#TsArrivo				Data e ora di ricezione dell'unità documentaria se in entrata (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
2283        																	--	#IdUDAutRegDiff			Identificativo dell'unità documentaria che rappresenta l'autorizzazione al differimento della registrazione della corrente unità documentaria
2284        																	--	#EstremiAutRegDiff		Estremi dell'atto di autorizzazione al differimento della registrazione della corrente unità documentaria (alternativo al campo precedente, qualora l'atto di aut. al differimento non sia un'unità doc. a sistema)
2285        																	--	#MotiviRegDiff			Motivi del differimento di registrazione della corrente unità documentaria
2286        																	--	#TsTerminXRegDiff			Data e ora che costituiscono un termine rilevante per la ricezione dell'unità documentaria (ad esempio: termine presentazione domande a concorso o offerte di gara) e che a causa del differimento è precedente alla data di registrazione ma non a quella effettiva di ricezione (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
2287        																	--	#DtDocRicevuto			Data di registrazione del documento ricevuto se unità doc. in entrata (ad esempio la data del Protocollo mittente)(nel formato dato dal parametro di conf. FMT_STD_DATA)
2288        																	--	#AnnoDocRicevuto			Anno di registrazione del documento ricevuto se unità doc. in entrata (ad esempio l'anno del Protocollo mittente)
2289        																	--	#EstremiRegDocRicevuto		Estremi di registrazione del documento ricevuto se unità doc. in entrata (ad esempio anno e numero del Protocollo mittente)
2290        																	--	#RifDocRicevuto			Altri riferimenti del documento ricevuto se unità doc. in entrata
2291        																	--	#CodMezzoTrasm			Codice che indica il mezzo di trasmissione dell'unità documentaria dai mittenti/ai destinatari esterni al/dal soggetto produttore/AOO (se in uscita è il mezzo di trasmissione a tutti i destinatari per cui non sia diversamente specificato). Valori in dizionario
2292        																	--	#DesMezzoTrasm			Descrizione del mezzo di trasmissione dell'unità documentaria dai mittenti/ai destinatari esterni al/dal soggetto produttore/AOO (se in uscita è il mezzo di trasmissione a tutti i destinatari per cui non sia diversamente specificato). Valori in dizionaro
2293        																	--	#DtRaccomandata			Data di raccomandata (se la trasmissione è tramite raccomandata) (se in uscita è la data di raccomandata a tutti i destinatari per cui non sia diversamente specificata)(nel formato dato dal parametro di conf. FMT_STD_DATA)
2294        																	--	#NroRaccomandata			Nro di raccomandata (se la trasmissione è tramite raccomandata) (se in uscita è il n.ro di raccomandata a tutti i destinatari per cui non sia diversamente specificato)
2295        																	--	#NroListaRaccomandata	Nro della lista di appartenenza della raccomandata (se la trasmissione è tramite raccomandata)
2296        																	--	#DtNotifica				Data di notifica (per unità doc. in uscita è la data di notifica a tutti i destinatari per cui non sia diversamente specificata)(nel formato dato dal parametro di conf. FMT_STD_DATA)
2297        																	--	#NroNotifica			Nro di notifica (per unità doc. in uscita è il n.ro di notifica a tutti i destinatari per cui non sia diversamente specificato)
2298        																	--	#IndirizzoProv.CITopon	 	Codice toponomastico (cioè nel viario) della via/piazza ecc. dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2299        																	--	#IndirizzoProv.DesIndirizzo 	Via/piazza ecc. dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2300        																	--	#IndirizzoProv.Frazione 	Frazione dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria) 
2301        																	--	#IndirizzoProv.Zona			Zona dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2302        																	--	#IndirizzoProv.Complemento	Complemento (i.e. altri dati) dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2303        																	--	#IndirizzoProv.Civico 		N.ro civico (senza eventuale esponente o altre appendici) dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2304        																	--	#IndirizzoProv.AppendiciCivico 		Appendici del n.ro civico (esponente, bis/ter ecc, colore) dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2305        																	--	#IndirizzoProv.Interno 		Interno del civico dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2306        																	--	#IndirizzoProv.Scala 		Scala del civico dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2307        																	--	#IndirizzoProv.Piano 		Piano nel civico dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2308        																	--	#IndirizzoProv.CAP 		Codice Avviamento Postale dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2309        																	--	#IndirizzoProv.CodIstatCom 	Codice istat del comune (se italiano) dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2310        																	--	#IndirizzoProv.NomeComCitta 	Nome del comune/città dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2311        																	--	#IndirizzoProv.CodIstatStato 	Codice istat dello stato estero dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2312        																	--	#IndirizzoProv.NomeStato 	Nome dello stato estero dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
2313        																	--	#EmailProv.Id				Id. (PK in T_EMAIL_MGO) della mail in arrivo che ha dato luogo all'unità documentaria 
2314        																	--	#EmailProv.Indirizzo		Indirizzo e-mail di provenienza (se unità documentaria in entrata tramite posta elettronica) 
2315        																	--	#EmailProv.FlgCasellaIstituz	Indicatore che l'indirizzo e-mail di provenienza è una casella istituzionale di un'AOO. Valore fisso 1.
2316        																	--	#EmailProv.FlgDichIPA		Indicatore che l'indirizzo e-mail di provenienza è dichiarato all'Indice PA. Valore fisso 1.
2317        																	--	#EmailProv.FlgPEC			Indicatore che l'indirizzo e-mail di provenienza è un idirizzo di Posta Elettronica Certificata. Valore fisso 1.
2318        																	--	#EmailProv.GestorePEC		Estremi del gestore della casella e-mail di provenienza se è di Posta Elettronica Certificata.
2319        																	--	#IdUORicezione			Identificativo della UO che ha ricevuto l'unità documentaria in entrata
2320        																	--	#LivelliUORicezione		Nri livello della UO che ha ricevuto l'unità documentaria in entrata (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)																	
2321        																	--	#DesUORicezione			Denominazione della UO che ha ricevuto l'unità documentaria in entrata (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2322        																	--	#IdUserRicezione			Identificativo (quello interno al sistema) dell'utente che ha ricevuto l'unità documentaria in entrata
2323        																	--	#CIEstUserRicezione		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha ricevuto l'unità documentaria in entrata
2324        																	--	#DesUserRicezione			Descrizione dell'utente che ha ricevuto l'unità documentaria in entrata
2325        																	--	#FlgInteroperabilita		Se valorizzato (valore fisso 1) indica che l'unità documentaria è entrata o uscita tramite interoperabilità tra Protocolli Informatici
2326        																	--	#IdUserCtrlAmmissib		Identificativo (quello interno al sistema) dell'utente che ha effettuata il controllo di ammissibilità dell'unità documentaria in ingresso con il meccanismo dell'interoperabilità tra Protocolli Informatici
2327        																	--	#CIEstUserCtrlAmmissib		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuata il controllo di ammissibilità dell'unità documentaria in ingresso con il meccanismo dell'interoperabilità tra Protocolli Informatici
2328        																	--	#DesUserCtrlAmmissib		Descrizione dell'utente che ha effettuata il controllo di ammissibilità dell'unità documentaria in ingresso con il meccanismo dell'interoperabilità tra Protocolli Informatici
2329        																	--	#TsSpedizione			Data e ora di spedizione dell'unità documentaria se ricevuta via PEC (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
2330        																	--	#DtSpedizione			Data di spedizione dell'unità documentaria se in uscita (nel formato dato dal parametro di conf. FMT_STD_DATA)
2331        																	--	#IdUserSpedizione			Identificativo (quello interno al sistema) dell'utente che ha effettuato la spedizione dell'unità documentaria (in uscita)
2332        																	--	#CIEstUserSpedizione		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuato la spedizione dell'unità documentaria (in uscita)
2333        																	--	#DesUserSpedizione		Descrizione dell'utente che ha effettuato la spedizione dell'unità documentaria (in uscita)
2334        																	--	#IdUOSpedizione			Identificativo della UO che ha effettuato la spedizione dell'unità documentaria (in uscita)
2335        																	--	#LivelliUOSpedizione		Nri livello della UO che ha effettuato la spedizione dell'unità documentaria (in uscita)(tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)																	
2336        																	--	#DesUOSpedizione			Denominazione della UO che ha effettuato la spedizione dell'unità documentaria (in uscita)(può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2337        																	--	#NroAllegati			N.ro di allegati      																	
2338        																	--	#LivEvidenza                  Livello di evidenza assegnato all'unità documentaria (il massimo valore possibile è dato dal parametro di configurazione MAX_LIV_EVIDENZA)
2339        																	--	#FlgInteresseCessato		Se pari a 1 indica che è cessato l'interesse sull'unità documentaria, se 0 o NULL che l'interesse è attivo
2340        																	--	#CollocazioneFisica.IdTopografico	Id. del luogo - censito nel topografico - in cui è collocata l'unità documentaria
2341        																	--  #CollocazioneFisica.Descrizione		Descrizione libera della collocazione fisica dell'unità documentaria
2342        																	--	#FlgConservPerm			Se valorizzato (valore fisso 1) indica che l'unità documentaria deve essere conservata illimitatamente		
2343        																	--	#PeriodoConserv               Periodo minimo di conservazione (espresso in anni) dell'unità documentaria (se non specificato può essere ereditato da quelli definiti per la tipologia del doc. primario o la/le classificazione o il tipo del/dei fascicolo di appartenenza o il tipo del/i procedimenti di afferenza)
2344        																	--	#CodSupportoConserv		Codice del supporto fisico di conservazione (carta, disco ottico, microfilm ecc) dell'unità documentaria. Valori da dizionario
2345        																	--	#DesSupportoConserv		Descrizione del supporto fisico di conservazione (carta, disco ottico, microfilm ecc) dell'unità documentaria. Valori da dizionario
2346        																	--	#DtScarto                     Data di scarto archivistico (vale a dire esculsione dal processo di conservazione) dell'unità documentaria (nel formato dato dal parametro di conf. FMT_STD_DATA)
2347        																	--	#IdUserScarto           	Identificativo (quello interno al sistema) dell'utente che ha effettuato lo scarto archivistico dell'unità documentaria
2348        																	--	#CIEstUserScarto			Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuato lo scarto archivistico dell'unità documentaria	
2349        																	--	#DesUserScarto			Descrizione dell'utente che ha effettuato lo scarto archivistico dell'unità documentaria
2350        																	--	#IdUserAutScarto           	Identificativo (quello interno al sistema) dell'utente che ha autorizzato lo scarto archivistico dell'unità documentaria
2351        																	--	#CIEstUserAutScarto		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato lo scarto archivistico dell'unità documentaria	
2352        																	--	#DesUserAutScarto			Descrizione dell'utente che ha autorizzato lo scarto archivistico dell'unità documentaria
2353        																	--	#NoteUD				Annotazioni dell'unità documentaria
2354        																	--	#CodStato				Codice dello stato dell'unità documentaria 
2355        																	--	#CodStatoDett			Codice dello stato di dettaglio dell'unità documentaria		
2356        																	--	#DesStato				Descrizione dello stato dell'unità documentaria
2357        																	--	#DesStatoDett			Descrizione dello stato di dettaglio dell'unità documentaria
2358        																	--	#DataEsecutivita		Data di escutività
2359        																	--	#DataAdozione			Data di adozione
2360        																	--	#ProvCIUD				Codice identificativo dell'unità documentaria in un eventuale sistema di provenienza
2361        																	--  #MotiviModificaDatiRegistrazione Motivo per cui si modificano i dati dell'unità documentaria - se registrata su registro ufficiale quali quelli di protocollo e repertorio - che figurano nel registro di protocollo/repertorio
2362        																	--  #ProcessToStart.IdBPMProcessDef 	Id. del flusso BPM (comprensivo di versione) con il quale avviare un processo legato al folder aperto dall'unità documentaria
2363        																	--										se il folder ha già un processo associato la variabile viene ignorata
2364        																	--  #ProcessToStart.IdBPMProcessInst	Id. dell'istanza di processo BPM con la quale avviare un processo legato al folder aperto dall'unità documentaria
2365        																	--										se il folder ha già un processo associato la variabile viene ignorata
2366        																	--	#RichPubblicazione.DtInizioPubbl	Data di inizio pubblicazione richiesta (all'Albo o B.U.)
2367        																	--  #RichPubblicazione.NroGGPubbl  		N.ro di giorni di pubblicazione
2368        																	--  #RichPubblicazione.FormaPubblicazione	Forma di pubblicazione: INTEGRALE o PER_ESTRATTO
2369        																	--  #RichPubblicazione.DtInizioRiPubbl	Data di inizio 2a pubblicazione richiesta (all'Albo o B.U.)
2370        																	--  #RichPubblicazione.NroGGRiPubbl  	N.ro di giorni 2a pubblicazione
2371        																	--  #RichPubblicazione.Note				Note pubblicazione
2372        																	--  #RichPubblicazione.Id				Id. della richiesta di pubblicazione da modificare (0# + <data inizio pubbl. in formato DDMMRRRR>)
2373        																	--	#RichPubblicazione.DaEliminare		Se 1 indica che la pubblicazione richiesta e non ancora effettuata è da eliminare
2374        																	--  #FlgSoloSetDatiRichPubbl 			Se 1 indica che l'unica cosa da aggiornare sono i dati di richiesta pubblicazione per cui non serve permesso di modifica sull'UD
2375        																	--  #AnnPubblicazione.Id				Id. della pubblicazione dell'unità documentale da annullare
2376        																	--  #AnnPubblicazione.Motivo			Motivo dell'annullamento della pubblicazione dell'unità documentale indicata in #AnnPubblicazione.Id
2377        																	--  #ProrogaPubblicazione.Id			Id. della pubblicazione dell'unità documentale da prorogare
2378        																	--  #ProrogaPubblicazione.DataA  		Data di nuovo termine della pubblicazione dell'unità documentale indicata in #ProrogaPubblicazione.Id (formato GG/MM/AAAA)
2379        																	--  #ProrogaPubblicazione.GiorniDurata	Giorni di nuova durata della pubblicazione dell'unità documentale indicata in #ProrogaPubblicazione.Id
2380        																	--  #ProrogaPubblicazione.Motivo		Motivo della proroga della pubblicazione dell'unità documentale indicata in #ProrogaPubblicazione.Id
2381        																	--  #RettificaPubblicazione.Id          Id. della pubblicazione dell'unità documentale da rettificare
2382        																	--  #RettificaPubblicazione.Motivo      Motivo della rettifica della pubblicazione dell'unità documentale indicata in #RettificaPubblicazione.Id                      
2383        																	--  @Allegati				Contiene informazioni sugli allegati eventuali da aggiungere o versionare
2384        																	--							Gli allegati qui indicati si aggiungono (o se col 18 valorizzata modificano e/o versionano) a quelli pre-esistenti che non vengono tolti
2385        																	--							Viene gestita solo in caso di modifica del documento primario o dell'UD
2386        																	--							Ogni riga rappresenta un allegato e contiene le seguenti colonne:
2387        																	--							1:	Nome file per visualizzazione (senza rinomina se manca estensione o estensione non coerente con formato)
2388        																	--							2:	URI del file in notazione StorageUtil
2389        																	--							3:	Id. della tipologia documentale dell'allegato
2390        																	--							4:	Nome della tipologia documentale dell'allegato
2391        																	--							5:	Descrizione dell'allegato
2392        																	--							6:	Dimensione (in bytes)
2393        																	--							7: 	Impronta
2394        																	--							8: 	Algoritmo impronta
2395        																	--							9: 	Encoding impronta
2396        																	--							10: Flg file firmato (valori 1/0)
2397        																	--							11: Mimetype
2398        																	--							12: Firmatari considerando solo sottoscrizioni digitali(se più di uno separati da ";" )
2399        																	--							13: Indicazione del tipo di firma (CAdES o PAdES o XAdES)
2400        																	--							14: Info di verifica della firma 
2401        																	--							15: Data e ora delle marca se presente marca temporale valida (nel formato DD/MM/RRR HH24:MI:SS)
2402        																	--							16: Tipo di marca temporale se presente
2403        																	--							17: Informazioni di verifica della marca temporale se presente
2404        																	--							18: ID_DOC dell'allegato se già salvato. Se indicato viene aggiornato l'allegato già presente con quell'ID_DOC
2405        																	--							19: Codice del tipo di supporto su cui originariamente è stato acquisito o prodotto il documento (cartaceo, informatico ecc). Valori da dizionario
2406        																	--							20: Indica se il documento cartaceo è: originale unico (OU), originale non unico (ONU), copia (C)
2407        																	--							21: ID dell'allegato nel sistema di provenienza
2408        																	--							22: Data e ora della firma digitale della busta crittografica più esterna, se presente (nel formato DD/MM/RRR HH24:MI:SS)
2409        																	--							23: Flag di firma non valida alla data (valori 1/0/NULL) (la firma della busta crittografica più esterna)
2410        																	--							24: Flag di manca temporale non valida alla data (valori 1/0/NULL)
2411        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>_Ud: qualsiasi attributo dinamico specificabile per un'unità documentaria (nel dominio di lavoro)									
2412        																	-- E gli attributi del documento sono:
2413        																	--	#IdUD					Id. dell'unità documentaria di appartenenza
2414        																	--	#CodCategoriaRegUD		Codice di una categoria di registrazione dell'unità documentaria di appartenenza 
2415        																	--	#SiglaRegUD				Sigla di registrazione/numerazione dell'unità documentaria di appartenenza
2416        																	--	#AnnoRegUD				Anno di registrazione/numerazione dell'unità documentaria di appartenenza
2417        																	--	#NroRegUD				N.ro di registrazione/numerazione dell'unità documentaria di appartenenza
2418        																	--	#CodNaturaRelVsUD			Codice della natura della relazione del documento (allegato, mail ricevuta, ricevuta di accettazione ecc) con l'unità documentaria. Valori da dizionario.
2419        																	--						Si può variare solo se non è il documento primario dell'unità doc. a cui è già associato
2420        																	--	#DesNaturaRelVsUD			Natura della relazione del documento (allegato, mail ricevuta, ricevuta di accettazione ecc) con l'unità documentaria. Valori da dizionario.
2421        																	--						Si può variare solo se non è il documento primario dell'unità doc. a cui è già associato
2422        																	--	#DettagliRelVsUD			Dettagli della relazione del documento con l'unità documentaria.
2423        																	--						Da specificare solo se l'unità documentaria è preesistente (e quindi il documento non è il primario)
2424        																	--  #@IdDocAllegatiOrdinati	Lista con gli ID_DOC degli allegati già salvati nell'ordine in cui risalvarli
2425        																	--							Ogni riga contiene una sola colonna con l'ID_DOC dell'allegato
2426        																	--	#IdDocType				Identificativo del tipo del documento
2427        																	--	#NomeDocType			Nome del tipo del documento
2428        																	--	#ProvCIDocType			Codice identificativo del tipo documento nel sistema di provenienza (PROV_CI_DOC_TYPE)
2429        																	--	#@MittentiEsterni			Lista con i dati dei mittenti esterni.
2430        																	--						ATTENZIONE: possono essere o meno soggetti censiti nella rubrica del sistema ed eventualmente anche nell'anagrafe residenti o ditte
2431        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
2432        																	--								tutti gli altri campi (colonne dalla 3 alla 14) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul documento)
2433        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul documento vengono riportati come nel tag
2434        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al documento
2435        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2436        																	--						1: Identificativo del soggetto nella rubrica soggetti del sistema
2437        																	--						2: Codice identificativo del soggetto nell'anagrafe o sistema di provenienza
2438        																	--						3: Se valorizzato (valore fisso 1) indica che il soggetto è una persona fisica (altrimenti si intende essere una persona giuridica)
2439        																	--						4: Denominazione (se persona giuridica) o cognome (se persona fisica)
2440        																	--						5: Nome (se persona fisica)
2441        																	--						6: Codice fiscale
2442        																	--						7: Partita IVA
2443        																	--						8: Sesso (valori F/M/NULL) (se persona fisica)
2444        																	--						9: Data di nascita/istituzione (nel formato dato dal parametro FMT_STD_DATA)
2445        																	--						10: Codice ISTAT del comune di nascita/istituzione
2446        																	--						11: Nome del comune (se italiano) o città estera di nascita/istituzione
2447        																	--						12: Codice ISTAT dello stato estero di nascita/istituzione
2448        																	--						13: Nome dello stato estero di nascita/istituzione
2449        																	--						14: Codice ISTAT dello stato di cittadinanza
2450        																	--						15: Nome dello stato di cittadinanza
2451        																	--						16: Indicatore di soggetto da registrare in rubrica soggetti se non vi è già presente (in base ai criteri stabiliti per il test di esistenza). Valore fisso 1.
2452        																	--						17: Cod. rapido assegnatogli in rubrica
2453        																	--						24: Codice toponomastico (cioè nel viario) della via/piazza ecc. dell'indirizzo 
2454        																	--						25: Via/piazza ecc. dell'indirizzo fisico 
2455        																	--						26: Località dell'indirizzo fisico  
2456        																	--						27: N.ro civico (senza eventuale esponente o altre "appendici" quali colore ecc che vanno in colonna 47) dell'indirizzo fisico 
2457        																	--						28: Interno del civico dell'indirizzo fisico 
2458        																	--						29: Scala del civico dell'indirizzo fisico 
2459        																	--						30: Piano nel civico dell'indirizzo fisico 
2460        																	--						31: Codice Avviamento Postale dell'indirizzo fisico 
2461        																	--						32: Codice istat del comune (se italiano) dell'indirizzo fisico 
2462        																	--						33: Nome del comune/città dell'indirizzo fisico 
2463        																	--						34: Codice istat dello stato estero dell'indirizzo fisico 
2464        																	--						35: Nome dello stato estero dell'indirizzo fisico 
2465        																	--						43: N.ro che indica la posizione del mittente tra tutti i destinatari interni ed esterni del documento 
2466        																	--						44: Titolo di studio/professionale
2467        																	--						45: Zona dell'indirizzo fisico 
2468        																	--						46:	Complemento (i.e. altri dati) dell'indirizzo fisico 
2469        																	--						47: Appendici del n.ro civico (esponente, bis/ter ecc, colore) dell'indirizzo fisico 
2470        																	--						48: non utilizzato
2471        																	--					    49: Tipo di toponimo dell'indirizzo fisico 
2472        																	--						50: Indirizzo e-mail
2473        																	--						51: N.ro di telefono
2474        																	--						52: Userid del mittente
2475        																	--	#Append_#@MittentiEsterni	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2476        																	--	#@DestinatariEsterni		Lista con i dati dei destinatari (in realtà possono essere esterni o interni)
2477        																	--						ATTENZIONE: possono essere o meno soggetti censiti nella rubrica del sistema ed eventualmente anche nell'anagrafe residenti o ditte
2478        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
2479        																	--								tutti gli altri campi (colonne dalla 3 alla 14) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul documento)
2480        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul documento vengono riportati come nel tag
2481        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al documento
2482        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2483        																	--						1: Identificativo del soggetto nella rubrica soggetti del sistema
2484        																	--						2: Codice identificativo del soggetto nell'anagrafe o sistema di provenienza 
2485        																	--						3: Se valorizzato (valore fisso 1) indica che il soggetto è una persona fisica (altrimenti si intende essere una persona giuridica)
2486        																	--						4: Denominazione (se persona giuridica) o cognome (se persona fisica)
2487        																	--						5: Nome (se persona fisica)
2488        																	--						6: Codice fiscale
2489        																	--						7: Partita IVA
2490        																	--						8: Sesso (valori F/M/NULL) (se persona fisica)
2491        																	--						9: Data di nascita/istituzione (nel formato dato dal parametro FMT_STD_DATA)
2492        																	--						10: Codice ISTAT del comune di nascita/istituzione
2493        																	--						11: Nome del comune (se italiano) o città estera di nascita/istituzione
2494        																	--						12: Codice ISTAT dello stato estero di nascita/istituzione
2495        																	--						13: Nome dello stato estero di nascita/istituzione
2496        																	--						14: Codice ISTAT dello stato di cittadinanza
2497        																	--						15: Nome dello stato di cittadinanza
2498        																	--						16: Indicatore di soggetto da registrare in rubrica soggetti se non vi è già presente (in base ai criteri stabiliti per il test di esistenza). Valore fisso 1.
2499        																	--						17: Codice che indica il mezzo di trasmissione dell'unità documentaria al destinataro. Valori in dizionario
2500        																	--						18: Descrizione del mezzo di trasmissione dell'unità documentaria al destinatario. Valori in dizionaro
2501        																	--						19: Data e ora di spedizione/invio al destinatario (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
2502        																	--						20: Data di raccomandata (se la trasmissione è tramite raccomandata)(nel formato dato dal parametro di conf. FMT_STD_DATA)
2503        																	--						21: Nro di raccomandata al destinatario (se la trasmissione è tramite raccomandata)
2504        																	--						22: Data di notifica al destinatario (nel formato dato dal parametro di conf. FMT_STD_DATA)
2505        																	--						23: Nro di notifica al destinatario
2506        																	--						24: Codice toponomastico (cioè nel viario) della via/piazza ecc. dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
2507        																	--						25: Via/piazza ecc. dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
2508        																	--						26: Località dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria) 
2509        																	--						27: N.ro civico (senza eventuale esponente o altre "appendici" quali colore ecc che vanno in colonna 47) dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
2510        																	--						28: Interno del civico dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
2511        																	--						29: Scala del civico dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
2512        																	--						30: Piano nel civico dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
2513        																	--						31: Codice Avviamento Postale dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
2514        																	--						32: Codice istat del comune (se italiano) dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
2515        																	--						33: Nome del comune/città dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
2516        																	--						34: Codice istat dello stato estero dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
2517        																	--						35: Nome dello stato estero dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
2518        																	--						36: Indirizzo e-mail del destinatario (se invio tramite posta elettronica) 
2519        																	--						37: Indicatore che l'indirizzo e-mail del destinatario è un idirizzo di Posta Elettronica Certificata. Valore fisso 1.
2520        																	--						38: Estremi del gestore della casella e-mail del destinatario se è di Posta Elettronica Certificata.
2521        																	--						39: Indicatore di destinatario per conoscenza. Valore fisso 1. 
2522        																	--						40: Indicatore che l'indirizzo e-mail del destinatario è dichiarato all'Indice PA. Valore fisso 1.
2523        																	--						41: Indicatore che l'indirizzo e-mail del destinatario è una casella istituzionale di un'AOO. Valore fisso 1.
2524        																	--						42: Nro fax del destinatario (se invio tramite fax) 
2525        																	--						43: N.ro che indica la posizione del destinatario tra tutti i destinatari interni ed esterni del documento 
2526        																	--						44: Titolo di studio/professionale
2527        																	--						45: Zona dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria) 
2528        																	--						46:	Complemento (i.e. altri dati) dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria) 
2529        																	--						47: Appendici del n.ro civico (esponente, bis/ter ecc, colore) dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
2530        																	--						48: Cod. rapido assegnatogli in rubrica
2531        																	--					    49: Tipo di toponimo dell'indirizzo fisico di invio al destinatario
2532        																	--						53: Tipo di destinatario; valori ammessi: UOI = Unità Operativa dell'organigramma; UP = Unità di personale
2533        																	--						54: Id. UO / id. scrivania  (se colonna 53 è valorizzata)
2534        																	--						57: Indicatore di destinatario che è anche assegnatario (possibile solo se destinatario interno). Valore fisso 1.
2535        																	--	#Append_#@DestinatariEsterni	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2536        																	--	#@GruppiDestinatari	Lista con i gruppi/liste di distribuzione di destinatari
2537        																	--						ATTENZIONE: devono essere gruppi/liste di distribuzione censite nella rubrica del sistema
2538        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
2539        																	--								tutti gli altri campi (colonne dalla 3 alla 15) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul documento)
2540        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul documento vengono riportati come nel tag
2541        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al documento
2542        																	--						Ciscuna riga della lista è un gruppo/lista di distribuzione e può contenere le seguenti colonne:
2543        																	--						1: Identificativo (ID_GRUPPO) del gruppo/lista di distribuzione
2544        																	--						2: Nome del gruppo/lista di distribuzione
2545        																	--						3: Codice rapido del gruppo/lista di distribuzione
2546        																	--						4: Indicatore di destinatario per conoscenza (i.e. tutti i membri del gruppo sono destinatari x conoscenza). Valore fisso 1. 
2547        																	--						5: Indicatore di destinatario con assegnazione (i.e. i membri del gruppo sono assegnatari). Valore fisso 1.
2548        																	--	#@AltriSoggettiEsterni		Lista con i dati di altri soggetti esterni (firmatari, conraenti ecc) in relazione con il documento
2549        																	--						ATTENZIONE: possono essere o meno soggetti censiti nella rubrica del sistema ed eventualmente anche nell'anagrafe residenti o ditte
2550        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
2551        																	--								tutti gli altri campi (colonne dalla 3 alla 14) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul documento)
2552        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul documento vengono riportati come nel tag
2553        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al documento
2554        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2555        																	--						1: Identificativo del soggetto nella rubrica soggetti del sistema
2556        																	--						2: Codice identificativo del soggetto nell'anagrafe o sistema di provenienza
2557        																	--						3: Se valorizzato (valore fisso 1) indica che il soggetto è una persona fisica (altrimenti si intende essere una persona giuridica)
2558        																	--						4: Denominazione (se persona giuridica) o cognome (se persona fisica)
2559        																	--						5: Nome (se persona fisica)
2560        																	--						6: Codice fiscale
2561        																	--						7: Partita IVA
2562        																	--						8: Sesso (valori F/M/NULL) (se persona fisica)
2563        																	--						9: Data di nascita/istituzione (nel formato dato dal parametro FMT_STD_DATA)
2564        																	--						10: Codice ISTAT del comune di nascita/istituzione
2565        																	--						11: Nome del comune (se italiano) o città estera di nascita/istituzione
2566        																	--						12: Codice ISTAT dello stato estero di nascita/istituzione
2567        																	--						13: Nome dello stato estero di nascita/istituzione
2568        																	--						14: Codice ISTAT dello stato di cittadinanza
2569        																	--						15: Nome dello stato di cittadinanza
2570        																	--						16: Indicatore di soggetto da registrare in rubrica soggetti se non vi è già presente (in base ai criteri stabiliti per il test di esistenza). Valore fisso 1.
2571        																	--						17: (obblig. se campo successivo non è valorizzato) Codice della natura della relazione del soggetto con il documento (firmatario, contraente ecc). Valori da dizionario.
2572        																	--						18: (obblig. se campo precedente non è valorizzato) Descrizione della natura della relazione del soggetto con il documento (firmatario, contraente ecc). Valori da dizionario.
2573        																	--						19: Dettagli sulla natura della relazione tra soggetto e documento
2574        																	--						20: Titolo di studio/professionale
2575        																	--						21: Cod. rapido assegnatogli in rubrica
2576        																	--						23: N° documento di riconoscimento
2577        																	--						24: Codice toponomastico (cioè nel viario) della via/piazza ecc. dell'indirizzo 
2578        																	--						25: Via/piazza ecc. dell'indirizzo fisico 
2579        																	--						26: Località dell'indirizzo fisico  
2580        																	--						27: N.ro civico (senza eventuale esponente o altre "appendici" quali colore ecc che vanno in colonna 47) dell'indirizzo fisico 
2581        																	--						28: Interno del civico dell'indirizzo fisico 
2582        																	--						29: Scala del civico dell'indirizzo fisico 
2583        																	--						30: Piano nel civico dell'indirizzo fisico 
2584        																	--						31: Codice Avviamento Postale dell'indirizzo fisico 
2585        																	--						32: Codice istat del comune (se italiano) dell'indirizzo fisico 
2586        																	--						33: Nome del comune/città dell'indirizzo fisico 
2587        																	--						34: Codice istat dello stato estero dell'indirizzo fisico 
2588        																	--						35: Nome dello stato estero dell'indirizzo fisico 
2589        																	--						45: Zona dell'indirizzo fisico 
2590        																	--						46:	Complemento (i.e. altri dati) dell'indirizzo fisico 
2591        																	--						47: Appendici del n.ro civico (esponente, bis/ter ecc, colore) dell'indirizzo fisico 
2592        																	--						48: non utilizzato
2593        																	--					    49: Tipo di toponimo dell'indirizzo fisico 
2594        																	--						50: Indirizzo e-mail
2595        																	--						51: (valori 1/0) Se 1 indica se il soggetto (qualora esibente) è anche mittente
2596        																	--						52: Tipo di documento di riconoscimento
2597        																	--						53: N.ro di telefono
2598        																	--						54: (valori U/E) Indica se soggetto incaricato del ritiro documentazione per conto di: U = ufficio interno, E = richiedente esterno
2599        																	--	#Append_#@AltriSoggettiEsterni Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2600        																	--	#DesOgg				Oggetto / descrizione del documento
2601        																	--	#ParoleChiave                 Parole chiave per cui è utile ricercare il documento 
2602        																	--	#CodSupportoOrig            	Codice del tipo di supporto su cui originariamente è stato acquisito o prodotto il documento (cartaceo, informatico ecc). Valori da dizionario
2603        																	--	#SupportoOriginale			Descrizione del tipo di supporto su cui originariamente è stato acquisito o prodotto il documento (cartaceo, informatico ecc). Valori da dizionario
2604        																	--	#FlgTipoCartaceo            	Indica se il documento cartaceo è: originale unico (OU), originale non unico (ONU), copia (C)
2605        																	--	#FlgDigitalizzazione         	Indica se il documento, originariamente cartaceo, è stato digitalizzato (2) o se ne è richiesta la digitalizzazione (1)
2606        																	--	#CISuCartaceo                 Codice (ad esempio un codice a barre) riportato sul documento cartaceo per identificarlo (da usarsi in fase di digitalizzazione per associare l'immagine al documento corretto)
2607        																	--	#NroPagineCartaceo          	N.ro di pagine del documento cartaceo
2608        																	--	#DtStesura  	            Data di redazione del documento (nel formato dato dal parametro di conf. FMT_STD_DATA)
2609        																	--	#LuogoStesura			Luogo di redazione del documento (descrittivo)
2610        																	--	#@Estensori                   Lista degli estensori (interni) del documento (sono utenti censiti nel sistema)
2611        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2612        																	--						1: Identificativo (quello interno al sistema) dell'utente estensore
2613        																	--						2: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente estensore
2614        																	--						3: Descrizione dell'utente estensore
2615        																	--						4: Username dell'utente estensore (quella interna)
2616        																	--	#Append_#@Estensori		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)			
2617        																	--	#@UffProduttori               Lista degli uffici che hanno prodotto il documento (UO censite nel sistema)
2618        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2619        																	--						1: Identificativo della UO
2620        																	--						2: Nri livello della UO (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2621        																	--						3: Denominazione della UO (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2622        																	--	#Append_#@UffProduttori		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)			
2623        																	--	#LivRiservatezza             	Livello di riservatezza del documento (n.ro intero da 0 ad un valore dato dal parametro di configurazione MAX_LIV_RISERVATEZZA)
2624        																	--	#DtTermineRiservatezza			Data in cui cessa di valere la riservatezza indicata il #LivRiservatezza (nel formato indicato nel parametro di config. FMT_STD_DATA)
2625        																	--	#FlgVisibInChiaroRistrettaA		Indica, qualora sia settato un livello di riservatezza, a chi è ristretta la visibilità di tutti i dati e file del documento:
2626        																	--									C  =	assegnatari per competenza (i.e. i soggetti – UO, postazioni, utenti – a cui il documento è stato assegnato per competenza e che non l'hanno a loro volta smistato o riassegnato a qualcun altro);
2627        																	--									CE =	coloro a cui il documento è stato assegnato per competenza (anche se successivamente l'hanno a loro volta smistato o riassegnato a qualcun altro);
2628        																	--									CC =	coloro a cui il documento è stato assegnato per competenza o conoscenza.
2629        																	--	#FlgDatiPersonali           	Se valorizzato (valore fisso 1) indica che il documento contiene dati personali
2630        																	--	#FlgDatiSensibili           	Se valorizzato (valore fisso 1) indica che il documento contiene dati sensibili
2631        																	--	#FlgDatiSensibilissimi      	Se valorizzato (valore fisso 1) indica che il documento contiene dati sensibilissimi
2632        																	--	#FlgDatiGiudiziari          	Se valorizzato (valore fisso 1) indica che il documento contiene dati giudiziari
2633        																	--	#FlgEsercDirPrivacy        	Se valorizzato (valore fisso 1) indica che l'interessato ha esercitato i diritti di cui al codice sulla privacy
2634        																	--	#FlgBloccoTrattamento       	Se valorizzato (valore fisso 1) indica che l'interessato ha esercitato il blocco del trattamento dei dati personali
2635        																	--	#DtTermineBloccoTratt         Termine (data) posto al blocco del trattamento dei dati personali di cui al campo precedente (nel formato dato dal parametro di conf. FMT_STD_DATA)
2636        																	--	#FlgLimitAccesso            	Indica se l'accesso al documento dall'esterno è precluso temporaneamente (1) o permanentemente (2)
2637        																	--	#DtTermineDiffAccesso      	Termine (data) fino a cui l'accesso al documento dall'esterno è differito (nel formato dato dal parametro di conf. FMT_STD_DATA)
2638        																	--	#IdUserTitolareTratt       	Identificativo (quello interno al sistema) dell'utente titolare del trattamento dei dati personali, sensibili ecc. contenuti nel documento
2639        																	--	#CIEstUserTitolareTratt		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente titolare del trattamento dei dati personali, sensibili ecc. contenuti nel documento
2640        																	--	#DesUserTitolareTratt       	Descrizione dell'utente titolare del trattamento dei dati personali, sensibili ecc. contenuti nel documento
2641        																	--	#IdUserRespTratt       		Identificativo (quello interno al sistema) dell'utente responsabile del trattamento dei dati personali, sensibili ecc. contenuti nel documento
2642        																	--	#CIEstUserRespTratt		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente responsabile del trattamento dei dati personali, sensibili ecc. contenuti nel documento
2643        																	--	#DesUserRespTratt       	Descrizione dell'utente responsabile del trattamento dei dati personali, sensibili ecc. contenuti nel documento
2644        																	--	#@IncaricatiTrattamento       Lista degli incaricati del trattamento dei dati personali, sensibili ecc. contenuti nel documento. Devono essere utenti censiti nel sistema
2645        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2646        																	--						1: Identificativo (quello interno al sistema) dell'utente incaricato
2647        																	--						2: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente incaricato
2648        																	--						3: Descrizione dell'utente incaricato
2649        																	--	#Append_#@IncaricatiTrattamento Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)			
2650        																	--	#RestrizioniAccesso 	  	Restrizioni all'accesso al documento (parti da oscuare ecc.)
2651        																	--	#RestrizioniRiprod           	Restrizioni alla riproduzione del documento
2652        																	--	#FlgCartaceoEliminato       	Se valorizzato (valore fisso 1) indica che il cartaceo del documento è stato eliminato
2653        																	--	#DtElimCartaceo             	Data di eliminazione del cartaceo del documento (nel formato dato dal parametro di conf. FMT_STD_DATA)
2654        																	--	#IdUserElimCart            	Identificativo (quello interno al sistema) dell'utente che ha eliminato il cartaceo
2655        																	--	#CIEstUserElimCart		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha eliminato il cartaceo
2656        																	--	#DesUserElimCart       		Descrizione dell'utente che ha eliminato il cartaceo
2657        																	--	#IdUserAutElimCart        	Identificativo (quello interno al sistema) dell'utente che ha autorizzato l'eliminazione del cartaceo
2658        																	--	#CIEstUserAutElimCart		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato l'eliminazione del cartaceo
2659        																	--	#DesUserAutElimCart       	Descrizione dell'utente che ha autorizzato l'eliminazione del cartaceo
2660        																	--	#ProvCIDoc                  	Codice identificativo del documento in un eventuale sistema di provenienza
2661        																	--	#ContainerHandler			Tipo di contenitore (file-system, Hummingbird, ecc) in cui dovranno essere collocate eventuali nuove versioni elettroniche del documento
2662        																	--	#ContainerAlias			Alias che identifica lo specifico contenitore (del tipo #ContainerHandler) in cui dovranno essere collocate eventuali nuove versioni elettroniche del documento
2663        																	--	#FlgInvioInConserv		Indicatore di invio in conservazione
2664        																	--	#FlgInvioInConservUrgente	Livello di urgenza dell'invio in conservazione (numero intero positivo)
2665        																	--	#TsInvioInConservazione	Data e ora di invio in conservazione
2666        																	--  #StatoConservazione 		Stato del processo di conservazione. Valori ammessi: inviato, accettato, rifiutato, conservato
2667        																	--  #ErrMsgInvioInConservazione	Errore dell'invio al sistema di conservazione
2668        																	--  #IdInConservazione		Id. assegnato al documento dal sistema di conservazione
2669        																	--	#CanaleInvioDest	Codice del canale di invio dell'unità documentaria al destinatario/cliente. Va sepcificato il codice come da dizionario di sistema
2670        																	--  #@AttiRichiesti 	Lista delle pratiche/fascicoli richiesti tramite l'UD (nel caso di UD di richiesta accesso atti in archivio)
2671        																	--						I folder/pratiche che non risultano già esistenti vengono creati
2672        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2673        																		-- 1)   Tipo di identificativo dell’atto/pratica: PG (Prot. Gen.) , PS (Protocollo di settore), EP (Protocollo Edilizia Privata)
2674        																		-- 2)   N° di protocollo
2675        																		-- 3)   Registro del protocollo di settore
2676        																		-- 4)   Anno di protocollo
2677        																		-- 5)   Sub del nro di protocollo
2678        																		-- 6)	Stato scansione: N (Non ancora scansionata), P (Parzialmente scansionata), C (Completamente scansionata)
2679        																		-- 7)	ID_FOLDER del folder corrispondente alla pratica
2680        																		-- 8)	Stato: con valori non pervenuto in Cittadella, presente in Cittadella, prelevato e ancora da restituire
2681        																		-- 9)	Unità di Carico (UDC) in cui si trova la pratica
2682        																		-- 10)	Denominazione ufficio che ha effettuato il prelievo
2683        																		-- 11)	Cod. dell’ufficio che ha effettuato il prelievo
2684        																		-- 12)	ID_UO che ha effettuato il prelievo
2685        																		-- 13)	Cognome responsabile prelievo
2686        																		-- 14)	Nome responsabile prelievo
2687        																		-- 15)	Username responsabile prelievo
2688        																		-- 16)	ID_USER responsabile prelievo
2689        																		-- 17)	Data prelievo (GG/MM/AAAA)
2690        																		-- 18)	Note uff. richiedente
2691        																		-- 19)	Note dell'archivio
2692        																		-- 20)  Classifica del fascicolo (anche storica, campo di testo libero)
2693        																		-- 22)  Competenza di Urbanistica
2694        																		-- 23)  Cartaceo reperibile
2695        																		-- 24)  Archivio in cui si trova il cartaceo
2696        																		-- 25)	Flag che indica se richiesta (1) o meno visione del cartaceo
2697        																		-- 26)  Tipo fascicolo: atti di fabbrica, modifiche, cementi armati
2698        																		-- 27)	Anno protocollo EP (Edilizia Privata)
2699        																		-- 28)	Nro protocollo EP (Edilizia Privata)
2700        																		-- 29)	Anno pratica workflow (OnlyOne)
2701        																		-- 30)	Nro pratica workflow (OnlyOne)
2702        																		-- 31)	Nro di deposito (per cementi armati)
2703        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>_Doc: qualsiasi attributo dinamico specificabile per il documento (nel dominio di lavoro)			
2704        			URIXmlOut			OUT		NOCOPY CLOB,				-- Lista con gli URI delle versioni elettroniche il cui profilo va aggiornato sui container a seguito dell'operazione (xml conforme a schema LISTA_STD.xsd)
2705        																	-- Ogni versione è un tag Riga che contiene le seguenti colonne: 
2706        																	-- 1:	Identificativo del documento cui è relativa la versione
2707        																	-- 2:	N.ro progressivo della versione
2708        																	-- 3: URI della versione
2709        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
2710        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
2711        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
2712        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
2713        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
2714        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
2715        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
2716        
2717        	/************** Funzione per aggiornare i dati di una versione elettronica di un documento ed eventualmente anche i metadati del documento e della relativa unità documentaria 		***********/
2718        	/************** In caso di aggiornamento dei metadati del documento permette di aggiornare anche qual è l'unità doc. di appartenenza (salvo che sia il doc. primario): 				***********/
2719        	/************** in caso di variata unità doc. di appartenenza i metadati specificati per l'unità documentaria aggiornano la nuova unità documentaria di appartenenza				***********/	
2720        	function UpdVerDoc(
2721        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
2722        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
2723        			IdDocIn			IN		DMT_DOCUMENTS.ID_DOC%type,				-- (obblig.) Identificativo del documento cui è relativa la versione 
2724        			NroProgrVerIO		IN OUT 	INTEGER,							-- N.ro progressivo che identifica la versione da aggiornare
2725        																	-- ATTENZIONE: se in input è NULL significa che si vuole aggiornare l'ultima versione valida e visibile all'utente di lavoro
2726        																	-- In output, in caso di successo, restituisce il n.ro della versione aggiornata
2727        			AttributiXMLIn		IN		CLOB,								-- XML contenente nomi e valori degli attributi della versione, del documento e dell'unità documentaria (conforme allo schema SezioneCache.xsd)
2728        																	-- Per tutti gli attributi vale quanto segue:
2729        																	-- 		gli attributi specificati nell'XML aggiornano i corrispondenti già presenti in DB:
2730        																	--			per gli attributi con valore semplice il valore nell'XML sostituisce quello eventualmente già presente in DB per quell'attributo; se non c'è valore significativo nell'XML significa che il valore dell'attributo in DB va rimosso
2731        																	--			per gli attributi con valore lista i valori nell'XML si aggiungono o sostituiscono quelli già presenti in DB a seconda rispettivamente che nell'XML sia presente o meno un attributo #Append_<Nome attributo>; se la lista di valori nell'XML è vuota significa che tutti i valori dell'attributo già presenti in DB vanno rimossi
2732        																	-- 		gli attributi presenti in DB per cui non c'è corrispondente nell'XML restano invariati
2733        																	-- Gli attributi dell'unità documentaria sono:
2734        																	--	#@RegistrazioniDate		Lista di registrazioni/numerazioni date all'unità documentaria.
2735        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2736        																	--						1: (obblig.) Categoria di registrazione/numerazione; valori ammessi: PG = Protocollo Generale; PP = Protocollo Particolare; R = Repertorio; E = Registrazione d'emergenza; A = Altro tipo di numerazione
2737        																	--						2: Sigla di registrazione/numerazione
2738        																	--						3: (obblig. se non si indicano data e ora di registrazione) Anno di registrazione/numerazione
2739        																	--						4: (obblig.) N.ro di registrazione/numerazione
2740        																	--						5: Data e ora di registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
2741        																	--						6: Identificativo dell'utente che ha effettuato la registrazione/numerazione
2742        																	--						7: Codice che identifica l'utente che ha effettuato la registrazione/numerazione nell'applicazione esterna da cui ci si connette 
2743        																	--						8: Denominazione dell'utente che ha effettuato la registrazione/numerazione
2744        																	--						9: Identificativo della UO presso cui è stata effettuata la registrazione/numerazione
2745        																	--						10: Denominazione della UO presso cui è stata effettuata la registrazione/numerazione (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2746        																	--						11: N.ri livello della UO presso cui è stata effettuata la registrazione/numerazione (tutti, separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2747        																	--						12: Codice che identifica la registrazione nel sistema in cui è stata data
2748        																	--						13: Data in cui decade la riservatezza data all'unità documentaria dalla data registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_DATA)
2749        																	--						14:(valori 1/NULL) Se 1 significa che la registrazione/numerazione è annullata
2750        																	--						15: Data e ora di annullamento della registrazione (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
2751        																	--						16: Identificativo dell'unità documentaria che rappresenta l'atto di autorizzazione all'annullamento della data registrazione/numerazione 
2752        																	--						17: Estremi dell'atto di autorizzazione annullamento (alternativo al precedente e gestito solo se quello non è valorizzato)
2753        																	--						18: Motivazioni dell'annullamento della data registrazione/numerazione
2754        																	--						19: (valori 1/NULL) Se 1 significa che la registrazione/numerazione è stata richiesta dal sistema documentale
2755        																	--						20: Identificativo dell'utente che ha annullato la registrazione
2756        																	--						21: Codice che identifica l'utente che ha annullato la registrazione nell'applicazione esterna da cui ci si connette
2757        																	--						22: Denominazione dell'utente che ha annullato la registrazione
2758        																	--						23: Eventuale sub o appendice del n.ro di registrazione
2759        																	--	#Append_#@RegistrazioniDate	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2760        																	--	#@NumerazioniDaDare		Lista con gli estremi della/e numerazioni da dare all'unità documentaria.
2761        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2762        																	--						1: (obblig.) Sigla di numerazione
2763        																	--						2: Anno di numerazione (se non specificato si intende l'anno corrente)
2764        																	--						3: (facolt.) Categoria della numerazione; valori ammessi: PG = Protocollo Generale; PP = Protocollo Particolare; R = Repertorio; I = Altro tipo di numerazione
2765        																	--									 Se non specificata si intende pari a I
2766        																	--						4: Identificativo della UO che effettua la registrazione/numerazione
2767        																	--						5: Denominazione della UO che effettua la registrazione/numerazione (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2768        																	--						6: N.ri livello della UO che effettua la registrazione/numerazione (tutti, separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2769        																	--						7: Data in cui decade la riservatezza data all'unità documentaria dalla data registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_DATA)
2770        																	--						In caso di unità doc. già esistente, se la data numerazione per il dato anno già c'era, viene mantenuta quella preesistente senza dare errore
2771        																	--	ATTENZIONE: le numerazioni da dare sono sempre aggiunte - append - alle eventuali numerazioni già generate per la data UD
2772        																	--	#NomeUD				Nome dell'unità documentaria (quello con cui viene presentata e riconosciuta nella GUI).
2773        																	--	#IdLibrary				Id. della libreria di appartenenza dell'unità documentaria
2774        																	--	#NomeLibrary			Nome della libreria di appartenenza dell'unità documentaria
2775        																	--	#@ClassFascTitolario		Lista delle classificazioni e/o fascicolazioni basate sul piano di classificazione. Se i fascicoli non esistono viene dato errore.
2776        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2777        																	--						1: Identificativo della classificazione
2778        																	--						2: N.ri livello della classificazione (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore previsto per i livelli di classificazione nel dominio di lavoro) 
2779        																	--						3: Descrizione della classificazione (può essere quella semplice o la concatenazione con separatore "|" delle descrizioni delle calssificazioni superiori + quella della classificazione)
2780        																	--						4: Anno di apertura del fascicolo (obblig. se si intende specificare un fascicolo)
2781        																	--						5: N.ro progressivo del fascicolo (obblig. se si intende specificare un fascicolo)
2782        																	--						6: N.ro di sotto-fascicolo
2783        																	--						7: N.ro di inserto del sotto-fascicolo
2784        																	--						8: N.ro secondario (numerazione alternativa) del fascicolo
2785        																	--						9: Codice che indica il ruolo dell'unità documentraia nel fascicolo (valori da dizionario)
2786        																	--						10: Descrizione del ruolo dell'unità documentria nel fascicolo (valori da dizionario)
2787        																	--						11: Motivi (descrittivi) della relazione dell'unità documentria col fascicolo 
2788        																	--						12: Id. folder del fascicolo o sottofascicolo
2789        																	--	#Append_#@ClassFascTitolario	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2790        																	--	#@FolderCustom			Lista con i folder (esclusi i fascicoli basati sul piano di classificazione: dunque i fascicoli non di titolario, le serie, ecc.) in cui deve essere collocata l'unità documentaria. Se i folder non esistono viene dato errore.
2791        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2792        																	--						1: Identificativo del folder
2793        																	--						2: Path (con o senza nome della libreria di appartenenza)+ nome del folder (i vari livelli del percorso vanno separati con / o \)
2794        																	--						3: Codice che indica il ruolo dell'unità documentraia nel folder (valori da dizionario)
2795        																	--						4: Descrizione del ruolo dell'unità documentria nel folder (valori da dizionario)
2796        																	--						5: Motivi (descrittivi) della relazione dell'unità documentria col folder 
2797        																	--	#Append_#@FolderCustom		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2798        																	--	#@Workspaces			Lista con i dati degli eventuali workspace in cui collocare l'unità documentaria. I workspace devono essere già esistenti
2799        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2800        																	--						1: Identificativo del workspace
2801        																	--						2: Nome del workspace	
2802        																	--						3: Motivi (descrittivi) della relazione dell'unità documentria col workspace
2803        																	--	#Append_#@Workspaces		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2804        																	--	#@ACL					Lista con i permessi assentiti o negati sull'unità documentaria e i suoi documenti
2805        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2806        																	--						1: (obblig.) Indicatore del tipo di destinatario del permesso
2807        																	--							Valori possibili:
2808        																	--							SP	= Soggetto produttore  
2809        																	-- 							AOO	= AOO 
2810        																	-- 							UT 	= Utente
2811        																	--							SV	= Scrivania virtuale
2812        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
2813        																	--							G	= Gruppo
2814        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
2815        																	--						2: Identificativo del destinatario del permesso
2816        																	--							è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
2817        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
2818        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
2819        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
2820        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
2821        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
2822        																	--						3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2823        																	--						4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
2824        																	--						5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2825        																	--						6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2826        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
2827        																	--						8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
2828        																	--						9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
2829        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
2830        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
2831        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
2832        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
2833        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
2834        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
2835        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2836        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2837        																	--						16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
2838        																	--						17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2839        																	--						18:(valori 1/0/NULL) Indica se la visualizzazione dei file dell'unità documentaria è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2840        																	--						19:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2841        																	--						20:(valori 1/0/NULL) Indica se la modifica (intendendo anche il versioning) dei file dell'unità documentaria è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2842        																	--						21:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2843        																	--						22:(valori 1/0/NULL) Indica se la copia dell'unità doc. è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2844        																	--						23:(valori 1/0/NULL) Indica se l'eliminazione dell'unità doc. è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
2845        																	--						24:(valori 1/0/NULL) Indica se il ripristino dell'unità doc. eliminata è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
2846        																	--						25:(valori 1/NULL) Se 1 indica se l'accesso agli eventuali file dell'unità documentaria è relativo alle sole versioni pubblicate
2847        																	--	#Append_#@ACL			Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
2848        																	--	#FlgEreditaPermessi		Valori 1/0/NULL. Indica se l'unità documentaria può ereditare i permessi da un folder o workspace di appartenenza
2849        																	--	#PathNomeFolderEreditaPerm	Percorso e nome del folder da cui l'unità documentaria deve ereditare i permessi (se folder di titolario il nome è dato da anno di apertura + livelli classificazione + n.ro progr. di fascicolo [+ n.ro di sottofascicolo] [+n.ro di inserto])
2850        																	--	#IdFolderEreditaPerm		Id. del folder da cui l'unità documentaria deve ereditare i permessi
2851        																	--	#NomeWorkspaceEreditaPerm	Nome del workspace da cui l'unità documentaria deve ereditare i permessi (altrenativo all'attributo precedente)	
2852        																	--	#IdWorkspaceEreditaPerm		Id. del workspace da cui l'unità documentaria deve ereditare i permessi
2853        																	--	#@AltriSoggettiInt		Lista con i soggetti interni che hanno ruoli rispetto all'unità documentaria diversi da quelli - produttori, destinatari, estensori - già gestiti in apposite variabili 
2854        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
2855        																	--						1: (obblig.) Indicatore del tipo di soggetto
2856        																	--							Valori possibili:
2857        																	-- 							UT 	= Utente
2858        																	--							SV	= Scrivania virtuale
2859        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
2860        																	--							G	= Gruppo
2861        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
2862        																	--						2: Identificativo del soggetto
2863        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
2864        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
2865        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
2866        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
2867        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
2868        																	--						3: Denominazione/nome del soggetto (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2869        																	--						4: Identificativo della UO cui appartiene la scrivania
2870        																	--						5: Nri livello della UO o a cui appartiene la scrivania (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2871        																	--						6: Denominazione della UO cui appartiene la scrivania (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2872        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente o quello che occupa la scrivania 
2873        																	--						8: Denominazione dell'utente che occupa la scrivania 
2874        																	--						9: (valore 1) Indica, nel caso di UO, se sono ricomprese anche tutte le sue sotto-UO
2875        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo 
2876        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo  (alternativo alla colonna 10)
2877        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente "soggetto" o di quello che occupa la scrivania "soggetto" 
2878        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo (alternativo alla colonna 10)
2879        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente soggetto o che occupa la scrivania soggetto 
2880        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo "soggetto" o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo "soggetto"
2881        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo "soggetto" o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo "soggetto" (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2882        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo "soggetto" o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo "soggetto" (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2883        																	--						16:(valore 1) Indica che il ruolo amministrativo "soggetto" si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
2884        																	--						17: Codice del ruolo del soggetto rispetto all'unità documentaria (valori codificati in apposita disctionary entry)
2885        																	--						18: Ruolo del soggetto rispetto all'unità documentaria (valori in apposita disctionary entry)
2886        																	--	#Append_#@AltriSoggettiInt	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)			
2887        																	--	#CodRuoliAltriSoggIntInAppend	E' la lista dei codici dei ruoli che sono in append e non in sostituzione (separati da |*| se più di uno). Se questa variabile non è valorizzata ed è presente #Append_#@AltriSoggettiInt significa che l'append vale per tutti i ruoli. 	
2888        																	--	#CodRuoliAltriSoggIntToDel	E' la lista dei codici dei ruoli i cui soggetti - quelli che hanno il dato ruolo - sono da cancellare del tutto(separati da |*| se più di uno).  	
2889        																	--	#@InCaricoA				Indica a chi (non destinatario) mettere in carico copia dell'unità documentaria
2890        																	--						Chi ha in carico può essere specificato/variato solo se il documento non è ancora inviato
2891        																	--						Chi ha in carico può essere solo l'utente di lavoro o una UO/scrivania cui è collegato da appartenenza o delega o per cui può lavorare
2892        																	--						E' una lista mono-riga; la riga può contenere le seguenti colonne:
2893        																	--						1: (obblig.) Indicatore del tipo di soggetto
2894        																	--							Valori possibili:
2895        																	-- 							UT 	= Utente
2896        																	--							SV	= Scrivania virtuale
2897        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
2898        																	--						2: Identificativo del destinatario della copia
2899        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
2900        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
2901        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
2902        																	--						3: Denominazione/nome del soggetto(se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2903        																	--						4: Identificativo della UO cui appartiene la scrivania che rappresenta il soggetto
2904        																	--						5: Nri livello della UO che rappresenta il soggetto o a cui appartiene la scrivania che rappresenta il soggetto (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2905        																	--						6: Denominazione della UO cui appartiene la scrivania che rappresenta il soggetto (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2906        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che rappresenta il soggetto o quello che occupa la scrivania che rappresenta il soggetto
2907        																	--						8: Denominazione dell'utente che occupa la scrivania che rappresenta il soggetto
2908        																	--						9: <Non utilizzata>
2909        																	--						10: <Non utilizzata>
2910        																	--						11: Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente che rappresenta il soggetto o che occupa la scrivania che rappresenta il soggetto
2911        																	--						12: Se colonna 1 =UT o SV: N.ro di matricola dell'utente che rappresenta il soggetto o che occupa la scrivania che rappresenta il soggetto  
2912        																	--						13: <Non utilizzata>
2913        																	--						14: <Non utilizzata>
2914        																	--						15: <Non utilizzata>
2915        																	--						16: <Non utilizzata>
2916        																	--						Se si vuole togliere chi ha in carico la copia basta settare a vuota la lista di questo attributo
2917        																	--  #ConfermaAssegnazione.IdUser		Id. dell'utente che deve confermare le assegnazioni
2918        																	--  #ConfermaAssegnazione.CIEstUser		Codice che identifica l'utente che deve confermare le assegnazioni nell'applicazione esterna da cui ci si connette
2919        																	--  #ConfermaAssegnazione.DesUser		Cognome e nome dell'utente che deve confermare le assegnazioni
2920        																	--  #ConfermaAssegnazione.Username		Username (interna ad Auriga) dell'utente che deve confermare le assegnazioni
2921        																	--	#@Assegnatari		Indica a chi - destinatario o meno, e comunque un soggetto interno - assegnare l'unità documentaria 
2922        																	--						Può essere specificato/variato solo se il documento NON è assegnato o se è assegnato all'utenza di lavoro o UO/Scrivania cui è collegato
2923        																	-- 						Ogni assegnatario è un tag "Riga" con le seguenti colonne:
2924        																	--						1: (obblig.) Indicatore del tipo di assegnatario
2925        																	--							Valori possibili:
2926        																	-- 							UT 	= Utente
2927        																	--							SV	= Scrivania virtuale
2928        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
2929        																	--							G	= Gruppo
2930        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
2931        																	--						2: Identificativo dell'assegnatario
2932        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
2933        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
2934        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
2935        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
2936        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
2937        																	--						3: Denominazione/nome dell'assegnatario (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2938        																	--						4: Identificativo della UO cui appartiene la scrivania assegnataria
2939        																	--						5: Nri livello della UO assegnataria o a cui appartiene la scrivania assegnataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2940        																	--						6: Denominazione della UO cui appartiene la scrivania assegnataria (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2941        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente assegnatario o quello che occupa la scrivania assegnataria
2942        																	--						8: Denominazione dell'utente che occupa la scrivania assegnataria
2943        																	--						9: (valore 1) Indica che l'assegnatario, se UO, sono anche tutte le sue sotto-UO
2944        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo assegnatario
2945        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo assegnatario (alternativo alla colonna 10)
2946        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente assegnatario o che occupa la scrivania assegnataria 
2947        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo assegnatario (alternativo alla colonna 10)
2948        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente assegnatario o che occupa la scrivania assegnataria 
2949        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo assegnatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo assegnatario
2950        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo assegnatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo assegnatario (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2951        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo assegnatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo assegnatario (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2952        																	--						16:(valore 1) Indica che il ruolo amministrativo assegnatario si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
2953        																	--						17: Codice del ruolo dell'assegnatario (valori codificati in apposita disctionary entry)
2954        																	--						18: Ruolo dell'assegnatario (valori in apposita disctionary entry)
2955        																	--						19: Flag che indica la modalità di accesso da dare all'assegnatario sull'unità documentaria (ovvero indica le opzioni di accesso che avrà l'assegnatario nell'ACL dell'UD dopo l'invio, salvo ne avesse già di più ampie)
2956        																	--						    Valori possibili: FC = Full control; M = Modifica metadati e files/contenuti; MM = Modifica soli metadati; V = Sola visualizzazione; VM = Visualizzazione dei soli metadati (non dei files)
2957        																	--						20: (valori 1/NULL) Se 1 indica che è richiesta la notifica di presa in carico per il dato assegnatario 
2958        																	--						21: N.ro di giorni, a partire dalla decorrenza dell'assegnazione, trascorsi i quali senza che sia avvenuta la presa in carico, ci deve essere la notifica di mancata presa in carico da parte del dato assegnatario
2959        																	--						22: Cod. motivo assegnazione al dato assegnatario
2960        																	--						23: Cod. priorità assegnazione al dato assegnatario
2961        																	--						24: (flag 1/0) Se 1 significa che al dato assegnatario va assegnato anche tutto il fascicolo di appartenenza (se 1 solo) 
2962        																	--						25: (flag 1/0) Se 1 significa che al dato assegnatario vanno assegnati anche tutti i documenti collegati (quelli assegnati alla/e strutture dell'utente di lavoro)
2963        																	--						26: (flag 1/0) Se 1 significa che va mentenuta una copia presso chi assegna
2964        																	--						27: Messaggio a corredo dell'assegnazione al dato assegnatario
2965        																	--						28: Id. UO del punto di protocollo a cui assegnare se l'assegnazione non può essere direttamente all'assegnatario indicato e se questo è associato a più punti di protocollo
2966        																	--						29: (1/0) Se 1 significa che è richiesta notifica mail dell'assegnazione
2967        																	--  #CodMotivoAssegn	Cod. del motivo dell'assegnazione agli assegnatari (da dizionario)
2968        																	--	#MotivoAssegn		Motivo dell'assegnazione agli assegnatari (da dizionario)
2969        																	--	#@InvioDestCC		Indica a chi, soggetto interno, inviare per conoscenza l'unità documentaria 
2970        																	-- 						Ogni destinatario di invio per conoscenza è un tag "Riga" con le seguenti colonne:
2971        																	--						1: (obblig.) Indicatore del tipo di destinastario
2972        																	--							Valori possibili:
2973        																	-- 							UT 	= Utente
2974        																	--							SV	= Scrivania virtuale
2975        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
2976        																	--							G	= Gruppo
2977        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
2978        																	--							R@	= Soggetti interni che hanno un certo ruolo rispetto al documento / folder
2979        																	--						2: Identificativo del destinatario
2980        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
2981        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
2982        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
2983        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
2984        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
2985        																	--							è un COD_NATURA_REL di DMT_REL_SOGG_INT_DOC/DMT_REL_SOGG_INT_FOLDER che indica il codice del ruolo rispetto al documento / folder se colonna 1 = R@. Può avere i valori particolari: #CON_ACCESSO (= tutti coloro che hanno accesso anche in sola visualizzazione) e #CON_ACCESSO_IN_MODIFICA (= tutti coloro che hanno accesso anche in modifica dei metadati e/o file)
2986        																	--						3: Denominazione/nome del destinatario (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|"). Se colonna 1 = R@ è la descrizione del ruolo rispetto al documento / folder
2987        																	--						4: Identificativo della UO cui appartiene la scrivania destinataria
2988        																	--						5: Nri livello della UO destinataria o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
2989        																	--						6: Denominazione della UO cui appartiene la scrivania destinataria (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
2990        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario o quello che occupa la scrivania destinataria
2991        																	--						8: Denominazione dell'utente che occupa la scrivania destinataria
2992        																	--						9: (valore 1) Indica che il destinatario, se UO, sono anche tutte le sue sotto-UO
2993        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario
2994        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario (alternativo alla colonna 10)
2995        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario o che occupa la scrivania destinataria 
2996        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario (alternativo alla colonna 10)
2997        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario o che occupa la scrivania destinataria 
2998        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario
2999        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3000        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3001        																	--						16:(valore 1) Indica che il ruolo amministrativo destinatario si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
3002        																	--						17: Codice del ruolo del destinatario (valori codificati in apposita disctionary entry)
3003        																	--						18: Ruolo del destinatario (valori in apposita disctionary entry)
3004        																	--						19: Flag che indica la modalità di accesso da dare al destinatario sull'oggetto inviato (ovvero indica le opzioni di accesso che avrà il destinatario nell'ACL dell'oggetto dopo l'invio, salvo ne avesse già di più ampie)
3005        																	--						    Valori possibili: FC = Full control; M = Modifica metadati e files/contenuti; MM = Modifica soli metadati; V = Sola visualizzazione; VM = Visualizzazione dei soli metadati (non dei files)
3006        																	--						20: (valori 1/NULL) Se 1 indica che è richiesta la notifica di presa visione per il dato destinatario (anche se non è stata richiesta per tutti i destinatari questa notifica)
3007        																	--						21: N.ro di giorni, a partire dalla decorrenza della notifica, trascorsi i quali senza che sia avvenuta la presa visione, ci deve essere la notifica di mancata presa visione da parte del dato destinatario (anche se tale notifica non è richiesta per tutti i destinatari)
3008        																	--						22: Cod. motivo invio al dato destinatario
3009        																	--						23: Cod. priorità invio al dato destinatario
3010        																	--						24: (flag 1/0) Se 1 significa che al dato destinatario va inviato anche tutto il fascicolo di appartenenza (se 1 solo) 
3011        																	--						25: (flag 1/0) Se 1 significa che al dato destinatario vanno inviati anche tutti i documenti collegati (quelli assegnati alla/e strutture dell'utente di lavoro)
3012        																	--						26: non utilizzata
3013        																	--						27: Messaggio a corredo dell'invio al dato destinatario
3014        																	--						29: (1/0) Se 1 significa che è richiesta notifica mail dell'invio in cc
3015        																	--	#@RelazioniVsUD			Lista delle relazioni dell'unità documentaria con altre unità documentarie (relazioni di precedente-successivo ecc.)
3016        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3017        																	--						1: Identificativo dell'unità documentaria collegata
3018        																	--						2: Categoria di una registrazione/numerazione dell'unità documentaria collegata; valori ammessi: PG = Protocollo Generale; PP = Protocollo Particolare; R = Repertorio; E = Registrazione d'emergenza; A = Altro tipo di numerazione
3019        																	--						3: Sigla di una registrazione/numerazione dell'unità documentaria collegata
3020        																	--						4: Anno di una registrazione/numerazione dell'unità documentaria collegata
3021        																	--						5: N.ro di una registrazione/numerazione dell'unità documentaria collegata
3022        																	--						6: Codice della categoria/natura generale della relazione tra le due unità doc. (valori da dizionario)
3023        																	--						7: Descrizione della categoria/natura generale della relazione tra le due unità doc. (valori da dizionario)
3024        																	--						8: Codice del ruolo che svolge nella relazione l'unità documentaria da creare/aggiornare (valori da dizionario)
3025        																	--						9: Descrizione del ruolo che svolge nella relazione l'unità documentaria da creare/aggiornare (valori da dizionario)
3026        																	--						10: Codice del ruolo che svolge nella relazione l'unità documentaria collegata a quella da creare/aggiornare (valori da dizionario)
3027        																	--						11: Descrizione del ruolo che svolge nella relazione l'unità documentaria collegata a quella da creare/aggiornare (valori da dizionario)
3028        																	--						12: Dettagli della relazione (campo descrittivo)
3029        																	--						22: Sub del n.ro di registrazione
3030        																	--						23: Flag SI/NO: se SI si tratta di un riferimento ad estremi di documento/atto NON presente a sistema
3031        																	--	#Append_#@RelazioniVsUD		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
3032        																	--	#FlgArchivio			Indica il tipo di archivio a cui appartiene l'unità documentaria: C = Corrente; D = di Deposito; S = Storico
3033        																	--	#FlgTipoProv			Indica se unità documentaria in entrata (E), in uscita (U) o interna/tra uffici (I)
3034        																	--	#TsArrivo				Data e ora di ricezione dell'unità documentaria se in entrata (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
3035        																	--	#IdUDAutRegDiff			Identificativo dell'unità documentaria che rappresenta l'autorizzazione al differimento della registrazione della corrente unità documentaria
3036        																	--	#EstremiAutRegDiff		Estremi dell'atto di autorizzazione al differimento della registrazione della corrente unità documentaria (alternativo al campo precedente, qualora l'atto di aut. al differimento non sia un'unità doc. a sistema)
3037        																	--	#MotiviRegDiff			Motivi del differimento di registrazione della corrente unità documentaria
3038        																	--	#TsTerminXRegDiff			Data e ora che costituiscono un termine rilevante per la ricezione dell'unità documentaria (ad esempio: termine presentazione domande a concorso o offerte di gara) e che a causa del differimento è precedente alla data di registrazione ma non a quella effettiva di ricezione (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
3039        																	--	#DtDocRicevuto			Data di registrazione del documento ricevuto se unità doc. in entrata (ad esempio la data del Protocollo mittente)(nel formato dato dal parametro di conf. FMT_STD_DATA)
3040        																	--	#AnnoDocRicevuto			Anno di registrazione del documento ricevuto se unità doc. in entrata (ad esempio l'anno del Protocollo mittente)
3041        																	--	#EstremiRegDocRicevuto		Estremi di registrazione del documento ricevuto se unità doc. in entrata (ad esempio anno e numero del Protocollo mittente)
3042        																	--	#RifDocRicevuto			Altri riferimenti del documento ricevuto se unità doc. in entrata
3043        																	--	#CodMezzoTrasm			Codice che indica il mezzo di trasmissione dell'unità documentaria dai mittenti/ai destinatari esterni al/dal soggetto produttore/AOO (se in uscita è il mezzo di trasmissione a tutti i destinatari per cui non sia diversamente specificato). Valori in dizionario
3044        																	--	#DesMezzoTrasm			Descrizione del mezzo di trasmissione dell'unità documentaria dai mittenti/ai destinatari esterni al/dal soggetto produttore/AOO (se in uscita è il mezzo di trasmissione a tutti i destinatari per cui non sia diversamente specificato). Valori in dizionaro
3045        																	--	#DtRaccomandata			Data di raccomandata (se la trasmissione è tramite raccomandata) (se in uscita è la data di raccomandata a tutti i destinatari per cui non sia diversamente specificata)(nel formato dato dal parametro di conf. FMT_STD_DATA)
3046        																	--	#NroRaccomandata			Nro di raccomandata (se la trasmissione è tramite raccomandata) (se in uscita è il n.ro di raccomandata a tutti i destinatari per cui non sia diversamente specificato)
3047        																	--	#NroListaRaccomandata	Nro della lista di appartenenza della raccomandata (se la trasmissione è tramite raccomandata)
3048        																	--	#DtNotifica				Data di notifica (per unità doc. in uscita è la data di notifica a tutti i destinatari per cui non sia diversamente specificata)(nel formato dato dal parametro di conf. FMT_STD_DATA)
3049        																	--	#NroNotifica			Nro di notifica (per unità doc. in uscita è il n.ro di notifica a tutti i destinatari per cui non sia diversamente specificato)
3050        																	--	#IndirizzoProv.CITopon	 	Codice toponomastico (cioè nel viario) della via/piazza ecc. dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
3051        																	--	#IndirizzoProv.DesIndirizzo 	Via/piazza ecc. dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria
3052        																	--	#IndirizzoProv.Frazione 	Frazione dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria) 
3053        																	--	#IndirizzoProv.Zona			Zona dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
3054        																	--	#IndirizzoProv.Complemento	Complemento (i.e. altri dati) dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
3055        																	--	#IndirizzoProv.Civico 		N.ro civico (senza eventuale esponente o altre appendici) dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
3056        																	--	#IndirizzoProv.AppendiciCivico 		Appendici del n.ro civico (esponente, bis/ter ecc, colore) dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
3057        																	--	#IndirizzoProv.Interno 		Interno del civico dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
3058        																	--	#IndirizzoProv.Scala 		Scala del civico dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
3059        																	--	#IndirizzoProv.Piano 		Piano nel civico dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
3060        																	--	#IndirizzoProv.CAP 		Codice Avviamento Postale dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
3061        																	--	#IndirizzoProv.CodIstatCom 	Codice istat del comune (se italiano) dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
3062        																	--	#IndirizzoProv.NomeComCitta 	Nome del comune/città dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
3063        																	--	#IndirizzoProv.CodIstatStato 	Codice istat dello stato estero dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
3064        																	--	#IndirizzoProv.NomeStato 	Nome dello stato estero dell'indirizzo fisico di provenienza (se unità documentaria in entrata tramite posta ordinaria)
3065        																	--	#EmailProv.Id				Id. (PK in T_EMAIL_MGO) della mail in arrivo che ha dato luogo all'unità documentaria 
3066        																	--	#EmailProv.Indirizzo		Indirizzo e-mail di provenienza (se unità documentaria in entrata tramite posta elettronica) 
3067        																	--	#EmailProv.FlgCasellaIstituz	Indicatore che l'indirizzo e-mail di provenienza è una casella istituzionale di un'AOO. Valore fisso 1.
3068        																	--	#EmailProv.FlgDichIPA		Indicatore che l'indirizzo e-mail di provenienza è dichiarato all'Indice PA. Valore fisso 1.
3069        																	--	#EmailProv.FlgPEC			Indicatore che l'indirizzo e-mail di provenienza è un idirizzo di Posta Elettronica Certificata. Valore fisso 1.
3070        																	--	#EmailProv.GestorePEC		Estremi del gestore della casella e-mail di provenienza se è di Posta Elettronica Certificata.
3071        																	--	#IdUORicezione			Identificativo della UO che ha ricevuto l'unità documentaria in entrata
3072        																	--	#LivelliUORicezione		Nri livello della UO che ha ricevuto l'unità documentaria in entrata (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)																	
3073        																	--	#DesUORicezione			Denominazione della UO che ha ricevuto l'unità documentaria in entrata (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3074        																	--	#IdUserRicezione			Identificativo (quello interno al sistema) dell'utente che ha ricevuto l'unità documentaria in entrata
3075        																	--	#CIEstUserRicezione		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha ricevuto l'unità documentaria in entrata
3076        																	--	#DesUserRicezione			Descrizione dell'utente che ha ricevuto l'unità documentaria in entrata
3077        																	--	#FlgInteroperabilita		Se valorizzato (valore fisso 1) indica che l'unità documentaria è entrata o uscita tramite interoperabilità tra Protocolli Informatici
3078        																	--	#IdUserCtrlAmmissib		Identificativo (quello interno al sistema) dell'utente che ha effettuata il controllo di ammissibilità dell'unità documentaria in ingresso con il meccanismo dell'interoperabilità tra Protocolli Informatici
3079        																	--	#CIEstUserCtrlAmmissib		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuata il controllo di ammissibilità dell'unità documentaria in ingresso con il meccanismo dell'interoperabilità tra Protocolli Informatici
3080        																	--	#DesUserCtrlAmmissib		Descrizione dell'utente che ha effettuata il controllo di ammissibilità dell'unità documentaria in ingresso con il meccanismo dell'interoperabilità tra Protocolli Informatici
3081        																	--	#TsSpedizione			Data e ora di spedizione dell'unità documentaria se ricevuta via PEC (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
3082        																	--	#DtSpedizione			Data di spedizione dell'unità documentaria se in uscita (nel formato dato dal parametro di conf. FMT_STD_DATA)
3083        																	--	#IdUserSpedizione			Identificativo (quello interno al sistema) dell'utente che ha effettuato la spedizione dell'unità documentaria (in uscita)
3084        																	--	#CIEstUserSpedizione		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuato la spedizione dell'unità documentaria (in uscita)
3085        																	--	#DesUserSpedizione		Descrizione dell'utente che ha effettuato la spedizione dell'unità documentaria (in uscita)
3086        																	--	#IdUOSpedizione			Identificativo della UO che ha effettuato la spedizione dell'unità documentaria (in uscita)
3087        																	--	#LivelliUOSpedizione		Nri livello della UO che ha effettuato la spedizione dell'unità documentaria (in uscita)(tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)																	
3088        																	--	#DesUOSpedizione			Denominazione della UO che ha effettuato la spedizione dell'unità documentaria (in uscita)(può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3089        																	--	#NroAllegati			N.ro di allegati      																	
3090        																	--	#LivEvidenza                  Livello di evidenza assegnato all'unità documentaria (il massimo valore possibile è dato dal parametro di configurazione MAX_LIV_EVIDENZA)
3091        																	--	#FlgInteresseCessato		Se pari a 1 indica che è cessato l'interesse sull'unità documentaria, se 0 o NULL che l'interesse è attivo
3092        																	--	#CollocazioneFisica.IdTopografico	Id. del luogo - censito nel topografico - in cui è collocata l'unità documentaria
3093        																	--  #CollocazioneFisica.Descrizione		Descrizione libera della collocazione fisica dell'unità documentaria
3094        																	--	#FlgConservPerm			Se valorizzato (valore fisso 1) indica che l'unità documentaria deve essere conservata illimitatamente		
3095        																	--	#PeriodoConserv               Periodo minimo di conservazione (espresso in anni) dell'unità documentaria (se non specificato può essere ereditato da quelli definiti per la tipologia del doc. primario o la/le classificazione o il tipo del/dei fascicolo di appartenenza o il tipo del/i procedimenti di afferenza)
3096        																	--	#CodSupportoConserv		Codice del supporto fisico di conservazione (carta, disco ottico, microfilm ecc) dell'unità documentaria. Valori da dizionario
3097        																	--	#DesSupportoConserv		Descrizione del supporto fisico di conservazione (carta, disco ottico, microfilm ecc) dell'unità documentaria. Valori da dizionario
3098        																	--	#DtScarto                     Data di scarto archivistico (vale a dire esculsione dal processo di conservazione) dell'unità documentaria (nel formato dato dal parametro di conf. FMT_STD_DATA)
3099        																	--	#IdUserScarto           	Identificativo (quello interno al sistema) dell'utente che ha effettuato lo scarto archivistico dell'unità documentaria
3100        																	--	#CIEstUserScarto			Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuato lo scarto archivistico dell'unità documentaria	
3101        																	--	#DesUserScarto			Descrizione dell'utente che ha effettuato lo scarto archivistico dell'unità documentaria
3102        																	--	#IdUserAutScarto           	Identificativo (quello interno al sistema) dell'utente che ha autorizzato lo scarto archivistico dell'unità documentaria
3103        																	--	#CIEstUserAutScarto		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato lo scarto archivistico dell'unità documentaria	
3104        																	--	#DesUserAutScarto			Descrizione dell'utente che ha autorizzato lo scarto archivistico dell'unità documentaria
3105        																	--	#CodStato				Codice dello stato dell'unità documentaria 
3106        																	--	#CodStatoDett			Codice dello stato di dettaglio dell'unità documentaria		
3107        																	--	#DesStato				Descrizione dello stato dell'unità documentaria
3108        																	--	#DesStatoDett			Descrizione dello stato di dettaglio dell'unità documentaria
3109        																	--	#NoteUD				Annotazioni dell'unità documentaria
3110        																	--	#ProvCIUD				Codice identificativo dell'unità documentaria in un eventuale sistema di provenienza
3111        																	--  #MotiviModificaDatiRegistrazione Motivo per cui si modificano i dati dell'unità documentaria - se registrata su registro ufficiale quali quelli di protocollo e repertorio - che figurano nel registro di protocollo/repertorio
3112        																	--	#CanaleInvioDest	Codice del canale di invio dell'unità documentaria al destinatario/cliente. Va sepcificato il codice come da dizionario di sistema
3113        																	--  #ProcessToStart.IdBPMProcessDef 	Id. del flusso BPM (comprensivo di versione) con il quale avviare un processo legato al folder aperto dall'unità documentaria
3114        																	--										se il folder ha già un processo associato la variabile viene ignorata
3115        																	--  #ProcessToStart.IdBPMProcessInst	Id. dell'istanza di processo BPM con la quale avviare un processo legato al folder aperto dall'unità documentaria
3116        																	--										se il folder ha già un processo associato la variabile viene ignorata
3117        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>_Ud: qualsiasi attributo dinamico specificabile per un'unità documentaria (nel dominio di lavoro)									
3118        																	-- E gli attributi del documento sono:
3119        																	--	#IdUD					Id. dell'unità documentaria di appartenenza
3120        																	--	#CodCategoriaRegUD		Codice di una categoria di registrazione dell'unità documentaria di appartenenza 
3121        																	--	#SiglaRegUD				Sigla di registrazione/numerazione dell'unità documentaria di appartenenza
3122        																	--	#AnnoRegUD				Anno di registrazione/numerazione dell'unità documentaria di appartenenza
3123        																	--	#NroRegUD				N.ro di registrazione/numerazione dell'unità documentaria di appartenenza
3124        																	--	#CodNaturaRelVsUD			Codice della natura della relazione del documento (allegato, mail ricevuta, ricevuta di accettazione ecc) con l'unità documentaria. Valori da dizionario.
3125        																	--						Si può variare solo se non è il documento primario dell'unità doc. a cui è già associato
3126        																	--	#DesNaturaRelVsUD			Natura della relazione del documento (allegato, mail ricevuta, ricevuta di accettazione ecc) con l'unità documentaria. Valori da dizionario.
3127        																	--						Si può variare solo se non è il documento primario dell'unità doc. a cui è già associato
3128        																	--	#DettagliRelVsUD			Dettagli della relazione del documento con l'unità documentaria.
3129        																	--						Da specificare solo se l'unità documentaria è preesistente (e quindi il documento non è il primario)
3130        																	--	#IdDocType				Identificativo del tipo del documento
3131        																	--	#NomeDocType			Nome del tipo del documento
3132        																	--	#ProvCIDocType			Codice identificativo del tipo documento nel sistema di provenienza (PROV_CI_DOC_TYPE)
3133        																	--	#@MittentiEsterni			Lista con i dati dei mittenti esterni.
3134        																	--						ATTENZIONE: possono essere o meno soggetti censiti nella rubrica del sistema ed eventualmente anche nell'anagrafe residenti o ditte
3135        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
3136        																	--								tutti gli altri campi (colonne dalla 3 alla 14) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul documento)
3137        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul documento vengono riportati come nel tag
3138        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al documento
3139        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3140        																	--						1: Identificativo del soggetto nella rubrica soggetti del sistema
3141        																	--						2: Codice identificativo del soggetto nell'anagrafe o sistema di provenienza 
3142        																	--						3: Se valorizzato (valore fisso 1) indica che il soggetto è una persona fisica (altrimenti si intende essere una persona giuridica)
3143        																	--						4: Denominazione (se persona giuridica) o cognome (se persona fisica)
3144        																	--						5: Nome (se persona fisica)
3145        																	--						6: Codice fiscale
3146        																	--						7: Partita IVA
3147        																	--						8: Sesso (valori F/M/NULL) (se persona fisica)
3148        																	--						9: Data di nascita/istituzione (nel formato dato dal parametro FMT_STD_DATA)
3149        																	--						10: Codice ISTAT del comune di nascita/istituzione
3150        																	--						11: Nome del comune (se italiano) o città estera di nascita/istituzione
3151        																	--						12: Codice ISTAT dello stato estero di nascita/istituzione
3152        																	--						13: Nome dello stato estero di nascita/istituzione
3153        																	--						14: Codice ISTAT dello stato di cittadinanza
3154        																	--						15: Nome dello stato di cittadinanza
3155        																	--						16: Indicatore di soggetto da registrare in rubrica soggetti se non vi è già presente (in base ai criteri stabiliti per il test di esistenza). Valore fisso 1.
3156        																	--						17: Cod. rapido assegnatogli in rubrica
3157        																	--						24: Codice toponomastico (cioè nel viario) della via/piazza ecc. dell'indirizzo 
3158        																	--						25: Via/piazza ecc. dell'indirizzo fisico 
3159        																	--						26: Località dell'indirizzo fisico  
3160        																	--						27: N.ro civico (senza eventuale esponente o altre "appendici" quali colore ecc che vanno in colonna 47) dell'indirizzo fisico 
3161        																	--						28: Interno del civico dell'indirizzo fisico 
3162        																	--						29: Scala del civico dell'indirizzo fisico 
3163        																	--						30: Piano nel civico dell'indirizzo fisico 
3164        																	--						31: Codice Avviamento Postale dell'indirizzo fisico 
3165        																	--						32: Codice istat del comune (se italiano) dell'indirizzo fisico 
3166        																	--						33: Nome del comune/città dell'indirizzo fisico 
3167        																	--						34: Codice istat dello stato estero dell'indirizzo fisico 
3168        																	--						35: Nome dello stato estero dell'indirizzo fisico 
3169        																	--						43: N.ro che indica la posizione del mittente tra tutti i destinatari interni ed esterni del documento 
3170        																	--						44: Titolo di studio/professionale
3171        																	--						45: Zona dell'indirizzo fisico 
3172        																	--						46:	Complemento (i.e. altri dati) dell'indirizzo fisico 
3173        																	--						47: Appendici del n.ro civico (esponente, bis/ter ecc, colore) dell'indirizzo fisico 
3174        																	--						48: non utilizzato
3175        																	--					    49: Tipo di toponimo dell'indirizzo fisico di invio al destinatario
3176        																	--						50: Indirizzo e-mail
3177        																	--						51: N.ro di telefono
3178        																	--						52: Userid del mittente
3179        																	--	#Append_#@MittentiEsterni	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
3180        																	--	#@DestinatariEsterni		Lista con i dati dei destinatari (in realtà possono essere esterni o interni)
3181        																	--						ATTENZIONE: possono essere o meno soggetti censiti nella rubrica del sistema ed eventualmente anche nell'anagrafe residenti o ditte
3182        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
3183        																	--								tutti gli altri campi (colonne dalla 3 alla 14) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul documento)
3184        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul documento vengono riportati come nel tag
3185        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al documento
3186        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3187        																	--						1: Identificativo del soggetto nella rubrica soggetti del sistema
3188        																	--						2: Codice identificativo del soggetto nell'anagrafe o sistema di provenienza
3189        																	--						3: Se valorizzato (valore fisso 1) indica che il soggetto è una persona fisica (altrimenti si intende essere una persona giuridica)
3190        																	--						4: Denominazione (se persona giuridica) o cognome (se persona fisica)
3191        																	--						5: Nome (se persona fisica)
3192        																	--						6: Codice fiscale
3193        																	--						7: Partita IVA
3194        																	--						8: Sesso (valori F/M/NULL) (se persona fisica)
3195        																	--						9: Data di nascita/istituzione (nel formato dato dal parametro FMT_STD_DATA)
3196        																	--						10: Codice ISTAT del comune di nascita/istituzione
3197        																	--						11: Nome del comune (se italiano) o città estera di nascita/istituzione
3198        																	--						12: Codice ISTAT dello stato estero di nascita/istituzione
3199        																	--						13: Nome dello stato estero di nascita/istituzione
3200        																	--						14: Codice ISTAT dello stato di cittadinanza
3201        																	--						15: Nome dello stato di cittadinanza
3202        																	--						16: Indicatore di soggetto da registrare in rubrica soggetti se non vi è già presente (in base ai criteri stabiliti per il test di esistenza). Valore fisso 1.
3203        																	--						17: Codice che indica il mezzo di trasmissione dell'unità documentaria al destinataro. Valori in dizionario
3204        																	--						18: Descrizione del mezzo di trasmissione dell'unità documentaria al destinatario. Valori in dizionaro
3205        																	--						19: Data e ora di spedizione/invio al destinatario (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
3206        																	--						20: Data di raccomandata (se la trasmissione è tramite raccomandata)(nel formato dato dal parametro di conf. FMT_STD_DATA)
3207        																	--						21: Nro di raccomandata al destinatario (se la trasmissione è tramite raccomandata)
3208        																	--						22: Data di notifica al destinatario (nel formato dato dal parametro di conf. FMT_STD_DATA)
3209        																	--						23: Nro di notifica al destinatario
3210        																	--						24: Codice toponomastico (cioè nel viario) della via/piazza ecc. dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
3211        																	--						25: Via/piazza ecc. dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
3212        																	--						26: Località dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria) 
3213        																	--						27: N.ro civico (senza eventuale esponente o altre "appendici" quali colore ecc che vanno in colonna 47) dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
3214        																	--						28: Interno del civico dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
3215        																	--						29: Scala del civico dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
3216        																	--						30: Piano nel civico dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
3217        																	--						31: Codice Avviamento Postale dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
3218        																	--						32: Codice istat del comune (se italiano) dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
3219        																	--						33: Nome del comune/città dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
3220        																	--						34: Codice istat dello stato estero dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
3221        																	--						35: Nome dello stato estero dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
3222        																	--						36: Indirizzo e-mail del destinatario (se invio tramite posta elettronica) 
3223        																	--						37: Indicatore che l'indirizzo e-mail del destinatario è un idirizzo di Posta Elettronica Certificata. Valore fisso 1.
3224        																	--						38: Estremi del gestore della casella e-mail del destinatario se è di Posta Elettronica Certificata.
3225        																	--						39: Indicatore di destinatario per conoscenza. Valore fisso 1. 
3226        																	--						40: Indicatore che l'indirizzo e-mail del destinatario è dichiarato all'Indice PA. Valore fisso 1.
3227        																	--						41: Indicatore che l'indirizzo e-mail del destinatario è una casella istituzionale di un'AOO. Valore fisso 1.
3228        																	--						42: Nro fax del destinatario (se invio tramite fax) 
3229        																	--						43: N.ro che indica la posizione del destinatario tra tutti i destinatari interni ed esterni del documento 
3230        																	--						44: Titolo di studio/professionale
3231        																	--						45: Zona dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria) 
3232        																	--						46:	Complemento (i.e. altri dati) dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria) 
3233        																	--						47: Appendici del n.ro civico (esponente, bis/ter ecc, colore) dell'indirizzo fisico di invio al destinatario (se invio tramite posta ordinaria)
3234        																	--						48: Cod. rapido assegnatogli in rubrica
3235        																	--					    49: Tipo di toponimo dell'indirizzo fisico di invio al destinatario
3236        																	--						53: Tipo di destinatario; valori ammessi: UOI = Unità Operativa dell'organigramma; UP = Unità di personale
3237        																	--						54: Id. UO / id. scrivania  (se colonna 53 è valorizzata)
3238        																	--						57: Indicatore di destinatario che è anche assegnatario (possibile solo se destinatario interno). Valore fisso 1.
3239        																	--	#Append_#@DestinatariEsterni	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
3240        																	--	#@GruppiDestinatari	Lista con i gruppi/liste di distribuzione di destinatari
3241        																	--						ATTENZIONE: devono essere gruppi/liste di distribuzione censite nella rubrica del sistema
3242        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
3243        																	--								tutti gli altri campi (colonne dalla 3 alla 15) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul documento)
3244        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul documento vengono riportati come nel tag
3245        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al documento
3246        																	--						Ciscuna riga della lista è un gruppo/lista di distribuzione e può contenere le seguenti colonne:
3247        																	--						1: Identificativo (ID_GRUPPO) del gruppo/lista di distribuzione
3248        																	--						2: Nome del gruppo/lista di distribuzione
3249        																	--						3: Codice rapido del gruppo/lista di distribuzione
3250        																	--						4: Indicatore di destinatario per conoscenza (i.e. tutti i membri del gruppo sono destinatari x conoscenza). Valore fisso 1. 
3251        																	--						5: Indicatore di destinatario con assegnazione (i.e. i membri del gruppo sono assegnatari). Valore fisso 1.
3252        																	--	#@AltriSoggettiEsterni		Lista con i dati di altri soggetti esterni (firmatari, conraenti ecc) in relazione con il documento
3253        																	--						ATTENZIONE: possono essere o meno soggetti censiti nella rubrica del sistema ed eventualmente anche nell'anagrafe residenti o ditte
3254        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
3255        																	--								tutti gli altri campi (colonne dalla 3 alla 14) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul documento)
3256        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul documento vengono riportati come nel tag
3257        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al documento
3258        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3259        																	--						1: Identificativo del soggetto nella rubrica soggetti del sistema
3260        																	--						2: Codice identificativo del soggetto nell'anagrafe o sistema di provenienza 
3261        																	--						3: Se valorizzato (valore fisso 1) indica che il soggetto è una persona fisica (altrimenti si intende essere una persona giuridica)
3262        																	--						4: Denominazione (se persona giuridica) o cognome (se persona fisica)
3263        																	--						5: Nome (se persona fisica)
3264        																	--						6: Codice fiscale
3265        																	--						7: Partita IVA
3266        																	--						8: Sesso (valori F/M/NULL) (se persona fisica)
3267        																	--						9: Data di nascita/istituzione (nel formato dato dal parametro FMT_STD_DATA)
3268        																	--						10: Codice ISTAT del comune di nascita/istituzione
3269        																	--						11: Nome del comune (se italiano) o città estera di nascita/istituzione
3270        																	--						12: Codice ISTAT dello stato estero di nascita/istituzione
3271        																	--						13: Nome dello stato estero di nascita/istituzione
3272        																	--						14: Codice ISTAT dello stato di cittadinanza
3273        																	--						15: Nome dello stato di cittadinanza
3274        																	--						16: Indicatore di soggetto da registrare in rubrica soggetti se non vi è già presente (in base ai criteri stabiliti per il test di esistenza). Valore fisso 1.
3275        																	--						17: (obblig. se campo successivo non è valorizzato) Codice della natura della relazione del soggetto con il documento (firmatario, contraente ecc). Valori da dizionario.
3276        																	--						18: (obblig. se campo precedente non è valorizzato) Descrizione della natura della relazione del soggetto con il documento (firmatario, contraente ecc). Valori da dizionario.
3277        																	--						19: Dettagli sulla natura della relazione tra soggetto e documento
3278        																	--						20: Titolo di studio/professionale
3279        																	--						21: Cod. rapido assegnatogli in rubrica
3280        																	--						23: N° documento di riconoscimento
3281        																	--						24: Codice toponomastico (cioè nel viario) della via/piazza ecc. dell'indirizzo 
3282        																	--						25: Via/piazza ecc. dell'indirizzo fisico 
3283        																	--						26: Località dell'indirizzo fisico  
3284        																	--						27: N.ro civico (senza eventuale esponente o altre "appendici" quali colore ecc che vanno in colonna 47) dell'indirizzo fisico 
3285        																	--						28: Interno del civico dell'indirizzo fisico 
3286        																	--						29: Scala del civico dell'indirizzo fisico 
3287        																	--						30: Piano nel civico dell'indirizzo fisico 
3288        																	--						31: Codice Avviamento Postale dell'indirizzo fisico 
3289        																	--						32: Codice istat del comune (se italiano) dell'indirizzo fisico 
3290        																	--						33: Nome del comune/città dell'indirizzo fisico 
3291        																	--						34: Codice istat dello stato estero dell'indirizzo fisico 
3292        																	--						35: Nome dello stato estero dell'indirizzo fisico 
3293        																	--						45: Zona dell'indirizzo fisico 
3294        																	--						46:	Complemento (i.e. altri dati) dell'indirizzo fisico 
3295        																	--						47: Appendici del n.ro civico (esponente, bis/ter ecc, colore) dell'indirizzo fisico 
3296        																	--						48: non utilizzato
3297        																	--					    49: Tipo di toponimo dell'indirizzo fisico 
3298        																	--						50: Indirizzo e-mail
3299        																	--						51: (valori 1/0) Se 1 indica se il soggetto (qualora esibente) è anche mittente
3300        																	--						52: Tipo di documento di riconoscimento
3301        																	--						53: N.ro di telefono
3302        																	--						54: (valori U/E) Indica se soggetto incaricato del ritiro documentazione per conto di: U = ufficio interno, E = richiedente esterno
3303        																	--	#Append_#@AltriSoggettiEsterni Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
3304        																	--	#DesOgg				Oggetto / descrizione del documento
3305        																	--	#ParoleChiave                 Parole chiave per cui è utile ricercare il documento 
3306        																	--	#CodSupportoOrig            	Codice del tipo di supporto su cui originariamente è stato acquisito o prodotto il documento (cartaceo, informatico ecc). Valori da dizionario
3307        																	--	#SupportoOriginale			Descrizione del tipo di supporto su cui originariamente è stato acquisito o prodotto il documento (cartaceo, informatico ecc). Valori da dizionario
3308        																	--	#FlgTipoCartaceo            	Indica se il documento cartaceo è: originale unico (OU), originale non unico (ONU), copia (C)
3309        																	--	#FlgDigitalizzazione         	Indica se il documento, originariamente cartaceo, è stato digitalizzato (2) o se ne è richiesta la digitalizzazione (1)
3310        																	--	#CISuCartaceo                 Codice (ad esempio un codice a barre) riportato sul documento cartaceo per identificarlo (da usarsi in fase di digitalizzazione per associare l'immagine al documento corretto)
3311        																	--	#NroPagineCartaceo          	N.ro di pagine del documento cartaceo
3312        																	--	#DtStesura  	            Data di redazione del documento (nel formato dato dal parametro di conf. FMT_STD_DATA)
3313        																	--	#LuogoStesura			Luogo di redazione del documento (descrittivo)
3314        																	--	#@Estensori                   Lista degli estensori (interni) del documento (sono utenti censiti nel sistema)
3315        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3316        																	--						1: Identificativo (quello interno al sistema) dell'utente estensore
3317        																	--						2: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente estensore
3318        																	--						3: Descrizione dell'utente estensore
3319        																	--						4: Username dell'utente estensore (quella interna)
3320        																	--	#Append_#@Estensori		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)			
3321        																	--	#@UffProduttori               Lista degli uffici che hanno prodotto il documento (UO censite nel sistema)
3322        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3323        																	--						1: Identificativo della UO
3324        																	--						2: Nri livello della UO (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3325        																	--						3: Denominazione della UO (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3326        																	--	#Append_#@UffProduttori		Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)			
3327        																	--	#LivRiservatezza             	Livello di riservatezza del documento (n.ro intero da 0 ad un valore dato dal parametro di configurazione MAX_LIV_RISERVATEZZA)
3328        																	--	#DtTermineRiservatezza			Data in cui cessa di valere la riservatezza indicata il #LivRiservatezza (nel formato indicato nel parametro di config. FMT_STD_DATA)
3329        																	--	#FlgVisibInChiaroRistrettaA		Indica, qualora sia settato un livello di riservatezza, a chi è ristretta la visibilità di tutti i dati e file del documento:
3330        																	--									C  =	assegnatari per competenza (i.e. i soggetti – UO, postazioni, utenti – a cui il documento è stato assegnato per competenza e che non l'hanno a loro volta smistato o riassegnato a qualcun altro);
3331        																	--									CE =	coloro a cui il documento è stato assegnato per competenza (anche se successivamente l'hanno a loro volta smistato o riassegnato a qualcun altro);
3332        																	--									CC =	coloro a cui il documento è stato assegnato per competenza o conoscenza.
3333        																	--	#FlgDatiPersonali           	Se valorizzato (valore fisso 1) indica che il documento contiene dati personali
3334        																	--	#FlgDatiSensibili           	Se valorizzato (valore fisso 1) indica che il documento contiene dati sensibili
3335        																	--	#FlgDatiSensibilissimi      	Se valorizzato (valore fisso 1) indica che il documento contiene dati sensibilissimi
3336        																	--	#FlgDatiGiudiziari          	Se valorizzato (valore fisso 1) indica che il documento contiene dati giudiziari
3337        																	--	#FlgEsercDirPrivacy        	Se valorizzato (valore fisso 1) indica che l'interessato ha esercitato i diritti di cui al codice sulla privacy
3338        																	--	#FlgBloccoTrattamento       	Se valorizzato (valore fisso 1) indica che l'interessato ha esercitato il blocco del trattamento dei dati personali
3339        																	--	#DtTermineBloccoTratt         Termine (data) posto al blocco del trattamento dei dati personali di cui al campo precedente (nel formato dato dal parametro di conf. FMT_STD_DATA)
3340        																	--	#FlgLimitAccesso            	Indica se l'accesso al documento dall'esterno è precluso temporaneamente (1) o permanentemente (2)
3341        																	--	#DtTermineDiffAccesso      	Termine (data) fino a cui l'accesso al documento dall'esterno è differito (nel formato dato dal parametro di conf. FMT_STD_DATA)
3342        																	--	#IdUserTitolareTratt       	Identificativo (quello interno al sistema) dell'utente titolare del trattamento dei dati personali, sensibili ecc. contenuti nel documento
3343        																	--	#CIEstUserTitolareTratt		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente titolare del trattamento dei dati personali, sensibili ecc. contenuti nel documento
3344        																	--	#DesUserTitolareTratt       	Descrizione dell'utente titolare del trattamento dei dati personali, sensibili ecc. contenuti nel documento
3345        																	--	#IdUserRespTratt       		Identificativo (quello interno al sistema) dell'utente responsabile del trattamento dei dati personali, sensibili ecc. contenuti nel documento
3346        																	--	#CIEstUserRespTratt		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente responsabile del trattamento dei dati personali, sensibili ecc. contenuti nel documento
3347        																	--	#DesUserRespTratt       	Descrizione dell'utente responsabile del trattamento dei dati personali, sensibili ecc. contenuti nel documento
3348        																	--	#@IncaricatiTrattamento       Lista degli incaricati del trattamento dei dati personali, sensibili ecc. contenuti nel documento. Devono essere utenti censiti nel sistema
3349        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3350        																	--						1: Identificativo (quello interno al sistema) dell'utente incaricato
3351        																	--						2: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente incaricato
3352        																	--						3: Descrizione dell'utente incaricato
3353        																	--	#Append_#@IncaricatiTrattamento Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)			
3354        																	--	#RestrizioniAccesso 	  	Restrizioni all'accesso al documento (parti da oscuare ecc.)
3355        																	--	#RestrizioniRiprod           	Restrizioni alla riproduzione del documento
3356        																	--	#FlgCartaceoEliminato       	Se valorizzato (valore fisso 1) indica che il cartaceo del documento è stato eliminato
3357        																	--	#DtElimCartaceo             	Data di eliminazione del cartaceo del documento (nel formato dato dal parametro di conf. FMT_STD_DATA)
3358        																	--	#IdUserElimCart            	Identificativo (quello interno al sistema) dell'utente che ha eliminato il cartaceo
3359        																	--	#CIEstUserElimCart		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha eliminato il cartaceo
3360        																	--	#DesUserElimCart       		Descrizione dell'utente che ha eliminato il cartaceo
3361        																	--	#IdUserAutElimCart        	Identificativo (quello interno al sistema) dell'utente che ha autorizzato l'eliminazione del cartaceo
3362        																	--	#CIEstUserAutElimCart		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato l'eliminazione del cartaceo
3363        																	--	#DesUserAutElimCart       	Descrizione dell'utente che ha autorizzato l'eliminazione del cartaceo
3364        																	--	#ProvCIDoc                  	Codice identificativo del documento in un eventuale sistema di provenienza
3365        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>_Doc: qualsiasi attributo dinamico specificabile per il documento (nel dominio di lavoro)
3366        																	-- E quelli relativi alla versione elettronica:		
3367        																	--	#DisplayFilename_Ver 		Nome con cui mostrare/in cui estrarre il file corrispondente alla versione elettronica del documento
3368        																	--	#URI_Ver					Riferimento univoco per reperire nella repository il file corrispondente alla versione del documento
3369        																	--	#Impronta_Ver			Impronta (SHA1) del file corrispondente alla versione
3370        																	--	#Algoritmo_Impronta_Ver	Algoritmo con cui è stata calcolata l'impronta (SHA-1, SHA-256, MD5 ecc)
3371        																	--	#Encoding_Impronta_Ver	Encoding con cui è stata calcolata l'impronta: hex = esadecimale, base64 = in base 64
3372        																	--	#Dimensione_Ver			Dimensione in bytes della versione
3373        																	--	#FlgFirmata_Ver			(valori 1/0/NULL) Se 1 significa che la versione elettronica è firmata digitalmente, se 0 o NULL che non è firmata
3374        																	--	#Mimetype_Ver			Mimetype del file della versione (se è firmato con busta p7m, m7m o tsd è il formato del file "sbustato)
3375        																	--	#Cod_Ver				Codice identificativo della versione elettronica
3376        																	--	#NroProgrVerBckVerDi_Ver		N.ro progressivo dell'eventuale versione di cui è una back-version
3377        																	--	#Note_Ver	 			Note versione elettronica del documento
3378        																	--	#FlgPubblicata_Ver 		(valori 1/0/NULL) Se 1 indica che la versione è pubblicata 
3379        																	--	#IdFormatoEl_Ver 			Identificativo del formato elettronico della versione (quello con cui è registrato in banca dati)
3380        																	--	#NomeFormatoEl_Ver			Nome del formato elettronico della versione (quello con cui è registrato in banca dati)
3381        																	--	#FlgDaScansione_Ver 			(valori 1/0/NULL) Se 1 indica che la versione elettronica è un'immagine acquisita da scanner 
3382        																	--	#DtScansione_Ver 			Data in cui l'immagine corrispondente alla versione elettronica è stata acquisita da scanner (nel formato dato dal parametro di conf. FMT_STD_DATA) 
3383        																	--	#IdUserScansione_Ver 			Id. (quello interno al sistema) dell'utente che ha scansionato l'immagine corrispondente alla versione 
3384        																	--	#CIEstUserScansione_Ver		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha scansionato l'immagine corrispondente alla versione
3385        																	--	#DesUserScansione_Ver 		Denominazione dell'utente che ha scansionato l'immagine corrispondente alla versione
3386        																	--	#SpecificheScansione_Ver 		Specifiche (es: risoluzione) sul processo di digitalizzazione che ha prodotto la versione
3387        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>_Ver: qualsiasi attributo dinamico specificabile su una versione											
3388        			URIXmlOut			OUT		NOCOPY CLOB,						-- Lista con gli URI delle versioni elettroniche il cui profilo va aggiornato sui container a seguito dell'operazione (xml conforme a schema LISTA_STD.xsd)
3389        																	-- Ogni versione è un tag Riga che contiene le seguenti colonne: 
3390        																	-- 1:	Identificativo del documento cui è relativa la versione
3391        																	-- 2:	N.ro progressivo della versione
3392        																	-- 3: URI della versione
3393        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
3394        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
3395        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
3396        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
3397        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
3398        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
3399        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
3400        
3401        	/************* Funzione attraverso cui creare un nuovo folder (anche una libreria) collocandolo in uno o più punti della repository documentale 	*******/
3402        	/************* Il folder può anche essere un fascicolo basato sul piano di classificazione. In tal caso viene collocato					*******/
3403        	/************* comunque (anche se non esplicitamente indicato) nel folder dell'anno di apertura e della classificazione, e se					*******/
3404        	/************* questi già non esistono nella repository vi vengono creati al momento											*******/
3405        	/************* Diversamente tutti gli altri folder in cui deve essere collocato devono essere già esistenti								*******/
3406        	function AddFolder(
3407        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
3408        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
3409        			AttributiXMLIn		IN		CLOB,								-- XML contenente nomi e valori degli attributi del folder (conforme allo schema SezioneCache.xsd)
3410        																	-- Gli attributi possono essere:
3411        																	--	#FlgFascTitolario			Valore 1/0. Se 1 indica che il folder è un fascicolo basato sul piano di classificazione
3412        																	-- 	#FlgSottoFascInserto	Indica se il fascicolo basato sul piano di clssificazione è un sotto-fascicolo o un inserto (i.e. parte di un sotto-fascicolo)
3413        																	--							Valori ammessi: S = Sottofascicolo, I = Inserto
3414        																	--	#IdFolderType			Identificativo del tipo di folder.
3415        																	--	#NomeFolderType			Nome del tipo di folder.
3416        																	--	#IdProcessFrom			Id. del processo/procedimento che ha dato luogo al folder
3417        																	--							Se non già associato il nuovo folder viene associato al procedimento e dal procedimento vengono ricavati nome, folder appartenenza, oggetto se non valorizzati nelle apposite variabili
3418        																	--	#NomeFolder				Nome del folder (quello con cui viene presentato e riconosciuto nella GUI). 
3419        																	--							Obblig. e gestito solo se non è un fascicolo che rappresenta una classifica (ovvero con folder type che è "classifica")
3420        																	--							Se la tipologia del folder prevede un template per il nome, il nome viene composto in automatico ignorando questo input
3421        																	--	#IdLibrary				Id. della libreria di appartenenza
3422        																	--	#NomeLibrary			Nome della libreria di appartenenza
3423        																	--	#TsApertura				Data e ora di apertura del folder (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
3424        																	--						Se non specificato si intende pari a data e ora correnti
3425        																	--	#IdClassificazione		Identificativo della classificazione del fascicolo
3426        																	--						Gestito solo per fascicoli basati sul piano di classificazione
3427        																	--	#NriLivClassificazione		N.ri livello della classificazione (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore previsto per i livelli di classificazione nel dominio di lavoro) 
3428        																	--						Gestito solo per fascicoli basati sul piano di classificazione
3429        																	--	#DesClassificazione		Descrizione della classificazione (può essere quella semplice o la concatenazione con separatore "|" delle descrizioni delle calssificazioni superiori + quella della classificazione)
3430        																	--						Gestito solo per fascicoli basati sul piano di classificazione
3431        																	--	#AnnoAperturaFascApp	Anno di apertura del fascicolo di appartenenza (del sottofascicolo o inserto)
3432        																	--						Gestito solo per sottofascicoli e inserti di fascicoli basati sul piano di calssificazione
3433        																	--	#NroFasc			N.ro progressivo del fascicolo
3434        																	--						Obblig. e gestito solo per fascicoli basati sul piano di classificazione
3435        																	--	#NroSottofasc		N.ro di sotto-fascicolo
3436        																	--						Gestito solo per fascicoli basati sul piano di classificazione
3437        																	--	#NroInserto			N.ro di inserto del sotto-fascicolo
3438        																	--						Gestito solo per fascicoli basati sul piano di classificazione
3439        																	--	#NroSecondario			N.ro secondario/alternativo dato al fascicolo
3440        																	--	#PathToCreate		Percorso in cui va collocato il folder. Se il percorso non esite o esiste in parte viene creato quel che manca
3441        																	--	#@FolderAppartenenza		Lista dei folder, già esistenti, in cui si colloca (nel caso di fascicolo di titolario il fascicolo di appartenenza che rappresenta anno apertura + classificazione + eventuale fascicolo padre + eventuale sottofascicolo padre può non essere specificato) 
3442        																	--						Deve essere specificato almeno un record se il folder non è uno di quelli basati sul piano di classificazione.
3443        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3444        																	--						1: Identificativo del folder di appartenenza
3445        																	--						2: Path (con o senza nome della libreria di appartenenza)+ nome del folder di appartenenza(i vari livelli del percorso vanno separati con / o \)
3446        																	--						3: Motivi per cui è collocato nel folder
3447        																	--						Se nessuno dei primi due campi è specificato si intende che il folder va collocato direttamente nella libreria di appartenenza
3448        																	--	#DesOgg				Descrizione dei contenuti / oggetto del folder
3449        																	--	#ParoleChiave                 Parole chiave per cui è utile ricercare il documento 
3450        																	--	#IdUserApertura			Identificativo dell'utente che ha aperto il folder (se diverso da quello di lavoro) 
3451        																	--	#CIEstUserApertura		Codice che identifica l'utente che ha aperto il folder nell'applicazione esterna da cui ci si connette (se diverso da quello di lavoro)
3452        																	--	#DesUserApertura		Denominazione dell'utente che ha aperto il folder (se diverso da quello di lavoro)
3453        																	--	#UsernameApertura		Username dell'utente che ha aperto il folder (se diverso da quello di lavoro)
3454        																	--	#IdUOApertura			Identificativo della UO che ha aperto il folder
3455        																	--	#DesUOApertura			Denominazione della UO che ha aperto il folder (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3456        																	--	#NriLivUOApertura		N.ri livello della UO che ha aperto il folder (tutti; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3457        																	--	#IdUOResponsabile		Identificativo della UO responsabile o della UO di appartenenza della scrivania responsabile
3458        																	--	#DesUOResponsabile		Denominazione della UO responsabile o della UO di appartenenza della scrivania responsabile (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3459        																	--	#NriLivUOResponsabile	N.ri livello della UO responsabile o della UO di appartenenza della scrivania responsabile (tutti; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3460        																	--	#IdScrivResponsabile	Id. della scrivania responsabile del folder
3461        																	--	#CIEstUserResponsabile	Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che occupa la scrivania responsabile del folder
3462        																	--	#DesUserResponsabile	Denominazione dell'utente che occupa la scrivania responsabile del folder
3463        																	--	#UsernameResponsabile 	Username (credenziali locali) dell'utente che occupa la scrivania responsabile del folder
3464        																	--	#TsChiusura				Data e ora di chiusura del folder (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
3465        																	--	#IdUserChiusura			Identificativo dell'utente che ha chiuso il folder (se diverso da quello di lavoro) 
3466        																	--	#CIEstUserChiusura		Codice che identifica l'utente che ha chiuso il folder nell'applicazione esterna da cui ci si connette (se diverso da quello di lavoro)
3467        																	--	#DesUserChiusura		Denominazione dell'utente che ha chiuso il folder (se diverso da quello di lavoro)
3468        																	--	#UsernameChiusura		Username dell'utente che ha chiuso il folder (se diverso da quello di lavoro)
3469        																	--	#FlgArchivio			Indica il tipo di archivio a cui appartiene il folder: C = Corrente; D = di Deposito; S = Storico
3470        																	--	#DtVersDeposito               Data di versamento in archivio di deposito (nel formato dato dal parametro di conf. FMT_STD_DATA)
3471        																	--	#IdUserVersDeposito           Identificativo (quello interno al sistema) dell'utente che ha effettuato il versamento in archivio di deposito
3472        																	--	#CIEstUserVersDeposito		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuato il versamento in archivio di deposito	
3473        																	--	#DesUserVersDeposito		Descrizione dell'utente che ha effettuato il versamento in archivio di deposito
3474        																	--	#IdUserAutVersDeposito        Identificativo (quello interno al sistema) dell'utente che ha autorizzato il versamento in archivio di deposito
3475        																	--	#CIEstUserAutVersDeposito	Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato il versamento in archivio di deposito	
3476        																	--	#DesUserAutVersDeposito		Descrizione dell'utente che ha autorizzato il versamento in archivio di deposito
3477        																	--	#DtVersStorico			Data di versamento in archivio storico (nel formato dato dal parametro di conf. FMT_STD_DATA)
3478        																	--	#IdUserVersStorico           	Identificativo (quello interno al sistema) dell'utente che ha effettuato il versamento in archivio storico
3479        																	--	#CIEstUserVersStorico		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuato il versamento in archivio storico	
3480        																	--	#DesUserVersStorico		Descrizione dell'utente che ha effettuato il versamento in archivio storico
3481        																	--	#IdUserAutVersStorico        	Identificativo (quello interno al sistema) dell'utente che ha autorizzato il versamento in archivio storico
3482        																	--	#CIEstUserAutVersStorico	Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato il versamento in archivio storico	
3483        																	--	#DesUserAutVersStorico		Descrizione dell'utente che ha autorizzato il versamento in archivio storico
3484        																	--	#@InCaricoA				Indica a chi (non destinatario) mettere in carico il folder
3485        																	--						Chi ha in carico può essere specificato/variato solo se il folder non è ancora inviato
3486        																	--						Chi ha in carico può essere solo l'utente di lavoro o una UO/scrivania cui è collegato da appartenenza o delega o per cui può lavorare
3487        																	--						E' una lista mono-riga; la riga può contenere le seguenti colonne:
3488        																	--						1: (obblig.) Indicatore del tipo di soggetto
3489        																	--							Valori possibili:
3490        																	-- 							UT 	= Utente
3491        																	--							SV	= Scrivania virtuale
3492        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
3493        																	--						2: Identificativo del destinatario della copia
3494        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
3495        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
3496        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
3497        																	--						3: Denominazione/nome del soggetto(se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3498        																	--						4: Identificativo della UO cui appartiene la scrivania che rappresenta il soggetto
3499        																	--						5: Nri livello della UO che rappresenta il soggetto o a cui appartiene la scrivania che rappresenta il soggetto (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3500        																	--						6: Denominazione della UO cui appartiene la scrivania che rappresenta il soggetto (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3501        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che rappresenta il soggetto o quello che occupa la scrivania che rappresenta il soggetto
3502        																	--						8: Denominazione dell'utente che occupa la scrivania che rappresenta il soggetto
3503        																	--						9: <Non utilizzata>
3504        																	--						10: <Non utilizzata>
3505        																	--						11: Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente che rappresenta il soggetto o che occupa la scrivania che rappresenta il soggetto
3506        																	--						12: Se colonna 1 =UT o SV: N.ro di matricola dell'utente che rappresenta il soggetto o che occupa la scrivania che rappresenta il soggetto  
3507        																	--						13: <Non utilizzata>
3508        																	--						14: <Non utilizzata>
3509        																	--						15: <Non utilizzata>
3510        																	--						16: <Non utilizzata>
3511        																	--						Se si vuole togliere chi ha in carico il folder basta settare a vuota la lista di questo attributo
3512        																	--	#@Assegnatari		Indica a chi - un soggetto interno - assegnare il folder
3513        																	-- 						E' una lista mono-riga; l'unico tag "Riga" contiene le seguenti colonne:
3514        																	--						1: (obblig.) Indicatore del tipo di assegnatario
3515        																	--							Valori possibili:
3516        																	-- 							UT 	= Utente
3517        																	--							SV	= Scrivania virtuale
3518        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
3519        																	--						2: Identificativo dell'assegnatario
3520        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
3521        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
3522        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
3523        																	--						3: Denominazione/nome dell'assegnatario (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3524        																	--						4: Identificativo della UO cui appartiene la scrivania assegnataria
3525        																	--						5: Nri livello della UO assegnataria o a cui appartiene la scrivania assegnataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3526        																	--						6: Denominazione della UO cui appartiene la scrivania assegnataria (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3527        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente assegnatario o quello che occupa la scrivania assegnataria
3528        																	--						8: Denominazione dell'utente che occupa la scrivania assegnataria
3529        																	--						9: <Non utilizzata>
3530        																	--						10: <Non utilizzata>
3531        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo assegnatario (alternativo alla colonna 10)
3532        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente assegnatario o che occupa la scrivania assegnataria 
3533        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo assegnatario (alternativo alla colonna 10)
3534        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente assegnatario o che occupa la scrivania assegnataria 
3535        																	--						13: <Non utilizzata>
3536        																	--						14: <Non utilizzata>
3537        																	--						15: <Non utilizzata>
3538        																	--						16: <Non utilizzata>
3539        																	--						17: <Non utilizzata>
3540        																	--						18: <Non utilizzata>
3541        																	--						19: Flag che indica la modalità di accesso da dare all'assegnatario sul folder (ovvero indica le opzioni di accesso che avrà l'assegnatario nell'ACL del folder dopo l'invio, salvo ne avesse già di più ampie)
3542        																	--						    Valori possibili: FC = Full control; M = Modifica metadati; MM = Modifica soli metadati; V = Sola visualizzazione
3543        																	--						20: (valori 1/NULL) Se 1 indica che è richiesta la notifica di presa in carico per il dato assegnatario 
3544        																	--						21: N.ro di giorni, a partire dalla decorrenza dell'assegnazione, trascorsi i quali senza che sia avvenuta la presa in carico, ci deve essere la notifica di mancata presa in carico da parte del dato assegnatario
3545        																	--  #CodMotivoAssegn	Cod. del motivo dell'assegnazione agli assegnatari (da dizionario)
3546        																	--	#MotivoAssegn		Motivo dell'assegnazione agli assegnatari (da dizionario)
3547        																	--	#@InvioDestCC		Indica a chi, soggetto interno, inviare per conoscenza il folder 
3548        																	-- 						Ogni destinatario di invio per conoscenza è un tag "Riga" con le seguenti colonne:
3549        																	--						1: (obblig.) Indicatore del tipo di destinastario
3550        																	--							Valori possibili:
3551        																	-- 							UT 	= Utente
3552        																	--							SV	= Scrivania virtuale
3553        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
3554        																	--							G	= Gruppo
3555        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
3556        																	--							R@	= Soggetti interni che hanno un certo ruolo rispetto al documento / folder
3557        																	--						2: Identificativo del destinatario
3558        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
3559        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
3560        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
3561        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
3562        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
3563        																	--							è un COD_NATURA_REL di DMT_REL_SOGG_INT_DOC/DMT_REL_SOGG_INT_FOLDER che indica il codice del ruolo rispetto al documento / folder se colonna 1 = R@. Può avere i valori particolari: #CON_ACCESSO (= tutti coloro che hanno accesso anche in sola visualizzazione) e #CON_ACCESSO_IN_MODIFICA (= tutti coloro che hanno accesso anche in modifica dei metadati e/o file)
3564        																	--						3: Denominazione/nome del destinatario (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|"). Se colonna 1 = R@ è la descrizione del ruolo rispetto al documento / folder
3565        																	--						4: Identificativo della UO cui appartiene la scrivania destinataria
3566        																	--						5: Nri livello della UO destinataria o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3567        																	--						6: Denominazione della UO cui appartiene la scrivania destinataria (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3568        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario o quello che occupa la scrivania destinataria
3569        																	--						8: Denominazione dell'utente che occupa la scrivania destinataria
3570        																	--						9: (valore 1) Indica che il destinatario, se UO, sono anche tutte le sue sotto-UO
3571        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario
3572        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario (alternativo alla colonna 10)
3573        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario o che occupa la scrivania destinataria 
3574        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario (alternativo alla colonna 10)
3575        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario o che occupa la scrivania destinataria 
3576        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario
3577        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3578        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3579        																	--						16:(valore 1) Indica che il ruolo amministrativo destinatario si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
3580        																	--						17: Codice del ruolo del destinatario (valori codificati in apposita disctionary entry)
3581        																	--						18: Ruolo del destinatario (valori in apposita disctionary entry)
3582        																	--						19: Flag che indica la modalità di accesso da dare al destinatario sull'oggetto inviato (ovvero indica le opzioni di accesso che avrà il destinatario nell'ACL dell'oggetto dopo l'invio, salvo ne avesse già di più ampie)
3583        																	--						    Valori possibili: FC = Full control; M = Modifica metadati e files/contenuti; MM = Modifica soli metadati; V = Sola visualizzazione; VM = Visualizzazione dei soli metadati (non dei files)
3584        																	--						20: (valori 1/NULL) Se 1 indica che è richiesta la notifica di presa visione per il dato destinatario (anche se non è stata richiesta per tutti i destinatari questa notifica)
3585        																	--						21: N.ro di giorni, a partire dalla decorrenza della notifica, trascorsi i quali senza che sia avvenuta la presa visione, ci deve essere la notifica di mancata presa visione da parte del dato destinatario (anche se tale notifica non è richiesta per tutti i destinatari)
3586        																	--	#@ACL					Lista con i permessi assentiti o negati sul folder
3587        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3588        																	--						1: (obblig.) Indicatore del tipo di destinatario del permesso
3589        																	--							Valori possibili:
3590        																	--							SP	= Soggetto produttore  
3591        																	-- 							AOO	= AOO 
3592        																	-- 							UT 	= Utente
3593        																	--							SV	= Scrivania virtuale
3594        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
3595        																	--							G	= Gruppo
3596        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
3597        																	--						2: Identificativo del destinatario del permesso
3598        																	--							è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
3599        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
3600        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
3601        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
3602        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
3603        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
3604        																	--						3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3605        																	--						4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
3606        																	--						5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3607        																	--						6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3608        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
3609        																	--						8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
3610        																	--						9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
3611        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
3612        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
3613        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
3614        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
3615        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
3616        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
3617        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3618        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3619        																	--						16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
3620        																	--						17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3621        																	--						18:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3622        																	--						19:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3623        																	--						20:(valori 1/0/NULL) Indica se la copia del folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3624        																	--						21:(valori 1/0/NULL) Indica se l'eliminazione del folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3625        																	--						22:(valori 1/0/NULL) Indica se il ripristino del folder eliminato è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
3626        																	--						23:(valori 1/0/NULL) Indica se la modifica del contenuto di unità documentarie è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3627        																	--						24:(valori 1/0/NULL) Indica se la modifica del contenuto di folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3628        																	--	#FlgEreditaPermessi		Valori 1/0/NULL. Indica se il folder può ereditare i permessi da un folder di appartenenza
3629        																	--	#PathNomeFolderEreditaPerm	Percorso e nome del folder da cui deve ereditare i permessi
3630        																	--	#IdFolderEreditaPerm		Id. del folder da cui deve ereditare i permessi
3631        																	--	#FlgPropagaPermessi		Valori 1/0/NULL. Indica se il folder può propagare i permessi agli oggetti che contiene	
3632        																	--	#@SoggettiEsterni			Lista con i dati dei soggetti esterni in relazione con il folder
3633        																	--						ATTENZIONE: possono essere o meno soggetti censiti nella rubrica del sistema ed eventualmente anche nell'anagrafe residenti o ditte
3634        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
3635        																	--								tutti gli altri campi (colonne dalla 3 alla 14) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul folder)
3636        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul folder vengono riportati come nel tag
3637        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al folder
3638        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3639        																	--						1: Identificativo del soggetto nella rubrica soggetti del sistema
3640        																	--						2: Codice identificativo del soggetto nell'anagrafe o sistema di provenienza
3641        																	--						3: Se valorizzato (valore fisso 1) indica che il soggetto è una persona fisica (altrimenti si intende essere una persona giuridica)
3642        																	--						4: Denominazione (se persona giuridica) o cognome (se persona fisica)
3643        																	--						5: Nome (se persona fisica)
3644        																	--						6: Codice fiscale
3645        																	--						7: Partita IVA
3646        																	--						8: Sesso (valori F/M/NULL) (se persona fisica)
3647        																	--						9: Data di nascita/istituzione (nel formato dato dal parametro FMT_STD_DATA)
3648        																	--						10: Codice ISTAT del comune di nascita/istituzione
3649        																	--						11: Nome del comune (se italiano) o città estera di nascita/istituzione
3650        																	--						12: Codice ISTAT dello stato estero di nascita/istituzione
3651        																	--						13: Nome dello stato estero di nascita/istituzione
3652        																	--						14: Codice ISTAT dello stato di cittadinanza
3653        																	--						15: Nome dello stato di cittadinanza
3654        																	--						16: Indicatore di soggetto da registrare in rubrica soggetti se non vi è già presente (in base ai criteri stabiliti per il test di esistenza). Valore fisso 1.
3655        																	--						17: (obblig. se campo successivo non è valorizzato) Codice della natura della relazione del soggetto con il folder. Valori da dizionario.
3656        																	--						18: (obblig. se campo precedente non è valorizzato) Descrizione della natura della relazione del soggetto con il folder. Valori da dizionario.
3657        																	--						19: Dettagli sulla natura della relazione tra soggetto e folder
3658        																	--						20: Titolo di studio/professionale
3659        																	--						21: Cod. rapido assegnatogli in rubrica
3660        																	--	#@RelazioniVsFolder		Lista delle relazioni - salvo quelle di appartenenza - con altri folder (relazioni di precedente-successivo ecc.)
3661        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3662        																	--						1: Identificativo del folder collegato
3663        																	--						2: Path (con o senza nome della libreria di appartenenza)+ nome del folder collegato(i vari livelli del percorso vanno separati con / o \)
3664        																	--						3: Anno di apertura del folder collegato (se folder basato sul titolario)
3665        																	--						4: Livelli della classificazione del folder collegato (se folder basato sul titolario)
3666        																	--						5: N.ro progressivo di fascicolo del folder collegato (se folder basato sul titolario)
3667        																	--						   seguito da / e eventuale n.ro di sottofascicolo se trattasi di sottofascicolo
3668        																	--						   seguito da / e eventuale n.ro di inserto se trattasi di inserto
3669        																	--						6: Codice della categoria/natura generale della relazione tra i 2 folder (valori da dizionario)
3670        																	--						7: Descrizione della categoria/natura generale della relazione tra i 2 folder (valori da dizionario)
3671        																	--						8: Codice del ruolo che svolge nella relazione il folder da creare/aggiornare (valori da dizionario)
3672        																	--						9: Descrizione del ruolo che svolge nella relazione il folder da creare/aggiornare (valori da dizionario)
3673        																	--						10: Codice del ruolo che svolge nella relazione il folder collegato a quello da creare/aggiornare (valori da dizionario)
3674        																	--						11: Descrizione del ruolo che svolge nella relazione il folder collegato a quello da creare/aggiornare (valori da dizionario)
3675        																	--						12: Dettagli della relazione (campo descrittivo)
3676        																	--	#LivRiservatezza             	Livello di riservatezza del folder (n.ro intero da 0 ad un valore dato dal parametro di configurazione MAX_LIV_RISERVATEZZA)
3677        																	--	#DtTermineRiservatezza			Data in cui cessa di valere la riservatezza indicata il #LivRiservatezza (nel formato indicato nel parametro di config. FMT_STD_DATA)
3678        																	--	#FlgVisibInChiaroRistrettaA		Indica, qualora sia settato un livello di riservatezza, a chi è ristretta la visibilità di tutti i dati del folder:
3679        																	--									RC  =	soggetto responsabile del fascicolo e chi lo ha in carico (generalmente coincidono);
3680        																	--									RCE = 	soggetto responsabile del fascicolo e chi lo ha o lo ha avuto in carico
3681        																	--									RCC =	soggetto responsabile del fascicolo, chi lo ha o lo ha avuto in carico e coloro ai quali il fascicolo è stato inviato per conoscenza
3682        																	--	#LivEvidenza                  Livello di evidenza assegnato al folder (il massimo valore possibile è dato dal parametro di configurazione MAX_LIV_EVIDENZA)
3683        																	--	#FlgInteresseCessato		Se pari a 1 indica che è cessato l'interesse sul folder, se 0 o NULL che l'interesse è attivo
3684        																	--	#CollocazioneFisica.IdTopografico	Id. del luogo - censito nel topografico - in cui è collocato il folder/fascicolo
3685        																	--  #CollocazioneFisica.Descrizione		Descrizione libera della collocazione fisica del folder fascicolo
3686        																	--	#FlgSenzaProced			Se valorizzato (valore fisso 1) indica che si tratta di folder senza procedimento associato
3687        																	--	#FlgConservPerm			Se valorizzato (valore fisso 1) indica che il folder deve essere conservato illimitatamente		
3688        																	--	#PeriodoConserv               Periodo minimo di conservazione (espresso in anni) del folder (se non specificato può essere ereditato da quelli definiti per la tipologia del folder o la classificazione o il tipo del procedimento collegato)
3689        																	--	#CodSupportoConserv		Codice del supporto fisico di conservazione (carta, disco ottico, microfilm ecc) del folder. Valori da dizionario
3690        																	--	#DesSupportoConserv		Descrizione del supporto fisico di conservazione (carta, disco ottico, microfilm ecc) del folder. Valori da dizionario
3691        																	--	#FlgCartaceoEliminato       	Se valorizzato (valore fisso 1) indica che il cartaceo del folder è stato eliminato
3692        																	--	#DtElimCartaceo             	Data di eliminazione del cartaceo del del folder (nel formato dato dal parametro di conf. FMT_STD_DATA)
3693        																	--	#IdUserElimCart            	Identificativo (quello interno al sistema) dell'utente che ha eliminato il cartaceo
3694        																	--	#CIEstUserElimCart		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha eliminato il cartaceo
3695        																	--	#DesUserElimCart       		Descrizione dell'utente che ha eliminato il cartaceo
3696        																	--	#IdUserAutElimCart        	Identificativo (quello interno al sistema) dell'utente che ha autorizzato l'eliminazione del cartaceo
3697        																	--	#CIEstUserAutElimCart		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato l'eliminazione del cartaceo
3698        																	--	#DesUserAutElimCart       	Descrizione dell'utente che ha autorizzato l'eliminazione del cartaceo
3699        																	--	#DtScarto                     Data di scarto archivistico (vale a dire esculsione dal processo di conservazione) del folder (nel formato dato dal parametro di conf. FMT_STD_DATA)
3700        																	--	#IdUserScarto           	Identificativo (quello interno al sistema) dell'utente che ha effettuato lo scarto archivistico del folder
3701        																	--	#CIEstUserScarto			Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuato lo scarto archivistico del folder	
3702        																	--	#DesUserScarto			Descrizione dell'utente che ha effettuato lo scarto archivistico del folder
3703        																	--	#IdUserAutScarto           	Identificativo (quello interno al sistema) dell'utente che ha autorizzato lo scarto archivistico del folder
3704        																	--	#CIEstUserAutScarto		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato lo scarto archivistico del folder	
3705        																	--	#DesUserAutScarto			Descrizione dell'utente che ha autorizzato lo scarto archivistico del folder
3706        																	--	#Note					Annotazioni sul folder
3707        																	--	#CodStato				Codice dello stato del folder 
3708        																	--	#CodStatoDett			Codice dello stato di dettaglio del folder		
3709        																	--	#DesStato				Descrizione dello stato del folder
3710        																	--	#DesStatoDett			Descrizione dello stato di dettaglio del folder
3711        																	--	#ProvCIFolder			Codice che identifica il folder nel sistema di provenienza
3712        																	--	#OrderByValue			Valore da usare per l'ordinamento del folder
3713        																	--	#ContainerHandler			Tipo di contenitore (Hummingbird, ecc) in cui deve essere rappresentato il folder
3714        																	--	#ContainerAlias			Alias che identifica lo specifico contenitore (del tipo #ContainerHandler) in cui deve essere rappresentato il folder
3715        																	--	#IstruttoreProc.Tipo 	Tipo di chi va designato come "istruttore" del procedimento collegato al folder: ha valori LD (Lista di distribuzione/gruppo) e UT (singolo operatore censito a sistema)
3716        																	--  #IstruttoreProc.Id		Id. - ID_GRUPPO o ID_USER - di chi va designato come "istruttore" del procedimento collegato al folder
3717        
3718        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>: qualsiasi attributo dinamico specificabile per il folder											
3719        			IdFolderOut			OUT		DMT_FOLDER.ID_FOLDER%type,				-- Id. del folder creato												
3720        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
3721        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
3722        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
3723        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
3724        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
3725        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
3726        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
3727        
3728        	/************* Funzione attraverso cui aggiornare i dati (non il contenuto) di un folder (anche una libreria)	*******/
3729        	/************* Il folder può anche essere un fascicolo basato sul piano di classificazione				*******/
3730        	function UpdFolder(
3731        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
3732        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
3733        			IdFolderIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL,		-- Identificativo del folder da aggiornare
3734        			IdLibraryIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL,		-- Id. della libreria di appartenenza del folder
3735        			NomeLibraryIn		IN		DMT_FOLDER.NOME_FOLDER%type DEFAULT NULL, 	-- Nome della libreria di appartenenza del folder 
3736        			FolderPathIn		IN		VARCHAR2 DEFAULT NULL,					-- Un percorso + nome del folder da aggiornare (con / o \ come separatore dei livelli; senza nome della libreria come prefisso)
3737        																	-- La ricerca su questo argomento è esatta, a meno che non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive
3738        			AttributiXMLIn		IN		CLOB,								-- XML contenente nomi e valori degli attributi del folder (conforme allo schema SezioneCache.xsd)
3739        																	-- Per tutti gli attributi vale quanto segue:
3740        																	-- 		gli attributi specificati nell'XML aggiornano i corrispondenti già presenti in DB:
3741        																	--			per gli attributi con valore semplice il valore nell'XML sostituisce quello eventualmente già presente in DB per quell'attributo; se non c'è valore significativo nell'XML significa che il valore dell'attributo in DB va rimosso
3742        																	--			per gli attributi con valore lista i valori nell'XML si aggiungono o sostituiscono quelli già presenti in DB a seconda rispettivamente che nell'XML sia presente o meno un attributo #Append_<Nome attributo>; se la lista di valori nell'XML è vuota significa che tutti i valori dell'attributo già presenti in DB vanno rimossi
3743        																	-- 		gli attributi presenti in DB per cui non c'è corrispondente nell'XML restano invariati
3744        																	-- Gli attributi possono essere:
3745        																	--	#IdFolderType			Identificativo del tipo di folder.
3746        																	--	#NomeFolderType			Nome del tipo di folder.
3747        																	--	#NomeFolder				Nome del folder (quello con cui viene presentato e riconosciuto nella GUI). 
3748        																	--							Obblig. e gestito solo se non è un fascicolo che rappresenta una classifica (ovvero con folder type che è "classifica")
3749        																	--							Se la tipologia del folder prevede un template per il nome, il nome viene composto in automatico ignorando questo input
3750        																	--	#IdLibrary				Id. della libreria di appartenenza
3751        																	--	#NomeLibrary			Nome della libreria di appartenenza
3752        																	--	#TsApertura				Data e ora di apertura del folder (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
3753        																	--						Se non specificato si intende pari a data e ora correnti
3754        																	--	#IdClassificazione		Identificativo della classificazione del fascicolo
3755        																	--						Gestito solo per fascicoli basati sul piano di classificazione
3756        																	--	#NriLivClassificazione		N.ri livello della classificazione (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore previsto per i livelli di classificazione nel dominio di lavoro) 
3757        																	--						Gestito solo per fascicoli basati sul piano di classificazione
3758        																	--	#DesClassificazione		Descrizione della classificazione (può essere quella semplice o la concatenazione con separatore "|" delle descrizioni delle calssificazioni superiori + quella della classificazione)
3759        																	--						Gestito solo per fascicoli basati sul piano di classificazione
3760        																	--	#AnnoAperturaFascApp	Anno di apertura del fascicolo di appartenenza (del sottofascicolo o inserto)
3761        																	--						Gestito solo per sottofascicoli e inserti di fascicoli basati sul piano di calssificazione
3762        																	--	#NroFasc				N.ro progressivo del fascicolo
3763        																	--						Obblig. e gestito solo per fascicoli basati sul piano di classificazione
3764        																	--	#NroSottofasc			N.ro di sotto-fascicolo
3765        																	--						Gestito solo per fascicoli basati sul piano di classificazione
3766        																	--	#NroInserto				N.ro di inserto del sotto-fascicolo
3767        																	--						Gestito solo per fascicoli basati sul piano di classificazione
3768        																	--	#NroSecondario			N.ro secondario/alternativo dato al fascicolo
3769        																	--	#@FolderAppartenenza		Lista dei folder, già esistenti, in cui si colloca (nel caso di fascicolo di titolario il fascicolo di appartenenza che rappresenta anno apertura + classificazione + eventuale fascicolo padre + eventuale sottofascicolo padre può non essere specificato) 
3770        																	--						Deve essere specificato almeno un record se il folder non è uno di quelli basati sul piano di classificazione.
3771        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3772        																	--						1: Identificativo del folder di appartenenza
3773        																	--						2: Path (con o senza nome della libreria di appartenenza)+ nome del folder di appartenenza(i vari livelli del percorso vanno separati con / o \)
3774        																	--						3: Motivi per cui è collocato nel folder
3775        																	--						Se nessuno dei primi due campi è specificato si intende che il folder va collocato direttamente nella libreria di appartenenza
3776        																	--	#Append_#@FolderAppartenenza	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)			
3777        																	--	#DesOgg				Descrizione dei contenuti / oggetto del folder
3778        																	--	#ParoleChiave                 Parole chiave per cui è utile ricercare il documento 
3779        																	--	#IdUserApertura			Identificativo dell'utente che ha aperto il folder (se diverso da quello di lavoro) 
3780        																	--	#CIEstUserApertura		Codice che identifica l'utente che ha aperto il folder nell'applicazione esterna da cui ci si connette (se diverso da quello di lavoro)
3781        																	--	#DesUserApertura		Denominazione dell'utente che ha aperto il folder (se diverso da quello di lavoro)
3782        																	--	#UsernameApertura		Username dell'utente che ha aperto il folder (se diverso da quello di lavoro)
3783        																	--	#IdUOApertura			Identificativo della UO che ha aperto il folder
3784        																	--	#DesUOApertura			Denominazione della UO che ha aperto il folder (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3785        																	--	#NriLivUOApertura		N.ri livello della UO che ha aperto il folder (tutti; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3786        																	--	#IdUOResponsabile		Identificativo della UO responsabile o della UO di appartenenza della scrivania responsabile
3787        																	--	#DesUOResponsabile		Denominazione della UO responsabile o della UO di appartenenza della scrivania responsabile (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3788        																	--	#NriLivUOResponsabile	N.ri livello della UO responsabile o della UO di appartenenza della scrivania responsabile (tutti; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3789        																	--	#IdScrivResponsabile	Id. della scrivania responsabile del folder
3790        																	--	#CIEstUserResponsabile	Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che occupa la scrivania responsabile del folder
3791        																	--	#DesUserResponsabile	Denominazione dell'utente che occupa la scrivania responsabile del folder
3792        																	--	#UsernameResponsabile 	Username (credenziali locali) dell'utente che occupa la scrivania responsabile del folder
3793        																	--	#TsChiusura				Data e ora di chiusura del folder (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
3794        																	--	#IdUserChiusura			Identificativo dell'utente che ha chiuso il folder (se diverso da quello di lavoro) 
3795        																	--	#CIEstUserChiusura		Codice che identifica l'utente che ha chiuso il folder nell'applicazione esterna da cui ci si connette (se diverso da quello di lavoro)
3796        																	--	#DesUserChiusura		Denominazione dell'utente che ha chiuso il folder (se diverso da quello di lavoro)
3797        																	--	#UsernameChiusura		Username dell'utente che ha chiuso il folder (se diverso da quello di lavoro)
3798        																	--	#FlgArchivio			Indica il tipo di archivio a cui appartiene il folder: C = Corrente; D = di Deposito; S = Storico
3799        																	--	#DtVersDeposito               Data di versamento in archivio di deposito (nel formato dato dal parametro di conf. FMT_STD_DATA)
3800        																	--	#IdUserVersDeposito           Identificativo (quello interno al sistema) dell'utente che ha effettuato il versamento in archivio di deposito
3801        																	--	#CIEstUserVersDeposito		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuato il versamento in archivio di deposito	
3802        																	--	#DesUserVersDeposito		Descrizione dell'utente che ha effettuato il versamento in archivio di deposito
3803        																	--	#IdUserAutVersDeposito        Identificativo (quello interno al sistema) dell'utente che ha autorizzato il versamento in archivio di deposito
3804        																	--	#CIEstUserAutVersDeposito	Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato il versamento in archivio di deposito	
3805        																	--	#DesUserAutVersDeposito		Descrizione dell'utente che ha autorizzato il versamento in archivio di deposito
3806        																	--	#DtVersStorico			Data di versamento in archivio storico (nel formato dato dal parametro di conf. FMT_STD_DATA)
3807        																	--	#IdUserVersStorico           	Identificativo (quello interno al sistema) dell'utente che ha effettuato il versamento in archivio storico
3808        																	--	#CIEstUserVersStorico		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuato il versamento in archivio storico	
3809        																	--	#DesUserVersStorico		Descrizione dell'utente che ha effettuato il versamento in archivio storico
3810        																	--	#IdUserAutVersStorico        	Identificativo (quello interno al sistema) dell'utente che ha autorizzato il versamento in archivio storico
3811        																	--	#CIEstUserAutVersStorico	Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato il versamento in archivio storico	
3812        																	--	#DesUserAutVersStorico		Descrizione dell'utente che ha autorizzato il versamento in archivio storico
3813        																	--	#@InCaricoA				Indica a chi (non destinatario) mettere in carico il folder
3814        																	--						Chi ha in carico può essere specificato/variato solo se il folder non è ancora inviato
3815        																	--						Chi ha in carico può essere solo l'utente di lavoro o una UO/scrivania cui è collegato da appartenenza o delega o per cui può lavorare
3816        																	--						E' una lista mono-riga; la riga può contenere le seguenti colonne:
3817        																	--						1: (obblig.) Indicatore del tipo di soggetto
3818        																	--							Valori possibili:
3819        																	-- 							UT 	= Utente
3820        																	--							SV	= Scrivania virtuale
3821        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
3822        																	--						2: Identificativo del destinatario della copia
3823        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
3824        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
3825        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
3826        																	--						3: Denominazione/nome del soggetto(se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3827        																	--						4: Identificativo della UO cui appartiene la scrivania che rappresenta il soggetto
3828        																	--						5: Nri livello della UO che rappresenta il soggetto o a cui appartiene la scrivania che rappresenta il soggetto (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3829        																	--						6: Denominazione della UO cui appartiene la scrivania che rappresenta il soggetto (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3830        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che rappresenta il soggetto o quello che occupa la scrivania che rappresenta il soggetto
3831        																	--						8: Denominazione dell'utente che occupa la scrivania che rappresenta il soggetto
3832        																	--						9: <Non utilizzata>
3833        																	--						10: <Non utilizzata>
3834        																	--						11: Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente che rappresenta il soggetto o che occupa la scrivania che rappresenta il soggetto
3835        																	--						12: Se colonna 1 =UT o SV: N.ro di matricola dell'utente che rappresenta il soggetto o che occupa la scrivania che rappresenta il soggetto  
3836        																	--						13: <Non utilizzata>
3837        																	--						14: <Non utilizzata>
3838        																	--						15: <Non utilizzata>
3839        																	--						16: <Non utilizzata>
3840        																	--						Se si vuole togliere chi ha in carico il folder basta settare a vuota la lista di questo attributo
3841        																	--	#@Assegnatari		Indica a chi - un soggetto interno - assegnare il folder
3842        																	--						Si può specificare solo se il folder non è assegnato o se è assegnato all'utenza di lavoro o a una UO/scrivania per cui tale utenza può lavorare
3843        																	-- 						E' una lista mono-riga; l'unico tag "Riga" contiene le seguenti colonne:
3844        																	--						1: (obblig.) Indicatore del tipo di assegnatario
3845        																	--							Valori possibili:
3846        																	-- 							UT 	= Utente
3847        																	--							SV	= Scrivania virtuale
3848        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
3849        																	--						2: Identificativo dell'assegnatario
3850        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
3851        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
3852        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
3853        																	--						3: Denominazione/nome dell'assegnatario (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3854        																	--						4: Identificativo della UO cui appartiene la scrivania assegnataria
3855        																	--						5: Nri livello della UO assegnataria o a cui appartiene la scrivania assegnataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3856        																	--						6: Denominazione della UO cui appartiene la scrivania assegnataria (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3857        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente assegnatario o quello che occupa la scrivania assegnataria
3858        																	--						8: Denominazione dell'utente che occupa la scrivania assegnataria
3859        																	--						9: <Non utilizzata>
3860        																	--						10: <Non utilizzata>
3861        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo assegnatario (alternativo alla colonna 10)
3862        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente assegnatario o che occupa la scrivania assegnataria 
3863        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo assegnatario (alternativo alla colonna 10)
3864        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente assegnatario o che occupa la scrivania assegnataria 
3865        																	--						13: <Non utilizzata>
3866        																	--						14: <Non utilizzata>
3867        																	--						15: <Non utilizzata>
3868        																	--						16: <Non utilizzata>
3869        																	--						17: <Non utilizzata>
3870        																	--						18: <Non utilizzata>
3871        																	--						19: Flag che indica la modalità di accesso da dare all'assegnatario sul folder (ovvero indica le opzioni di accesso che avrà l'assegnatario nell'ACL del folder dopo l'invio, salvo ne avesse già di più ampie)
3872        																	--						    Valori possibili: FC = Full control; M = Modifica metadati; MM = Modifica soli metadati; V = Sola visualizzazione
3873        																	--						20: (valori 1/NULL) Se 1 indica che è richiesta la notifica di presa in carico per il dato assegnatario 
3874        																	--						21: N.ro di giorni, a partire dalla decorrenza dell'assegnazione, trascorsi i quali senza che sia avvenuta la presa in carico, ci deve essere la notifica di mancata presa in carico da parte del dato assegnatario
3875        																	--  #CodMotivoAssegn	Cod. del motivo dell'assegnazione agli assegnatari (da dizionario)
3876        																	--	#MotivoAssegn		Motivo dell'assegnazione agli assegnatari (da dizionario)
3877        																	--	#@InvioDestCC		Indica a chi, soggetto interno, inviare per conoscenza il folder 
3878        																	-- 						Ogni destinatario di invio per conoscenza è un tag "Riga" con le seguenti colonne:
3879        																	--						1: (obblig.) Indicatore del tipo di destinastario
3880        																	--							Valori possibili:
3881        																	-- 							UT 	= Utente
3882        																	--							SV	= Scrivania virtuale
3883        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
3884        																	--							G	= Gruppo
3885        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
3886        																	--							R@	= Soggetti interni che hanno un certo ruolo rispetto al documento / folder
3887        																	--						2: Identificativo del destinatario
3888        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
3889        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
3890        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
3891        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
3892        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
3893        																	--							è un COD_NATURA_REL di DMT_REL_SOGG_INT_DOC/DMT_REL_SOGG_INT_FOLDER che indica il codice del ruolo rispetto al documento / folder se colonna 1 = R@. Può avere i valori particolari: #CON_ACCESSO (= tutti coloro che hanno accesso anche in sola visualizzazione) e #CON_ACCESSO_IN_MODIFICA (= tutti coloro che hanno accesso anche in modifica dei metadati e/o file)
3894        																	--						3: Denominazione/nome del destinatario (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|"). Se colonna 1 = R@ è la descrizione del ruolo rispetto al documento / folder
3895        																	--						4: Identificativo della UO cui appartiene la scrivania destinataria
3896        																	--						5: Nri livello della UO destinataria o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3897        																	--						6: Denominazione della UO cui appartiene la scrivania destinataria (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3898        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario o quello che occupa la scrivania destinataria
3899        																	--						8: Denominazione dell'utente che occupa la scrivania destinataria
3900        																	--						9: (valore 1) Indica che il destinatario, se UO, sono anche tutte le sue sotto-UO
3901        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario
3902        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario (alternativo alla colonna 10)
3903        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario o che occupa la scrivania destinataria 
3904        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario (alternativo alla colonna 10)
3905        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario o che occupa la scrivania destinataria 
3906        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario
3907        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3908        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3909        																	--						16:(valore 1) Indica che il ruolo amministrativo destinatario si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
3910        																	--						17: Codice del ruolo del destinatario (valori codificati in apposita disctionary entry)
3911        																	--						18: Ruolo del destinatario (valori in apposita disctionary entry)
3912        																	--						19: Flag che indica la modalità di accesso da dare al destinatario sull'oggetto inviato (ovvero indica le opzioni di accesso che avrà il destinatario nell'ACL dell'oggetto dopo l'invio, salvo ne avesse già di più ampie)
3913        																	--						    Valori possibili: FC = Full control; M = Modifica metadati e files/contenuti; MM = Modifica soli metadati; V = Sola visualizzazione; VM = Visualizzazione dei soli metadati (non dei files)
3914        																	--						20: (valori 1/NULL) Se 1 indica che è richiesta la notifica di presa visione per il dato destinatario (anche se non è stata richiesta per tutti i destinatari questa notifica)
3915        																	--						21: N.ro di giorni, a partire dalla decorrenza della notifica, trascorsi i quali senza che sia avvenuta la presa visione, ci deve essere la notifica di mancata presa visione da parte del dato destinatario (anche se tale notifica non è richiesta per tutti i destinatari)
3916        																	--	#@ACL					Lista con i permessi assentiti o negati sul folder
3917        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3918        																	--						1: (obblig.) Indicatore del tipo di destinatario del permesso
3919        																	--							Valori possibili:
3920        																	--							SP	= Soggetto produttore  
3921        																	-- 							AOO	= AOO 
3922        																	-- 							UT 	= Utente
3923        																	--							SV	= Scrivania virtuale
3924        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
3925        																	--							G	= Gruppo
3926        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
3927        																	--						2: Identificativo del destinatario del permesso
3928        																	--							è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
3929        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
3930        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
3931        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
3932        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
3933        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
3934        																	--						3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3935        																	--						4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
3936        																	--						5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3937        																	--						6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3938        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
3939        																	--						8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
3940        																	--						9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
3941        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
3942        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
3943        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
3944        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
3945        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
3946        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
3947        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
3948        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
3949        																	--						16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
3950        																	--						17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3951        																	--						18:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3952        																	--						19:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3953        																	--						20:(valori 1/0/NULL) Indica se la copia del folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3954        																	--						21:(valori 1/0/NULL) Indica se l'eliminazione del folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3955        																	--						22:(valori 1/0/NULL) Indica se il ripristino del folder eliminato è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
3956        																	--						23:(valori 1/0/NULL) Indica se la modifica del contenuto di unità documentarie è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3957        																	--						24:(valori 1/0/NULL) Indica se la modifica del contenuto di folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
3958        																	--	#Append_#@ACL			Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)			
3959        																	--	#FlgEreditaPermessi		Valori 1/0/NULL. Indica se il folder può ereditare i permessi da un folder di appartenenza
3960        																	--	#PathNomeFolderEreditaPerm	Percorso e nome del folder da cui deve ereditare i permessi
3961        																	--	#IdFolderEreditaPerm		Id. del folder da cui deve ereditare i permessi
3962        																	--	#FlgPropagaPermessi		Valori 1/0/NULL. Indica se il folder può propagare i permessi agli oggetti che contiene	
3963        																	--	#@SoggettiEsterni			Lista con i dati dei soggetti esterni in relazione con il folder
3964        																	--						ATTENZIONE: possono essere o meno soggetti censiti nella rubrica del sistema ed eventualmente anche nell'anagrafe residenti o ditte
3965        																	--								Se lo sono e se ne viene specificato l'identificativo nella rubrica o nell'anagrafe residenti o ditte,
3966        																	--								tutti gli altri campi (colonne dalla 3 alla 14) qualora manchino del tutto i relativi tag vengono intesi pari ai corrispondenti campi del soggetto nella rubrica (e registrati di conseguenza sul folder)
3967        																	--								qualora invece ci siano i loro tag (anche se vuoti) sul folder vengono riportati come nel tag
3968        																	--								Non c'è alcun controllo di coerenza tra i campi del soggetto in rubrica (se indicato) e i corrispondenti campi specificati per il soggetto legato al folder
3969        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3970        																	--						1: Identificativo del soggetto nella rubrica soggetti del sistema
3971        																	--						2: Codice identificativo del soggetto nell'anagrafe o sistema di provenienza 
3972        																	--						3: Se valorizzato (valore fisso 1) indica che il soggetto è una persona fisica (altrimenti si intende essere una persona giuridica)
3973        																	--						4: Denominazione (se persona giuridica) o cognome (se persona fisica)
3974        																	--						5: Nome (se persona fisica)
3975        																	--						6: Codice fiscale
3976        																	--						7: Partita IVA
3977        																	--						8: Sesso (valori F/M/NULL) (se persona fisica)
3978        																	--						9: Data di nascita/istituzione (nel formato dato dal parametro FMT_STD_DATA)
3979        																	--						10: Codice ISTAT del comune di nascita/istituzione
3980        																	--						11: Nome del comune (se italiano) o città estera di nascita/istituzione
3981        																	--						12: Codice ISTAT dello stato estero di nascita/istituzione
3982        																	--						13: Nome dello stato estero di nascita/istituzione
3983        																	--						14: Codice ISTAT dello stato di cittadinanza
3984        																	--						15: Nome dello stato di cittadinanza
3985        																	--						16: Indicatore di soggetto da registrare in rubrica soggetti se non vi è già presente (in base ai criteri stabiliti per il test di esistenza). Valore fisso 1.
3986        																	--						17: (obblig. se campo successivo non è valorizzato) Codice della natura della relazione del soggetto con il folder. Valori da dizionario.
3987        																	--						18: (obblig. se campo precedente non è valorizzato) Descrizione della natura della relazione del soggetto con il folder. Valori da dizionario.
3988        																	--						19: Dettagli sulla natura della relazione tra soggetto e folder
3989        																	--						20: Titolo di studio/professionale
3990        																	--						21: Cod. rapido assegnatogli in rubrica
3991        																	--	#Append_#@SoggettiEsterni 	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
3992        																	--	#@RelazioniVsFolder		Lista delle relazioni - salvo quelle di appartenenza - con altri folder (relazioni di precedente-successivo ecc.)
3993        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
3994        																	--						1: Identificativo del folder collegato
3995        																	--						2: Path (con o senza nome della libreria di appartenenza)+ nome del folder collegato(i vari livelli del percorso vanno separati con / o \)
3996        																	--						3: Anno di apertura del folder collegato (se folder basato sul titolario)
3997        																	--						4: Livelli della classificazione del folder collegato (se folder basato sul titolario)
3998        																	--						5: N.ro progressivo di fascicolo del folder collegato (se folder basato sul titolario)
3999        																	--						   seguito da / e eventuale n.ro di sottofascicolo se trattasi di sottofascicolo
4000        																	--						   seguito da / e eventuale n.ro di inserto se trattasi di inserto
4001        																	--						6: Codice della categoria/natura generale della relazione tra i 2 folder (valori da dizionario)
4002        																	--						7: Descrizione della categoria/natura generale della relazione tra i 2 folder (valori da dizionario)
4003        																	--						8: Codice del ruolo che svolge nella relazione il folder da creare/aggiornare (valori da dizionario)
4004        																	--						9: Descrizione del ruolo che svolge nella relazione il folder da creare/aggiornare (valori da dizionario)
4005        																	--						10: Codice del ruolo che svolge nella relazione il folder collegato a quello da creare/aggiornare (valori da dizionario)
4006        																	--						11: Descrizione del ruolo che svolge nella relazione il folder collegato a quello da creare/aggiornare (valori da dizionario)
4007        																	--						12: Dettagli della relazione (campo descrittivo)
4008        																	--	#Append_#@RelazioniVsFolder	Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)
4009        																	--	#LivRiservatezza             	Livello di riservatezza del folder (n.ro intero da 0 ad un valore dato dal parametro di configurazione MAX_LIV_RISERVATEZZA)
4010        																	--	#DtTermineRiservatezza			Data in cui cessa di valere la riservatezza indicata il #LivRiservatezza (nel formato indicato nel parametro di config. FMT_STD_DATA)
4011        																	--	#FlgVisibInChiaroRistrettaA		Indica, qualora sia settato un livello di riservatezza, a chi è ristretta la visibilità di tutti i dati del folder:
4012        																	--									RC  =	soggetto responsabile del fascicolo e chi lo ha in carico (generalmente coincidono);
4013        																	--									RCE = 	soggetto responsabile del fascicolo e chi lo ha o lo ha avuto in carico
4014        																	--									RCC =	soggetto responsabile del fascicolo, chi lo ha o lo ha avuto in carico e coloro ai quali il fascicolo è stato inviato per conoscenza
4015        																	--	#PropagaRiservatezzaContenuti	(valori 1/0/NULL) Se 1 significa che la riservatezza va applicata a tutti i dcontenuti - UD e sub-folder - del folder
4016        																	--	#LivEvidenza                  Livello di evidenza assegnato al folder (il massimo valore possibile è dato dal parametro di configurazione MAX_LIV_EVIDENZA)
4017        																	--	#FlgInteresseCessato		Se pari a 1 indica che è cessato l'interesse sul folder, se 0 o NULL che l'interesse è attivo
4018        																	--	#CollocazioneFisica.IdTopografico	Id. del luogo - censito nel topografico - in cui è collocato il folder/fascicolo
4019        																	--  #CollocazioneFisica.Descrizione		Descrizione libera della collocazione fisica del folder fascicolo
4020        																	--	#FlgSenzaProced			Se valorizzato (valore fisso 1) indica che si tratta di folder senza procedimento associato
4021        																	--	#FlgConservPerm			Se valorizzato (valore fisso 1) indica che il folder deve essere conservato illimitatamente		
4022        																	--	#PeriodoConserv               Periodo minimo di conservazione (espresso in anni) del folder (se non specificato può essere ereditato da quelli definiti per la tipologia del folder o la classificazione o il tipo del procedimento collegato)
4023        																	--	#CodSupportoConserv		Codice del supporto fisico di conservazione (carta, disco ottico, microfilm ecc) del folder. Valori da dizionario
4024        																	--	#DesSupportoConserv		Descrizione del supporto fisico di conservazione (carta, disco ottico, microfilm ecc) del folder. Valori da dizionario
4025        																	--	#FlgCartaceoEliminato       	Se valorizzato (valore fisso 1) indica che il cartaceo del folder è stato eliminato
4026        																	--	#DtElimCartaceo             	Data di eliminazione del cartaceo del del folder (nel formato dato dal parametro di conf. FMT_STD_DATA)
4027        																	--	#IdUserElimCart            	Identificativo (quello interno al sistema) dell'utente che ha eliminato il cartaceo
4028        																	--	#CIEstUserElimCart		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha eliminato il cartaceo
4029        																	--	#DesUserElimCart       		Descrizione dell'utente che ha eliminato il cartaceo
4030        																	--	#IdUserAutElimCart        	Identificativo (quello interno al sistema) dell'utente che ha autorizzato l'eliminazione del cartaceo
4031        																	--	#CIEstUserAutElimCart		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato l'eliminazione del cartaceo
4032        																	--	#DesUserAutElimCart       	Descrizione dell'utente che ha autorizzato l'eliminazione del cartaceo
4033        																	--	#DtScarto                     Data di scarto archivistico (vale a dire esculsione dal processo di conservazione) del folder (nel formato dato dal parametro di conf. FMT_STD_DATA)
4034        																	--	#IdUserScarto           	Identificativo (quello interno al sistema) dell'utente che ha effettuato lo scarto archivistico del folder
4035        																	--	#CIEstUserScarto			Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha effettuato lo scarto archivistico del folder	
4036        																	--	#DesUserScarto			Descrizione dell'utente che ha effettuato lo scarto archivistico del folder
4037        																	--	#IdUserAutScarto           	Identificativo (quello interno al sistema) dell'utente che ha autorizzato lo scarto archivistico del folder
4038        																	--	#CIEstUserAutScarto		Codice che identifica nell'applicazione esterna da cui ci si connette l'utente che ha autorizzato lo scarto archivistico del folder	
4039        																	--	#DesUserAutScarto			Descrizione dell'utente che ha autorizzato lo scarto archivistico del folder
4040        																	--	#Note					Annotazioni sul folder
4041        																	--	#CodStato				Codice dello stato del folder 
4042        																	--	#CodStatoDett			Codice dello stato di dettaglio del folder		
4043        																	--	#DesStato				Descrizione dello stato del folder
4044        																	--	#DesStatoDett			Descrizione dello stato di dettaglio del folder
4045        																	--	#ProvCIFolder			Codice che identifica il folder nel sistema di provenienza
4046        																	--	#OrderByValue			Valore da usare per l'ordinamento del folder
4047        																	--	#ContainerHandler			Tipo di contenitore (Hummingbird, ecc) in cui deve essere rappresentato il folder
4048        																	--						Se non viene specificato e se viene specificata un'URI (#URI) questo attributo viene settato pari al tipo di contenitore ricavato dall'URI
4049        																	--	#ContainerAlias			Alias che identifica lo specifico contenitore (del tipo #ContainerHandler) in cui deve essere rappresentato il folder
4050        																	--						Se non viene specificato e se viene specificata un'URI (#URI) questo attributo viene settato pari all'alias di contenitore ricavato dall'URI
4051        																	--	#URI					Riferimento univoco per individuare il folder nell'eventuale container in cui è rappresentato (contiene tipo e alias del contenitore in cui è rappresentato più un id. univoco all'interno del contenitore stesso)
4052        																	--	#IstruttoreProc.Tipo 	Tipo di chi va designato come "istruttore" del procedimento collegato al folder: ha valori LD (Lista di distribuzione/gruppo) e UT (singolo operatore censito a sistema)
4053        																	--  #IstruttoreProc.Id		Id. - ID_GRUPPO o ID_USER - di chi va designato come "istruttore" del procedimento collegato al folder																	
4054        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>: qualsiasi attributo dinamico specificabile per il folder											
4055        			URIxAggContainerOut	OUT		VARCHAR2,							-- URI del folder sul container.
4056        																	-- ATTENZIONE: è valorizzato solo se l'update determina la necessità di aggiornare il folder sul container
4057        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4058        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4059        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4060        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4061        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
4062        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
4063        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4064        
4065        	/************* Funzione attraverso cui creare un nuovo workspace nella repository *******/
4066        	function AddWorkspace(
4067        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
4068        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4069        			AttributiXMLIn		IN		CLOB,								-- XML contenente nomi e valori degli attributi del workspace (conforme allo schema SezioneCache.xsd)
4070        																	-- Gli attributi possono essere:
4071        																	--	#NomeWorkspace			(obblig.) Nome del workspace (quello con cui viene presentato e riconosciuto nella GUI). 
4072        																	--	#DesWorkspace			Desscrizione/dettagli sul workspace
4073        																	--	#@ACL					Lista con i permessi assentiti o negati sul workspace
4074        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
4075        																	--						1: (obblig.) Indicatore del tipo di destinatario del permesso
4076        																	--							Valori possibili:
4077        																	--							SP	= Soggetto produttore  
4078        																	-- 							AOO	= AOO 
4079        																	-- 							UT 	= Utente
4080        																	--							SV	= Scrivania virtuale
4081        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
4082        																	--							G	= Gruppo
4083        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
4084        																	--						2: Identificativo del destinatario del permesso
4085        																	--							è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
4086        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
4087        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
4088        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
4089        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
4090        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
4091        																	--						3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
4092        																	--						4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
4093        																	--						5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
4094        																	--						6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
4095        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
4096        																	--						8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
4097        																	--						9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
4098        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
4099        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
4100        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
4101        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
4102        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
4103        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
4104        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
4105        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
4106        																	--						16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
4107        																	--						17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
4108        																	--						18:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
4109        																	--						19:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
4110        																	--						20:(valori 1/0/NULL) Indica se l'eliminazione del workspace è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
4111        																	--						21:(valori 1/0/NULL) Indica se il ripristino del workspace eliminato è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
4112        																	--						22:(valori 1/0/NULL) Indica se la modifica del contenuto è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
4113        																	--	#FlgPropagaPermessi		Valori 1/0/NULL. Indica se il workspace può propagare i permessi agli oggetti che contiene	
4114        																	--	#Note					Annotazioni sul workspace
4115        																	--	#ProvCIWorkspace			Codice che identifica il workspace nel sistema di provenienza
4116        																	--	#ContainerHandler			Tipo di contenitore (Hummingbird, ecc) in cui deve essere rappresentato il workspace
4117        																	--	#ContainerAlias			Alias che identifica lo specifico contenitore (del tipo #ContainerHandler) in cui deve essere rappresentato il workspace
4118        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>: qualsiasi attributo dinamico specificabile per un workspace											
4119        			IdWorkspaceOut		OUT		DMT_WORKSPACES.ID_WORKSPACE%type,			-- Id. del workspace creato												
4120        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4121        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4122        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4123        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4124        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
4125        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
4126        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4127        
4128        	/************* Funzione attraverso cui modificare i dati (non il contenuto) di un workspace nella repository *******/
4129        	function UpdWorkspace(
4130        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
4131        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4132        			IdWorkspaceIn		IN		DMT_WORKSPACES.ID_WORKSPACE%type DEFAULT NULL,	-- Id. del workspace da aggiornare
4133        			NomeWorkspaceIn		IN		DMT_WORKSPACES.NOME_WORKSPACE%type DEFAULT NULL,-- Attuale nome del workspace 												
4134        																	-- La ricerca su questo argomento è esatta, a meno che non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive
4135        			AttributiXMLIn		IN		CLOB,								-- XML contenente nomi e valori degli attributi del workspace (conforme allo schema SezioneCache.xsd)
4136        																	-- Per tutti gli attributi vale quanto segue:
4137        																	-- 		gli attributi specificati nell'XML aggiornano i corrispondenti già presenti in DB:
4138        																	--			per gli attributi con valore semplice il valore nell'XML sostituisce quello eventualmente già presente in DB per quell'attributo; se non c'è valore significativo nell'XML significa che il valore dell'attributo in DB va rimosso
4139        																	--			per gli attributi con valore lista i valori nell'XML si aggiungono o sostituiscono quelli già presenti in DB a seconda rispettivamente che nell'XML sia presente o meno un attributo #Append_<Nome attributo>; se la lista di valori nell'XML è vuota significa che tutti i valori dell'attributo già presenti in DB vanno rimossi
4140        																	-- 		gli attributi presenti in DB per cui non c'è corrispondente nell'XML restano invariati
4141        																	-- Gli attributi possono essere:
4142        																	--	#NomeWorkspace			(obblig.) Nome del workspace (quello con cui viene presentato e riconosciuto nella GUI). 
4143        																	--	#DesWorkspace			Desscrizione/dettagli sul workspace
4144        																	--	#@ACL					Lista con i permessi assentiti o negati sul workspace
4145        																	--						Ciscuna riga della lista può contenere le seguenti colonne:
4146        																	--						1: (obblig.) Indicatore del tipo di destinatario del permesso
4147        																	--							Valori possibili:
4148        																	--							SP	= Soggetto produttore  
4149        																	-- 							AOO	= AOO 
4150        																	-- 							UT 	= Utente
4151        																	--							SV	= Scrivania virtuale
4152        																	--							UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
4153        																	--							G	= Gruppo
4154        																	--							R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
4155        																	--						2: Identificativo del destinatario del permesso
4156        																	--							è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
4157        																	--							è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
4158        																	--							è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
4159        																	--							è un ID_USER di DMT_USERS se colonna 1 =UT
4160        																	--							è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
4161        																	--							è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
4162        																	--						3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
4163        																	--						4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
4164        																	--						5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
4165        																	--						6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
4166        																	--						7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
4167        																	--						8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
4168        																	--						9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
4169        																	--						10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
4170        																	--						11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
4171        																	--						    Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
4172        																	--						12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
4173        																	--						    Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
4174        																	--						13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
4175        																	--						14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
4176        																	--						15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
4177        																	--						16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
4178        																	--						17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
4179        																	--						18:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
4180        																	--						19:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
4181        																	--						20:(valori 1/0/NULL) Indica se l'eliminazione del workspace è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
4182        																	--						21:(valori 1/0/NULL) Indica se il ripristino del workspace eliminato è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
4183        																	--						22:(valori 1/0/NULL) Indica se la modifica del contenuto è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
4184        																	--	#Append_#@ACL			Valore fisso 1. Indica che i valori contenuti nella lista dell'attributo precedente si aggiungono a quelli già presenti in DB per l'attributo (anzichè sostituirli, come di default)			
4185        																	--	#FlgPropagaPermessi		Valori 1/0/NULL. Indica se il workspace può propagare i permessi agli oggetti che contiene	
4186        																	--	#Note					Annotazioni sul workspace
4187        																	--	#ProvCIWorkspace			Codice che identifica il workspace nel sistema di provenienza
4188        																	--	#ContainerHandler			Tipo di contenitore (Hummingbird, ecc) in cui deve essere rappresentato il workspace
4189        																	--						Se non viene specificato e se viene specificata un'URI (#URI) questo attributo viene settato pari al tipo di contenitore ricavato dall'URI
4190        																	--	#ContainerAlias			Alias che identifica lo specifico contenitore (del tipo #ContainerHandler) in cui deve essere rappresentato il workspace
4191        																	--						Se non viene specificato e se viene specificata un'URI (#URI) questo attributo viene settato pari all'alias di contenitore ricavato dall'URI
4192        																	--	#URI					Riferimento univoco per individuare il workspace nell'eventuale container in cui è rappresentato (contiene tipo e alias del contenitore in cui è rappresentato più un id. univoco all'interno del contenitore stesso)
4193        																	--	<Nome identificativo attributo dinamico (ATTR_NAME)>: qualsiasi attributo dinamico specificabile per un workspace											
4194        			URIxAggContainerOut	OUT		VARCHAR2,							-- URI del workspace sul container.
4195        																	-- ATTENZIONE: è valorizzato solo se l'update determina la necessità di aggiornare il workspace sul container
4196        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4197        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4198        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4199        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4200        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
4201        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
4202        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4203        
4204        	/******** funzione per effettuare la cancellazione fisica o logica di un'unità documentaria o un documento o una sua versione 			******/
4205        	function Del_UD_Doc_Ver(
4206        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
4207        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4208        			FlgTipoTargetIn		IN		VARCHAR2,							-- (obblig., valori U/D/V) Indica cosa si intende cancellare/annullare. Valori ammessi:
4209        																	-- U	= Unità documentaria
4210        																	-- D	= Documento
4211        																	-- V	= Versione elettronica di documento
4212        			IdUDDocIn			IN		INTEGER,							-- (obblig.) Identificativo dell'unità documentaria (se FlgTipoTargetIn=U) o del documento (se FlgTipoTargetIn=D o V) 
4213        			NroProgrVerIO		IN OUT 	INTEGER,							-- N.ro progressivo che identifica la versione da cancellare/annullare (considerato e gestito solo se FlgTipoTargetIn=V) 
4214        																			-- Se -1 vengono annullate tutte le versioni ancora valide
4215        																	-- ATTENZIONE: se in input è NULL significa che si vuole cancellare/annullare l'ultima versione valida e visibile all'utente di lavoro
4216        																	-- In output, in caso di successo, restituisce il n.ro della versione da cancellare/annullare
4217        			FlgCancFisicaIn		IN 		PLS_INTEGER,						-- (valori 1/0/NULL): Se 1 si richiede la cancellazione fisica; se 0 o NULL l'annullamento logico 
4218        			URIXmlOut			OUT		NOCOPY CLOB,						-- Lista con gli URI delle versioni elettroniche coinvolte dall'operazione (xml conforme a schema LISTA_STD.xsd)
4219        																	-- Ogni versione è un tag Riga che contiene le seguenti colonne: 
4220        																	-- 1:	Identificativo del documento cui è relativa la versione
4221        																	-- 2:	N.ro progressivo della versione
4222        																	-- 3: URI della versione
4223        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4224        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4225        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4226        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4227        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
4228        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
4229        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4230        
4231        	/******** funzione per effettuare il ripristino di un'unità documentaria o un documento o una sua versione logicamente annullati	********/
4232        	function Recover_UD_Doc_Ver(
4233        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
4234        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4235        			FlgTipoTargetIn		IN		VARCHAR2,							-- (obblig., valori U/D/V) Indica cosa si intende ripristinare. Valori ammessi:
4236        																	-- U	= Unità documentaria
4237        																	-- D	= Documento
4238        																	-- V	= Versione elettronica di documento
4239        			IdUDDocIn			IN		INTEGER,							-- (obblig.) Identificativo dell'unità documentaria (se FlgTipoTargetIn=U) o del documento (se FlgTipoTargetIn=D o V) 
4240        			NroProgrVerIO		IN OUT 	INTEGER,							-- N.ro progressivo che identifica la versione da ripristinare (considerato e gestito solo se FlgTipoTargetIn=V) 
4241        																	-- ATTENZIONE: se in input è NULL significa che si vuole ripristinare l'ultima versione annullata che sia visibile all'utente di lavoro
4242        																	-- In output, in caso di successo, restituisce il n.ro della versione ripristinata
4243        			URIXmlOut			OUT		NOCOPY CLOB,						-- Lista con gli URI delle versioni elettroniche coinvolte dall'operazione (xml conforme a schema LISTA_STD.xsd)
4244        																	-- Ogni versione è un tag Riga che contiene le seguenti colonne: 
4245        																	-- 1:	Identificativo del documento cui è relativa la versione
4246        																	-- 2:	N.ro progressivo della versione
4247        																	-- 3: URI della versione
4248        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4249        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4250        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4251        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4252        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
4253        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
4254        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4255        
4256        	/******** Funzione per cancellare fisicamente o annullare logicamente un folder (anche una libreria) 					******/
4257        	/******** La cancellazione fisica è consentita solo se il folder è vuoto, quella logica solo se non contiene oggetti validi	******/ 
4258        	function DelFolder(
4259        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
4260        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4261        			IdFolderIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL,		-- Identificativo del folder da cancellare
4262        			IdLibraryIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL,		-- Id. della libreria di appartenenza del folder
4263        			NomeLibraryIn		IN		DMT_FOLDER.NOME_FOLDER%type DEFAULT NULL, 	-- Nome della libreria di appartenenza del folder 
4264        			FolderPathIn		IN		VARCHAR2 DEFAULT NULL,					-- Un percorso + nome del folder  (con / o \ come separatore dei livelli; senza nome della libreria come prefisso)
4265        																	-- La ricerca su questo argomento è esatta, a meno che non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive
4266        			FlgCancFisicaIn		IN 		PLS_INTEGER,						-- (valori 1/0/NULL): Se 1 si richiede la cancellazione fisica; se 0 o NULL l'annullamento logico 
4267        			URIOut			OUT		VARCHAR2,							-- URI per individuare il folder nel container in cui si trova
4268        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4269        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4270        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4271        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4272        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
4273        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
4274        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4275        
4276        	/******** Funzione per ripristinare un folder (anche una libreria) logicamente annullato 	********/
4277        	function RecoverFolder(
4278        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
4279        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4280        			IdFolderIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL,		-- Identificativo del folder da ripristinare
4281        			IdLibraryIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL,		-- Id. della libreria di appartenenza del folder
4282        			NomeLibraryIn		IN		DMT_FOLDER.NOME_FOLDER%type DEFAULT NULL, 	-- Nome della libreria di appartenenza del folder 
4283        			FolderPathIn		IN		VARCHAR2 DEFAULT NULL,					-- Un percorso + nome del folder  (con / o \ come separatore dei livelli; senza nome della libreria come prefisso)
4284        																	-- La ricerca su questo argomento è esatta, a meno che non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive
4285        			URIOut			OUT		VARCHAR2,							-- URI per individuare il folder nel container in cui si trova
4286        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4287        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4288        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4289        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4290        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
4291        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
4292        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4293        
4294        	/******** Funzione per cancellare fisicamente o annullare logicamente un workspace 				 					******/
4295        	/******** La cancellazione fisica è consentita solo se il workspace è vuoto, quella logica solo se non contiene oggetti validi	******/ 
4296        	function DelWorkspace(
4297        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
4298        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4299        			IdWorkspaceIn		IN		DMT_WORKSPACES.ID_WORKSPACE%type DEFAULT NULL,	-- Identificativo del workspace da cancellare
4300        			NomeWorkspaceIn		IN		DMT_WORKSPACES.NOME_WORKSPACE%type DEFAULT NULL, -- Nome del workspace 
4301        																	-- La ricerca su questo argomento è esatta, a meno che non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive
4302        			FlgCancFisicaIn		IN 		PLS_INTEGER,						-- (valori 1/0/NULL): Se 1 si richiede la cancellazione fisica; se 0 o NULL l'annullamento logico 
4303        			URIOut			OUT		VARCHAR2,							-- URI per individuare il workspace nel container in cui si trova
4304        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4305        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4306        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4307        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4308        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
4309        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
4310        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4311        
4312        	/******** Funzione per ripristinare un workspace logicamente annullato	******/
4313        	function RecoverWorkspace(
4314        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
4315        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4316        			IdWorkspaceIn		IN		DMT_WORKSPACES.ID_WORKSPACE%type DEFAULT NULL,	-- Identificativo del workspace da ripristinare
4317        			NomeWorkspaceIn		IN		DMT_WORKSPACES.NOME_WORKSPACE%type DEFAULT NULL,-- Nome del workspace 
4318        																	-- La ricerca su questo argomento è esatta, a meno che non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive
4319        			URIOut			OUT		VARCHAR2,							-- URI per individuare il workspace nel container in cui si trova
4320        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4321        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4322        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4323        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4324        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
4325        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
4326        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4327        
4328        	/*****************funzione per togliere da un folder o workspace un dato folder o unità documentaria che già vi si trova **************/
4329        	function TogliDa(
4330        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
4331        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4332        			FlgTpObjInnerIn		IN		VARCHAR2,							-- (obblig. salvo se FlgTpObjOuterIn=W nel qual caso si intende pari a U) Indica il tipo di oggetto che si vuole togliere dal contenitore folder/workspace indicato
4333        																	-- Valori ammessi: 
4334        																	--	F	=	Folder 
4335        																	-- 	U	=	Unità documentaria 
4336        			IdObjInnerIn		IN		INTEGER,							-- Identificativo (ID_UD o ID_FOLDER) dell'oggetto che si vuole togliere dal contenitore folder/workspace indicato
4337        			NomeObjInnerIn		IN		VARCHAR2,							-- Nome del folder o unità doc. da togliere dal contenitore folder/workspace indicato
4338        			FlgTpObjOuterIn		IN		VARCHAR2,							-- (obblig.) Indica il tipo di oggetto da cui si vuole togliere il folder/unità doc. IdObjInnerIn
4339        																	-- Valori ammessi: 
4340        																	--	F	=	Folder 
4341        																	-- 	W	=	Workspace
4342        			IdObjOuterIn		IN		INTEGER,							-- Identificativo (ID_FOLDER o ID_WORKSPACE) dell'oggetto da cui si vuole togliere il folder/unità doc. IdObjInnerIn
4343        			PathNomeObjOuterIn	IN		VARCHAR2,							-- Se FlgTpObjOuterIn=F: Percorso + nome del folder da cui togliere (con / o \ come separatore dei livelli; senza nome della libreria come prefisso)
4344        																	-- Se FlgTpObjOuterIn=W: nome del workspace da cui togliere 
4345        																	-- La ricerca su questo argomento è esatta, a meno che non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive
4346        			IdLibraryIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL,		-- (obblig. se NomeLibraryIn non è valorizzato e FlgTpObjOuterIn='F' e IdObjOuterIn è NULL) Id. della libreria di appartenenza del folder da cui rimuovere
4347        			NomeLibraryIn		IN		DMT_FOLDER.NOME_FOLDER%type DEFAULT NULL, 	-- (obblig. se IdLibraryIn non è valorizzato e e FlgTpObjOuterIn='F' e IdObjOuterIn è NULL) Nome della libreria di appartenenza del folder da cui rimuovere 
4348        																	-- La ricerca sul nome della libreria è esatta, a meno che il nome non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive 
4349        			URIXmlOut			OUT		NOCOPY CLOB,						-- Lista con gli URI delle versioni elettroniche di documento (se FlgTpObjInnerIn=U) o del folder (se FlgTpObjInnerIn=F) il cui profilo va aggiornato sui container a seguito dell'operazione (xml conforme a schema LISTA_STD.xsd)
4350        																	-- Ogni versione/folder è un tag Riga che contiene le seguenti colonne: 
4351        																	-- 1:	Identificativo del documento cui è relativa la versione o del folder 
4352        																	-- 2:	N.ro progressivo della versione
4353        																	-- 3: URI della versione/folder
4354        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4355        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4356        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4357        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4358        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
4359        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
4360        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4361        
4362        	/*****************funzione per spostare da un folder o workspace vs un'altro folder o workspace un dato folder o unità documentaria **************/
4363        	function Move(
4364        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
4365        			IdUserLavoroIn		IN		DMT_USERS.ID_USER%type DEFAULT NULL,		-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4366        			FlgTpObjInnerIn		IN		VARCHAR2 DEFAULT NULL,					-- (obblig. salvo se FlgTpObjFromIn=W o FlgTpObjToIn=W nel qual caso si intende pari a U) Indica il tipo di oggetto che si vuole spostare dal contenitore folder/workspace indicato
4367        																	-- Valori ammessi: 
4368        																	--	F	=	Folder 
4369        																	-- 	U	=	Unità documentaria 
4370        			IdObjInnerIn		IN		INTEGER DEFAULT NULL,					-- Identificativo (ID_UD o ID_FOLDER) dell'oggetto che si vuole spostare dal contenitore folder/workspace indicato
4371        			NomeObjInnerIn		IN		VARCHAR2 DEFAULT NULL,					-- Nome del folder o unità doc. da spostare dal contenitore folder/workspace indicato
4372        			FlgTpObjFromIn		IN		VARCHAR2 DEFAULT NULL,					-- (obblig.se FlgTpObjInnerIn='U') Indica il tipo di oggetto da cui si vuole spostare il folder/unità doc. IdObjInnerIn
4373        																	-- Valori ammessi: 
4374        																	--	F	=	Folder 
4375        																	-- 	W	=	Workspace
4376        			IdObjFromIn			IN		INTEGER DEFAULT NULL,					-- Identificativo (ID_FOLDER o ID_WORKSPACE) dell'oggetto da cui si vuole spostare il folder/unità doc. IdObjInnerIn
4377        			PathNomeObjFromIn		IN		VARCHAR2 DEFAULT NULL,					-- Se FlgTpObjFromIn=F o NULL: Percorso + nome del folder da cui si vuole spostare (con / o \ come separatore dei livelli; senza nome della libreria come prefisso)
4378        																	-- Se FlgTpObjFromIn=W: nome del workspace da cui si vuole spostare
4379        																	-- La ricerca su questo argomento è esatta, a meno che non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive
4380        			FlgTpObjToIn		IN		VARCHAR2 DEFAULT NULL,					-- (obblig.se FlgTpObjInnerIn='U') Indica il tipo di oggetto in cui si vuole spostare il folder/unità doc. IdObjInnerIn
4381        																	-- Valori ammessi: 
4382        																	--	F	=	Folder 
4383        																	-- 	W	=	Workspace
4384        			IdObjToIn			IN		INTEGER DEFAULT NULL,					-- Identificativo (ID_FOLDER o ID_WORKSPACE) dell'oggetto in cui si vuole spostare il folder/unità doc. IdObjInnerIn
4385        			PathNomeObjToIn		IN		VARCHAR2 DEFAULT NULL,					-- Se FlgTpObjToIn=F o NULL: Percorso + nome del folder in cui si vuole spostare (con / o \ come separatore dei livelli; senza nome della libreria come prefisso)
4386        																	-- Se FlgTpObjToIn=W: nome del workspace in cui si vuole spostare
4387        																	-- La ricerca su questo argomento è esatta, a meno che non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive
4388        			IdLibraryIn			IN		DMT_FOLDER.ID_FOLDER%type DEFAULT NULL,		-- Id. della libreria in cui si trova o verrà a trovarsi a seguito della move l'oggetto da spostare 
4389        			NomeLibraryIn		IN		DMT_FOLDER.NOME_FOLDER%type DEFAULT NULL, 	-- Nome della libreria in cui si trova o verrà a trovarsi a seguito della move l'oggetto da spostare  
4390        																	-- La ricerca sul nome della libreria è esatta, a meno che il nome non contenga caratteri jolly (che possono essere solo alla fine), e case insensitive 
4391        			URIXmlOut			OUT		NOCOPY CLOB,						-- Lista con gli URI delle versioni elettroniche di documento (se FlgTpObjInnerIn=U) o del folder (se FlgTpObjInnerIn=F) il cui profilo va aggiornato sui container a seguito dell'operazione (xml conforme a schema LISTA_STD.xsd)
4392        																	-- Ogni versione/folder è un tag Riga che contiene le seguenti colonne: 
4393        																	-- 1:	Identificativo del documento cui è relativa la versione o del folder 
4394        																	-- 2:	N.ro progressivo della versione
4395        																	-- 3: URI della versione/folder
4396        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4397        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4398        			FlgAutoCommitIn		IN 		PLS_INTEGER DEFAULT NULL,				-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4399        			ErrContextOut		OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4400        			ErrCodeOut			OUT		PLS_INTEGER,						-- N.ro errore di uscita
4401        			ErrMsgOut			OUT 		VARCHAR2							-- Messaggio d'errore
4402        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4403        
4404        	/******** restituisce il n.ro di folderizzazioni e/o workspace di collocazione di un'unità documentaria *******/
4405        	function ContaContenitoriUD(
4406        			IdUDIn			IN		DMT_UNITA_DOC.ID_UD%type,				-- (obbig.) Id. dell'unità doc. di cui contare le folderizzazioni
4407        			FlgTipoContenitoreIn	IN		VARCHAR2 DEFAULT NULL					-- (valori F/W) Tipo di contenitori da conteggiare:
4408        																	-- F = Solo folder
4409        																	-- W = Solo workspace
4410        																	-- NULL = Tutti
4411        			) return PLS_INTEGER;											-- N.ro di folderizzazioni e/o workspace di collocazione dell'unità doc. (NULL in caso di unità doc. inesistente)
4412        
4413        	/******** restituisce il n.ro di folderizzazioni di un folder *******/
4414        	function ContaContenitoriFolder(
4415        			IdFolderIn			IN		DMT_FOLDER.ID_FOLDER%type				-- (obbig.) Id. del folder di cui contare le folderizzazioni
4416        			) return PLS_INTEGER;											-- N.ro di folderizzazioni (ovvero folder di appartenenza) (NULL in caso di folder inesistente)
4417        
4418        
4419        	/******* funzione per contare quanti folder e/o documenti con un nome dato ci sono in un dato folder 								******/
4420        	/******* ATTENZIONE: il match con il nome è case insensitive e ignora i caratteri quali spazi, . ecc (ovvero usa la DMFN_PREPARE_DENOM_X_MATCH) ******/
4421        	function ContaOggOmonimiInFolder(
4422        			IdFolderIn			IN		DMT_FOLDER.ID_FOLDER%type,				-- (obblig.) Id. del folder in cui fare il conteggio
4423        			NomeOggettiIn		IN		VARCHAR2,							--(obblig.) Nome degli oggetti "omonimi" da conteggiare
4424        			FlgTipoOggettoIn		IN		VARCHAR2 DEFAULT NULL					-- (valori F/U) Tipo di oggetti da conteggiare:
4425        																	-- F = Solo folder
4426        																	-- U = Solo unità documentarie
4427        																	-- NULL = Tutti
4428        			) return PLS_INTEGER;											-- N.ro di omonimi conteggiati. Solo in caso di errore restituisce NULL
4429        
4430        	/******* funzione per ricercare unità documentarie e/o folder dell'intera repository 					  ******/
4431        	/******* serve anche a ricercare tra i "Preferiti", gli "Inviati" e gli "Eliminati" dell'area di lavoro dell'utente ******/
4432        	function TrovaRepositoryObj(
4433        			CodIdConnectionTokenIn		IN	    	DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%TYPE,
4434        																	-- (obblig). Codice identificativo del token di connessione
4435        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4436        			FlgPreimpostaFiltroIn		IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1 i filtri e l'ordinamento vengono settati secondo le impostazioni dell'utente di lavoro, altrimenti restano come passati in input
4437        			MatchByIndexerIn			IN		CLOB DEFAULT NULL,				-- Lista delle unità documentarie e folder trovati dal searcher di Lucene (XML conforme a schema LISTA_STD.xsd)
4438        																	-- Ogni oggetto di Lucene trovato è un tag Riga che contiene le seguenti colonne: 
4439        																	-- 1: identificativo dell’oggetto
4440        																	-- 2: identificativo ID_UD dell’unità documentaria di appartenenza dell’oggetto (se questo è un documento o una versione elettronica)
4441        																	-- 3: flag 1/0 che indica se il match dell'oggetto richiede attributi "protetti", ovvero che possono contenere dati riservati
4442        																	-- 4: score restituito da Lucene
4443        			FlgIndexerOverflowIn		IN		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 significa che il searcher di Lucene ha trovato un numero di oggetti superiore ad un limite massimo consentito.
4444        																	-- Nel caso il flag valga 1 l’argomento precedente può essere vuoto o se non lo è il suo contenuto viene comunque ignorato
4445        			Flg2ndCallIn			IN		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 indica che si tratta della seconda chiamata alla stored che viene fatta a seguito di una ricerca sottomessa. 
4446        																	-- Può essere 1 solo se MatchByIndexerIn contiene degli oggetti.
4447        																	-- E' un flag che serve per velocizzare la ricerca: infatti quando è 1 i filtri vengono ignorati in quanto si considera che il set restituito dall'indicizzatore sia già fatto di oggetti soddisfacenti tutti i filtri; la chiamata alla stored serve solo per verificare l'accesso agli oggetti restituiti dall'indicizzatore, ordinare ed eventualmente paginare il risultato e calcolare tutti i dati degli oggetti da restituire.
4448        			FlgFmtEstremiRegIO		IN OUT	VARCHAR2,						-- Formato con cui mostrare gli estremi di registrazione/numerazione dei documenti trovati:
4449        																	-- Valori possibili:
4450        																	-- <CATEGORIA> = Descrizione della categoria di registrazione/numerazione
4451        																	-- <SIGLA> = Sigla di registrazione/numerazione
4452        																	-- <ANNO> = Anno di registrazione/numerazione
4453        																	-- <NRO> = N.ro di registrazione/numerazione
4454        																	-- <DATA> = Data di registrazione (nel formato dato dal parametro di config. FMT_STD_DATA del sogg. prod. /AOO di appartenenza dell'unità documentaria)
4455        																	-- <ORA> = Orario di registrazione (nel formato HH24:MI)
4456        																	-- Può anche essere una concatenazione dei valori precedenti (tutto ciò che è fuori dalle angle brackets si intende stringa fissa di separazione)
4457        																	-- ad es: <NRO>/<ANNO>; <SIGLA>/<ANNO>/<NRO> del <DATA>
4458        			FlgUDFolderIO			IN OUT	VARCHAR2,						-- 1° filtro di ricerca (valori F/U/NULL): indica se la ricerca va ristretta ai soli documenti (U) o alle sole cartelle (F)
4459        			CercaInFolderIO			IN OUT	DMT_FOLDER.ID_FOLDER%type,			-- 2° filtro di ricerca: id. del folder in cui effettuare la ricerca. Se non specificato si cerca in tutta la repository
4460        																	--	Può avere i valori "particolari":
4461        																	--		-9		si intende la ricerca nelle News dell'utente di lavoro (solo ciò che è nelle News in quanto inviato/notificato, non ciò che ricade in cartelle inviate/notificate)
4462        																	--		-99		si intende la ricerca nella area Work dell'utente di lavoro (solo ciò che è nella Work in quanto in carico all'utente o UO/scrivanie cui è collegato e in stato di "da completare", non ciò che ricade in cartelle che sono in carico all'utente o UO/scrivanie cui è collegato e in stato di "da completare")
4463        																	--		-999: 	si intende la ricerca nei preferiiti dell'utente di lavoro (solo i preferiti veri e propri, non ciò che ricade in cartelle che sono nei preferiti)
4464        																	--		-9999:	si intende la ricerca negli inviati dell'utente di lavoro (solo gli inviati veri e propri, non ciò che ricade in cartelle che sono negli inviati)
4465        																	--		-99991:	si intende la ricerca negli inviati per conoscenza/condivizione (i.e. notificati) dell'utente di lavoro (solo gli inviati per conoscenza/condivizione veri e propri, non ciò che ricade in cartelle che sono negli inviati)
4466        																	--		-99999:	si intende la ricerca negli eliminati dell'utente di lavoro (solo gli eliminati veri e propri, non ciò che ricade in cartelle che sono negli eliminati)
4467        																	--		-99992: si intende la ricerca nei documenti che sono stampe ed export richiesti dall'utente di lavoro
4468        																	--		-99993: si intende la ricerca nei documenti con "Assegnazioni da confermare"
4469        																	--		-99994: si intende la ricerca nei documenti/fascicoli che non sono nè assegnati, nè inviati per conoscenza nè inviati via mail
4470        			FlgCercaInSubFolderIO		IN OUT	PLS_INTEGER,					-- 3° filtro di ricerca (valori 1/0/NULL): 1 indica che la ricerca va estesa ai sub-folder del folder CercaInFolderIO 
4471        																	-- ATTENZIONE: non può essere 1 se CercaInFolderIO ha uno dei valori "particolari" (ovvero se si cerca nei preferiti, inviati o eliminati dell'utente) 
4472        																	--		   Se CercaInFolderIO non è valorizzato (ricerca in tutta la repository) solo se il flag è 0 si intende che non si debba ricercare nelle sotto-cartelle e si mostrano solo le libtrerie e i preferiti
4473        			CriteriAvanzatiIO			IN OUT	NOCOPY CLOB,		-- XML contenente nomi e valori dei filtri su unità documentarie e folder (conforme allo schema SezioneCache.xsd). 
4474        																	-- Ogni filtro è un tag "Variabile" dell'XML
4475        																	-- I filtri che sono liste hanno nomi (tag Variabile/Nome) che iniziano con @.
4476        																	-- Per i nomi dei filtri disponibili si veda dmpk_core_p1
4477        			CriteriPersonalizzatiIO		IN OUT 	NOCOPY CLOB,		-- Criteri di ricerca sugli attributi custom di documenti e folder (XML conforme a schema LISTA_STD.xsd). Se più di uno vengono applicati in AND.
4478        																	-- Ogni criterio è un tag Riga che può contenere le seguenti colonne:
4479        																	--	1) Nome (ATTR_NAME) dell'attributo cui è relativo il criterio
4480        																	--	2) (obblig.) Operatore logico. Valori possibili:
4481        																	--		"uguale" (ricerca esatta) 
4482        																	--		"simile a (case-sensitive)" (ricerca case-sensitive in like)
4483        																	--		"simile a (case-insensitive)" (ricerca case-insensitive in like e che ignora i caratteri quali spazi, ., ecc)
4484        																	--		"maggiore" (se attributo numerico o data)
4485        																	--		"maggiore o uguale" (se attributo numerico o data)
4486        																	--		"minore" (se attributo numerico o data)
4487        																	--		"minore o uguale" (se attributo numerico o data)
4488        																	--		"tra" (se attributo numerico o data)
4489        																	--		"non valorizzato"
4490        																	--		"valorizzato"
4491        																	--		"spuntato" (se attributo di tipo casella di spunta)
4492        																	--		"non spuntato" (se attributo di tipo casella di spunta)
4493        																	--	3) 1° valore di confronto (obblig. e gestito solo se l'operatore non ha uno dei seguenti valori: valorizzato, non valorizzato, spuntato, non spuntato) (se l'attributo è numerico deve avere la virgola come separatore dei decimali, se è di tipo data deve essere in uno dei formato dati dai parametri di conf. FMT_STD_DATA e FMT_STD_TIMESTAMP)
4494        																	--	4) 2° valore di confronto (obblig. e gestito solo se l'operatore è "tra") (se l'attributo è numerico deve avere la virgola come separatore dei decimali, se è di tipo data deve essere in uno dei formato dati dai parametri di conf. FMT_STD_DATA e FMT_STD_TIMESTAMP)
4495        																	--	5) Label dell''attributo cui è relativo il criterio (se sotto-attributo di complesso <label del complesso> - <label del sotto-attributo>
4496        			------------- inizio argomenti standard di tutte le funzioni di ricerca che devono restituire una lista --------------
4497        			ColOrderByIO			IN OUT	VARCHAR2,						-- Indica il/i numeri della/e colonna dell'XML (CLOB ResultOut) di output per cui ordinare i record nell'XML stesso (si può ordinare solo per le colonne da 1 a 17 e per le colonne da 35 a 37 e 43 e 45 e 48 e 49 e 55, 60, 61, 71, 72, 74, 89, 201, 202, 203). Se l'ordinamento è per più colonne queste vanno separate con "," (es: 2; 2,3)
4498        																	-- in output può essere diverso che in input solo se in input è NULL: in tal caso significa che esiste sul tipo di ordinamento una qualche preimpostazione di sistema/utente ecc.
4499        																	-- se non valorizzato (neppure in output) la lista di record restituita non è ordinata
4500        			FlgDescOrderByIO  		IN OUT	VARCHAR2,						-- E' una stringa di 1 o 0/NULL, tanti quanti le colonne di ordinamento, separati da ",": 1 significa che l'ordinamento per la data colonna deve essere discendente anzichè ascendente (es: 1; 1,0; 1, )
4501        																	-- in output può essere diverso che in input solo se in input è NULL: in tal caso significa che esiste sul verso di ordinamento una qualche preimpostazione di sistema/utente ecc.			
4502        			FlgSenzaPaginazioneIn 		IN 		PLS_INTEGER DEFAULT NULL,            	-- (valori 1/0/NULL) Se 1 l'estrazione non è paginata, altrimenti sì
4503        			NroPaginaIO      			IN OUT	PLS_INTEGER,                  		-- E' il numero della pagina da estrarre; se NULL e l'estrazione è paginata viene estratta la prima pagina
4504           			BachSizeIO				IN OUT	PLS_INTEGER,					-- Indica il massimo n.ro di record da estrarre se l'estrazione non è paginata (FlgSenzaPaginazioneIn=1)  
4505        																	-- Indica la dimensione (n.ro di record) della pagina se l'estrazione è paginata (FlgSenzaPaginazioneIn 0 o NULL) e in tal caso se non è valorizzato la dimensione della pagina è quella settata per l'utente di lavoro o è pari al valore del parametro STD_PAGE_NUM_ROW del dominio di lavoro				
4506        			OverFlowLimitIn			IN		PLS_INTEGER DEFAULT NULL,			-- E' il n.ro di record soddisfacenti la ricerca superato il quale la funzione deve restituire errore di overflow
4507        			FlgSenzaTotIn			IN		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 significa che non è richiesto come output il totale dei record soddisfacenti la ricerca (se la ricerca è paginata per la prima pagina il totale viene calcolato comunque, per le successive no)
4508        			NroTotRecOut			OUT		PLS_INTEGER,					-- E' il n.ro di record complessivi trovati (valorizzato solo se FlgSenzaTotIn è 0 o NULL o se si estrae la prima pagina)
4509             			NroRecInPaginaOut 		OUT   	PLS_INTEGER,                     		-- E' il numero di record nella pagina (valorizzato solo se l'estrazione è paginata, ovvero se FlgSenzaPaginazioneIn 0 o NULL)
4510        			------------- fine argomenti standard di tutte le funzioni di ricerca che devono restituire una lista --------------
4511        			FlgBatchSearchIn			IN		PLS_INTEGER,					-- (valori 1/0/NULL) Se 1 significa che la stored è utilizzata da un processo batch, altrimenti da un processo online.
4512        																	-- Serve affinchè in caso l'input OverFlowLimitIn non sia valorizzato vengano applicati i limiti di overflow per processo batch o online che sono parametri di configurazione del sistema. 
4513        			ColToReturnIn			IN		VARCHAR2 DEFAULT NULL,				-- Stringa con i n.ri delle colonne dell'XML di output ResultOut che si vuole siano presenti.
4514        																	-- Se la stringa è vuota saranno presenti tutte le colonne.
4515        																	-- Le colonne 1 e 2 saranno presenti comunque.
4516        																	-- I n.ri delle varie colonne vanno separati con , o ; e se si vuole indicare un intervallo di colonne gli estremi dell'intervallo vanno separati con - (es: "1-5;7;10" significa colonne da 1 a 5 più le colonne 7 e 10)
4517        																	-- In questa stringa si possono mettere anche dei nomi (ATTR_NAME) di attributi dinamici semplici che si vuole siano restituiti nell'output; essi verranno restituiti nelle colonne da 101 a 200 del ResultOut (es: "1-5; DATA_ADOZIONE; NRO_PAGINE" significa colonne da 1 a 5 più gli attributi dinamici DATA_ADOZIONE e NRO_PAGINE che sarranno restituiti come colonne 101 e 102 dell'output ResultOut). 
4518        			ResultOut				OUT		NOCOPY CLOB, 					-- Lista delle unità documentarie e folder trovati (XML conforme a schema LISTA_STD.xsd)
4519        																	-- Ogni oggetto della repository trovato è un tag Riga.
4520        																	-- Per sapere le colonne disponibili si veda dmpk_core_p1
4521        																	-- ATTENZIONE: Se FlgIndexerOverflowIn è pari a 1, qualora la stored non vada a sua volta in overflow, dato che il resultset trovato dalla stored dovrà essere ripassato al searcher di Lucene esso non è paginato indipendentemente dal fatto che l’apposito input lo richieda. 
4522        																	--		   Inoltre nel caso di FlgIndexerOverflowIn pari a 1 dato che dopo il nuovo passaggio per il searcher di Lucene si renderà necessaria una nuova chiamata alla stored solo le prime 2 colonne del clob sono valorizzate sicuramente
4523        			PercorsoRicercaXMLIO		IN OUT	NOCOPY CLOB,		-- In INPUT: Lista con nomi e id. (da quella di livello più alto in giù) delle cartelle/folder (libreria inclusa) che compongono il percorso il cui contenuto si stava visualizzando quando si è chiesto di fare la ricerca corrente. 
4524        																	-- In OUTPUT: Lista con nomi e id. (da quella di livello più alto in giù) delle cartelle/folder (libreria inclusa) che compongono il percorso in cui si cerca ora (ovvero CercaInFolderIO).
4525        																	--		  Dato che un oggetto può avere più folderizzazioni e quindi più percorsi il percorso mostrato è il primo visibile all'utente e che passa per il percorso in input se specificato.
4526        																	-- Sia in input che in output può non essere valorizzato, allora vuol dire che si è cercato o si cerca in tutta la repository
4527        																	-- Ogni cartella/folder nel percorso corrisponde ad un tag "Riga" con le seguenti colonne:
4528        																	-- 1: Id. del folder/livello
4529        																	-- 2: Nome del folder
4530        			DettagliCercaInFolderOut	OUT		NOCOPY CLOB,		-- XML contenente attributi e dati del folder CercaInFolderIO, e se questo è NULL quelli dell'eventuale workspace specificato nei criteri avanzati di ricerca(XML conforme a schema LISTA_STD.xsd). 
4531        																	-- viene restituito SOLO se il parametro compatibilty_level<=2
4532        																	-- Ogni attributo-dato è una colonna dell'unico tag Riga presente. Gli attributi-colonne sono:
4533        																	-- 1: Valore fisso 1
4534        																	-- 2: Identificativo del nodo dell'albero che rappresenta il folder nel percorso di ricerca (da usarsi per navigazione ad albero)(solo per folder)
4535        																	-- 3: Nome/descrizione
4536        																	-- 4: Codice che indica il tipo di cosa descrive la riga: folder (F) o un workspace (W)
4537        																	-- Qualora inizi per F può essere seguito da _ + una specializzazione del folder tra: FORUM = Un forum; THREAD = Un thread di discussione; CLASSIF = Una classificazione; FASC_TITOLARIO = Un fascicolo di titolario; SOTTOFASC_TITOLARIO = Un sottofascicolo di titolario; INSERTO_TITOLARIO = Un inserto di un sottofascicolo di titolario; 
4538        																	-- 5: Dettagli sul folder da mostrare come suo alt
4539        																	-- 6: <non utilizzata>
4540        																	-- 7: ID_FOLDER o ID_WORKSPACE del folder o workspace rappresentato
4541        																	-- 8:(valori 1/0) Se 1 indica che il folder è selezionabile (quando la lista viene richiamata come lista di scelta), se 0 no
4542        																	-- 9:(valori 1/0/NULL) Se 1 significa che il folder è nei preferiti, se 0 che non è tra i preferiti dell'utente ma può esservi messo, se NULL che non è nè può essere messo nei preferiti
4543        																	-- 10: N.ro di cartelle direttamente contenute nel folder
4544        																	-- 11: N.ro di unità documentarie direttamente contenute nel folder/workspace
4545        																	-- 12: Azioni possibili. E' una stringa di 1(=consentita) o 0(=non consentita) in cui ogni posizione corrisponde ad un'azione:
4546        																	--	 1:  Apertura di un nuovo sub-folder 
4547        																	--	 2:  Inserimento di un nuovo documento
4548        																	--	 3:  Copia in altro folder
4549        																	--	 4:  Spostamento in altro folder
4550        																	--	 5:  Incolla/inserimento di un sub-folder
4551        																	--	 6:  Incolla/inserimento di un documento già esistente
4552        																	--	 7:  Modifica
4553        																	--	 8:  Cancellazione
4554        																	--	 9:  Lock
4555        																	--	 10: Unlock
4556        																	--	 11: Apertura sub-forum
4557        																	--	 12: Apertura nuovo thread di discussione
4558        																	--	 13: Incolla/inserimento di un forum già esistente
4559        																	--	 14: Incolla/inserimento di un thread di discussione già esistente
4560        																	--	 15: Aggiunta risposta/contributo ad un thread di discussione
4561        																	--	 16: Aggiunta ai preferiti
4562        																	--	 17: Eliminazione dai preferiti
4563        																	--	 18: Selezione (per la finalità FinalitaIn)
4564        																	-- 13: Tipo (solo per folder)
4565        																	-- 14: Id. della libreria di appartenenza (solo per folder)
4566        																	-- 15: Data di apertura (solo per folder)
4567        																	-- 16: Data di chiusura (solo per folder)
4568        																	-- 17: Oggetto/descrizione estesa
4569        																	-- 18: Attuale assegnazione (solo per folder)
4570        																	-- 19: Nominativi esterni associati
4571        																	-- 20: Estremi di un eventuale lock messo sul folder/workspace o su folder che lo contiene
4572        																	-- 21: Livello di evidenza del folder
4573        																	-- 22: Livello di riservatezza del folder
4574        																	-- 23: Flag 1/0/NULL che se 1 indica che associato al folder vi è almeno un processo/procedimento
4575        																	-- 25: Flag 1/0/NULL che (se 1) indica che il numero di oggetti contenuti supera il massimo consentito per esplodere il folder come nodo dell'albero
4576        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4577        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
4578        			ErrMsgOut				OUT 		VARCHAR2,						-- Messaggio d'errore
4579        			FinalitaIn				IN		VARCHAR2 DEFAULT NULL				-- Motivo per cui viene chiamata la pagina popolata attraverso questa funzione. Valori ammessi:
4580        																	-- FOLDERIZZA = Per selezionare la cartella in cui collocare un'unità documentaria o una cartella
4581        																	-- FASCICOLA_UD = Per selezionare il fascicolo di titolario in cui collocare un'unità documentaria
4582        																	-- FOLDERIZZA_UD = Per selezionare la cartella in cui collocare un'unità documentaria
4583        																	-- FOLDERIZZA_FOLDER = Per selezionare la cartella in cui collocare una cartella
4584        																	-- SEL_PG = Selezione di un protocollo generale
4585        																	-- SEL_X_ISTANZA_E Selezione per un'istanza di autotutela/CED
4586        																	-- SEL_ATTI Selezione di un atto (documento con registrazione ufficiale)
4587        																	-- COLLEGA_UD = Per selezionare un'unità documentaria da mettere in relazione con un'altra
4588        																	-- IMPORTA_UD = Per selezionare UD da importare come allegato
4589        																	-- IMPORTA_FILE = Per selezionare UD da cui importare file
4590        																	-- COLLEGA_FOLDER = Per selezionare una cartella da mettere in relazione (non di appartenenza) con un'altra
4591        																	-- SEL_X_ACCESSO_ATTI = Selezione di fascicoli/aggregati documentali (identificati da un protocollo capofila) per una richiesta di accesso atti d'archivio
4592        			) return PLS_INTEGER;									-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4593        
4594        
4595        	/*********** funzione per testare se un certo folder o unità documentaria è nei preferiti di un utente **********/
4596        	function TestIsFavourite(
4597        			IdUserIn				IN		DMT_USERS.ID_USER%type,				-- (obblig.) Id. dell'utente per cui testare
4598        			FlgTipoObjIn			IN		VARCHAR2,						-- (obblig.; valori F/U) Indica se il test è per un folder (=F) o per un unità documentaria (=U)
4599        			IdObjIn				IN		INTEGER)						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto da testare
4600        			return PLS_INTEGER;											-- restituisce 1 in caso l'oggetto sia nei preferiti, altrimenti 0
4601        
4602        	/*********** funzione per testare se un certo folder o unità documentaria è negli inviati di un utente **********/
4603        	function TestIsSentObj(
4604        			IdUserIn				IN		DMT_USERS.ID_USER%type,				-- (obblig.) Id. dell'utente per cui testare
4605        			FlgTipoObjIn			IN		VARCHAR2,						-- (obblig.; valori F/U) Indica se il test è per un folder (=F) o per un unità documentaria (=U)
4606        			IdObjIn				IN		INTEGER)						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto da testare
4607        			return PLS_INTEGER;											-- restituisce 1 in caso l'oggetto sia negli inviati, altrimenti 0
4608        
4609        	/*********** funzione per testare se un certo folder o unità documentaria è negli inviati per conoscenza/condivisione (i.e. "notified") di un utente **********/
4610        	function TestIsNotifiedObj(
4611        			IdUserIn				IN		DMT_USERS.ID_USER%type,				-- (obblig.) Id. dell'utente per cui testare
4612        			FlgTipoObjIn			IN		VARCHAR2,						-- (obblig.; valori F/U) Indica se il test è per un folder (=F) o per un unità documentaria (=U)
4613        			IdObjIn				IN		INTEGER)						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto da testare
4614        			return PLS_INTEGER;											-- restituisce 1 in caso l'oggetto sia negli inviati per conoscenza/condivisione, altrimenti 0
4615        
4616        	/*********** funzione per testare se un certo folder o unità documentaria è nella sezione "Eliminati" dell'area di lavoro di un utente **********/
4617        	function TestIsInTrash(
4618        			IdUserIn				IN		DMT_USERS.ID_USER%type,				-- (obblig.) Id. dell'utente per cui testare
4619        			FlgTipoObjIn			IN		VARCHAR2,						-- (obblig.; valori F/U) Indica se il test è per un folder (=F) o per un unità documentaria (=U)
4620        			IdObjIn				IN		INTEGER)						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto da testare
4621        			return PLS_INTEGER;											-- restituisce 1 in caso l'oggetto sia nella sezione "Eliminati" dell'utente, altrimenti 0
4622        
4623        	/*********** funzione per testare se un certo folder o unità documentaria è nella sezione "News" dell'area di lavoro di un utente **********/
4624        	function TestIsInNews(
4625        			IdUserIn				IN		DMT_USERS.ID_USER%type,				-- (obblig.) Id. dell'utente per cui testare
4626        			FlgTipoObjIn			IN		VARCHAR2,						-- (obblig.; valori F/U) Indica se il test è per un folder (=F) o per un unità documentaria (=U)
4627        			IdObjIn				IN		INTEGER,						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto da testare
4628        			TsInNewsDaOut			OUT		DATE							-- Timestamp a partire dal quale l'oggetto è nelle news
4629        			)return PLS_INTEGER;											-- restituisce 1 in caso l'oggetto sia nella sezione "News" dell'utente, altrimenti 0
4630        
4631        	------------overload della funzione precedente ma senza argomenti di output	
4632        	function TestIsInNews(
4633        			IdUserIn				IN		DMT_USERS.ID_USER%type,				-- (obblig.) Id. dell'utente per cui testare
4634        			FlgTipoObjIn			IN		VARCHAR2,						-- (obblig.; valori F/U) Indica se il test è per un folder (=F) o per un unità documentaria (=U)
4635        			IdObjIn				IN		INTEGER						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto da testare
4636        			)return PLS_INTEGER;											-- restituisce 1 in caso l'oggetto sia nella sezione "News" dell'utente, altrimenti 0
4637        
4638        	/*********** funzione per testare se un certo folder o unità documentaria è nella sezione "Work" dell'area di lavoro di un utente **********/
4639        	function TestIsInWork(
4640        			IdUserIn				IN		DMT_USERS.ID_USER%type,				-- (obblig.) Id. dell'utente per cui testare
4641        			FlgTipoObjIn			IN		VARCHAR2,						-- (obblig.; valori F/U) Indica se il test è per un folder (=F) o per un unità documentaria (=U)
4642        			IdObjIn				IN		INTEGER)						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto da testare
4643        			return PLS_INTEGER;											-- restituisce 1 in caso l'oggetto sia nella sezione "Work" dell'utente, altrimenti 0
4644        
4645        	/********** funzione per mettere nei preferiti dell'utente di lavoro un folder o unità documentaria 	**********/
4646        	function AddToFavourites(
4647        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
4648        																	-- (obblig). Codice identificativo del token di connessione
4649        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4650        			FlgTipoObjIn			IN		VARCHAR2,						-- (obblig.; valori F/U) Indica se va aggiunto ai preferiti un folder (=F) o un'unità documentaria (=U)
4651        			IdObjIn				IN		INTEGER,						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto da aggiungere ai preferiti
4652        			MotiviIn				IN		VARCHAR2 DEFAULT NULL,				-- Motivi per cui mettere l'oggetto nei preferiti
4653        			FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4654        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4655        			FlgAutoCommitIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4656        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4657        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
4658        			ErrMsgOut				OUT 		VARCHAR2						-- Messaggio d'errore
4659        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4660        
4661        	/********** funzione per mettere nei recenti di un utente un folder o unità documentaria 	**********/
4662        	function AddToRecent(
4663        			FlgTpDominioAutIn		IN		PLS_INTEGER,						-- (obblig.) Indica il tipo del dominio in cui si sta lavorando: 2 = Sogg. produttore; 3 = AOO
4664        			IdDominioAutIn		IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type,		-- (obblig.) Identificativo del sogg. produttore o AOO in cui si sta lavorando
4665        			IdUserIn				IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- (obblig.) Id. dell'utente 
4666        			FlgTipoObjIn			IN		VARCHAR2,						-- (obblig.; valori F/U) Indica se va aggiunto ai recenti un folder (=F) o un'unità documentaria (=U)
4667        			IdObjIn				IN		INTEGER,						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto da aggiungere ai recenti
4668        			FlgVLIn				IN		VARCHAR2,						-- (obblig.) Indica se l'oggetto va aggiunto ai visionati di recente (=V) o ai lavorati di recente (=L) o ai documenti scarcati di recente (=D)
4669        			MotiviIn				IN		VARCHAR2 DEFAULT NULL,				-- Motivi per cui mettere l'oggetto nei recenti
4670        			FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4671        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4672        			FlgAutoCommitIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4673        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4674        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
4675        			ErrMsgOut				OUT 		VARCHAR2,						-- Messaggio d'errore
4676        			IdDocDownloadedIn			IN		INTEGER DEFAULT NULL,				-- ID_DOC del documento scaricato (obbigatorio se FlgVLIn=D)
4677        			NroVerDownloadedIn		IN		PLS_INTEGER DEFAULT NULL			-- N.ro di versione del documento IdDocDownloadedIn che è stata scaricata
4678        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4679        
4680        
4681        	/********** funzione per togliere dai preferiti dell'utente di lavoro un folder o unità documentaria 			**********/
4682        	/********** ATTENZIONE: il preferito eliminato non viene messo nella sezione eliminati dell'area lavoro utente 	**********/
4683        	/**********			se si vuole che sia messo negli eliminati va usata la funzione RemoveFromSezAreaLav		**********/
4684        	function RemoveFromFavourites(
4685        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
4686        																	-- (obblig). Codice identificativo del token di connessione
4687        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4688        			FlgTipoObjIn			IN		VARCHAR2,						-- (obblig.; valori F/U) Indica se va tolto dai preferiti un folder (=F) o un'unità documentaria (=U)
4689        			IdObjIn				IN		INTEGER,						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto da togliere dai preferiti
4690        			MotiviIn				IN		VARCHAR2 DEFAULT NULL,				-- Motivi per cui togliere l'oggetto dai preferiti
4691        			FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4692        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4693        			FlgAutoCommitIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4694        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4695        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
4696        			ErrMsgOut				OUT 		VARCHAR2						-- Messaggio d'errore
4697        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4698        
4699        	/********** funzione per togliere un folder o unità documentaria da una sezione (news, bozze, inviati, preferiti, eliminati)		**********/
4700        	/********** dell'area di lavoro utente in cui si trovi													**********/
4701        	function RemoveFromSezAreaLav(
4702        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
4703        																	-- (obblig). Codice identificativo del token di connessione
4704        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4705        			CISezioneAreaLavIn		IN		VARCHAR2,						-- (obblig.) Indica la sezione dell'area di lavoro utente da cui rimuovere l'oggetto. Valori ammessi:
4706        																			-- N = News
4707        																			-- B = Bozze
4708        																			-- I = Inviati
4709        																			-- C = inviati per conoscenza/condivisione
4710        																			-- P = Preferiti
4711        																			-- E = Eliminati
4712        																			-- W = Work
4713        																			-- NA = Ricevuti per competenza
4714        																			-- NCC = Ricevuti per conoscenza
4715        																			-- NNA = Nelle news perchè hanno notifiche automatiche
4716        																			-- DA  = Da assegnare
4717        																			-- DFA = Da fascicolare
4718        																			-- DFI = Da firmare
4719        																			-- DAV = Da approvare con visto
4720        																			-- DPR = Da protocollare
4721        																			-- S = Export e stampe
4722        																			-- ADA = Annullamenti da autorizzare
4723        																			-- DIA = Da inviare / assegnare
4724        																			-- IEML = Inviati via e-mail
4725        			FlgTipoObjIn			IN		VARCHAR2,					-- (obblig. salvo che se CISezioneAreaLavIn è una prevista solo per i documenti; valori F/U) Indica se va tolto dalla sezione un folder (=F) o un'unità documentaria (=U)
4726        			IdObjIn				IN		INTEGER,						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto da togliere dalla sezione
4727        			MotiviIn				IN		VARCHAR2 DEFAULT NULL,				-- Motivi per cui togliere l'oggetto dalla sezione dell'area di lavoro
4728        			URIXmlOut				OUT		NOCOPY CLOB,					-- Lista con gli URI delle versioni elettroniche di documento (se FlgTipoObjIn=U) o del folder (se FlgTipoObjIn=F) il cui profilo va aggiornato sui container a seguito dell'operazione (xml conforme a schema LISTA_STD.xsd)
4729        																	-- Ogni versione/folder è un tag Riga che contiene le seguenti colonne: 
4730        																	-- 1:	Identificativo del documento cui è relativa la versione o del folder 
4731        																	-- 2:	N.ro progressivo della versione
4732        																	-- 3: URI della versione/folder
4733        			FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4734        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4735        			FlgAutoCommitIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4736        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4737        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
4738        			ErrMsgOut				OUT 		VARCHAR2						-- Messaggio d'errore
4739        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4740        
4741        	/********** funzione per rimettere (se possibile) un folder o unità documentaria in una sezione (news, bozze, inviati, preferiti) 	**********/
4742        	/********** dell'area di lavoro utente da cui è stato tolto in precedenza 										**********/
4743        	function RecoverToSezAreaLav(
4744        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
4745        																	-- (obblig). Codice identificativo del token di connessione
4746        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4747        			CISezioneAreaLavIn		IN		VARCHAR2,						-- (obblig.) Indica la sezione dell'area di lavoro utente in cui ripristinare l'oggetto. Valori ammessi:
4748        																			-- N = News
4749        																			-- W = Work
4750        																			-- B = Bozze
4751        																			-- I = Inviati
4752        																			-- C = inviati per conoscenza/condivisione
4753        																			-- P = Preferiti
4754        																			-- NA = Ricevuti per competenza
4755        																			-- NCC = Ricevuti per conoscenza
4756        																			-- NNA = Nelle news perchè hanno notifiche automatiche
4757        																			-- DA  = Da assegnare
4758        																			-- DFA = Da fascicolare
4759        																			-- DFI = Da firmare
4760        																			-- DAV = Da approvare con visto
4761        																			-- DPR = Da protocollare
4762        																			-- S = Export e stampe
4763        																			-- ADA = Annullamenti da autorizzare
4764        																			-- DIA = Da inviare / assegnare
4765        																			-- IEML = Inviati via e-mail
4766        			FlgTipoObjIn			IN		VARCHAR2,						-- (obblig. salvo che se CISezioneAreaLavIn è una prevista per i soli documenti; valori F/U) Indica se va ripristinato un folder (=F) o un'unità documentaria (=U)
4767        			IdObjIn				IN		INTEGER,						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto da ripristinare nella sezione dell'area di lavoro utente
4768        			URIXmlOut				OUT		NOCOPY CLOB,					-- Lista con gli URI delle versioni elettroniche di documento (se FlgTipoObjIn=U) o del folder (se FlgTipoObjIn=F) il cui profilo va aggiornato sui container a seguito dell'operazione (xml conforme a schema LISTA_STD.xsd)
4769        																	-- Ogni versione/folder è un tag Riga che contiene le seguenti colonne: 
4770        																	-- 1:	Identificativo del documento cui è relativa la versione o del folder 
4771        																	-- 2:	N.ro progressivo della versione
4772        																	-- 3: URI della versione/folder
4773        			FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
4774        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
4775        			FlgAutoCommitIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
4776        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4777        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
4778        			ErrMsgOut				OUT 		VARCHAR2						-- Messaggio d'errore
4779        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4780        
4781        	/****** funzione per ottenere l'ID_NODO che rappresenta un certo folder trovato in un percorso di ricerca il cui ID_NODO è fornito in input 				****/
4782        	/****** come ID_NODO viene restituito quello che corrisponde ad una folderizzazione - all'interno del percorso di ricerca - i cui livelli sono tutti 		****/
4783        	/****** folder visibili all'utente di lavoro, se non ce n'è uno così anche uno i cui livelli non sono tutti folder visibili all'utente						****/
4784        	function GetIdNodo (
4785        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
4786        																			-- (obblig). Codice identificativo del token di connessione
4787        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	
4788        																			-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4789        			IdNodoPercorsoRicercaIn IN		VARCHAR2,						-- ID_NODO che corrisponde all’attuale percorso di ricerca
4790        			IdFolderIn 				IN		DMT_FOLDER.ID_FOLDER%type,		-- (obblig.) ID_FOLDER del folder di cui determinare l'ID_NODO (all'interno del percorso di ricerca)
4791        			IdNodoOut				OUT		VARCHAR2,						-- Id. nodo corrispondente al folder
4792        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4793        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
4794        			ErrMsgOut				OUT 	VARCHAR2						-- Messaggio d'errore
4795        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4796        
4797        	/****** funzione per ottenere l'ID_NODO del folder che rappresenta una certa classifica il cui ID è fornito in input			 							****/
4798        	/****** come ID_NODO viene restituito quello che corrisponde ad una folderizzazione - all'interno del percorso di ricerca - i cui livelli sono tutti 		****/
4799        	/****** folder visibili all'utente di lavoro, se non ce n'è uno così anche uno i cui livelli non sono tutti folder visibili all'utente						****/
4800        	function GetIdNodoClassifica (
4801        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
4802        																			-- (obblig). Codice identificativo del token di connessione
4803        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	
4804        																			-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4805        			IdClassificazioneIn 	IN		DMT_TITOLARIO.ID_CLASSIFICAZIONE%type,		
4806        																			-- (obblig.) ID_CLASSIFICAZIONE della classifica i cui determinare l'ID_NODO (all'interno del percorso di ricerca)
4807        			IdNodoOut				OUT		VARCHAR2,						-- Id. nodo corrispondente al folder della classifica
4808        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4809        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
4810        			ErrMsgOut				OUT 	VARCHAR2						-- Messaggio d'errore
4811        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4812        
4813        	/******	funzione per sapere se i contenuti di un certo folder (quelli "direttamente" innestati nel folder) si possono listare tutti, 	*****/
4814        	/*****	senza effettuare prima una ricerca, nella lista a destra della finestra di "esplora risorse" con cui si esplora la repository 	*****/
4815        	/****** folder particolari: ID vuoto => intera repository; ID= -999 => preferiti dell'utente											*****/
4816        	function TestShowFolderContentAllowed(
4817        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
4818        																			-- (obblig). Codice identificativo del token di connessione
4819        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	
4820        																			-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4821        			IdFolderIn 				IN		DMT_FOLDER.ID_FOLDER%type,		-- ID_FOLDER del folder di cui determinare i livelli del percorso corrispondente (all'interno del percorso di ricerca)
4822        																			-- se NULL si intende l'intera repository, se -999 si intendono i preferiti
4823        			FlgFolderUDIn			IN 		VARCHAR2 DEFAULT NULL,			-- (valori F/U/NULL): indica se la ricerca va ristretta ai soli documenti (U) o alle sole cartelle (F)
4824        			FlgShowContentAllowedOut OUT	PLS_INTEGER,					-- (valori 1/0) Se 1 significa che per il folder IdFolderIn si possono mostrare come lista i contenuti (del tipo/i indicati da FlgFolderUDIn)
4825        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4826        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
4827        			ErrMsgOut				OUT 	VARCHAR2						-- Messaggio d'errore
4828        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4829        
4830        	/****** funzione per ottenere i dati - come xml- dei livelli di un percorso che rappresenta un certo folder - il cui ID_FOLDER è fornito in input - 		****/
4831        	/****** che è stato trovato in un percorso di ricerca  il cui ID_NODO è fornito in input (IdNodoPercorsoRicercaIn)											****/
4832        	/****** come percorso viene restituito quello che corrisponde ad una folderizzazione - all'interno del percorso di ricerca - i cui livelli sono tutti 		****/
4833        	/****** folder visibili all'utente di lavoro, se non ce n'è uno così anche uno i cui livelli non sono tutti folder visibili all'utente						****/
4834        	function GetLivPathExFolder(
4835        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
4836        																			-- (obblig). Codice identificativo del token di connessione
4837        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	
4838        																			-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4839        			IdNodoPercorsoRicercaIn IN		VARCHAR2,						-- (obblig.) ID_NODO che corrisponde all’attuale percorso di ricerca
4840        			IdFolderIn 				IN		DMT_FOLDER.ID_FOLDER%type,		-- (obblig.) ID_FOLDER del folder di cui determinare i livelli del percorso corrispondente (all'interno del percorso di ricerca)
4841        			FlgFolderUDIn			IN 		VARCHAR2 DEFAULT NULL,			-- (valori F/U/NULL): indica se la ricerca va ristretta ai soli documenti (U) o alle sole cartelle (F)
4842        																			-- serve per determinare la colonna 3 dei livelli del percorso restituiti in PercorsoXMLOut
4843        			PercorsoXMLOut			OUT	NOCOPY CLOB,						-- Lista con i dati dei livelli del percorso corrispondente al folder (con folderizzazione all'interno di quella rappresentata dal nodo IdNodoPercorsoRicercaIn) 
4844        																			-- Ogni cartella/folder nel percorso corrisponde ad un tag "Riga" con le seguenti colonne:
4845        																			-- 1: Id. del folder/livello
4846        																			-- 2: Nome del folder
4847        																			-- 3: (valori 1/0) Se 1 nell'albero dell'archivio il folder è un nodo di cui NON si possono mostrare tutti contenuti (quelli del/i tipi indicati dall'argomento FlgUDFolderIn)
4848        																			-- 4: (valori 1/0) Indica se l'utente di lavoro è abilitato a creare fascicoli di titolario all'interno del folder-livello
4849        																			-- 5: (valori 1/0) Indica se l'utente di lavoro è abilitato a creare unità documentarie all'interno del folder-livello
4850        																			-- 6: (valori 1/0) Indica se l'utente di lavoro è abilitato a creare folder custom all'interno del folder-livello
4851        			FlgShowContentAllowedOut OUT	PLS_INTEGER,					-- (valori 1/0) Se 1 significa che per il folder IdFolderIn si possono mostrare come lista i contenuti (del tipo/i indicati da FlgFolderUDIn)
4852        																			-- concide sempre con la colonna 3 dell'ultima riga di PercorsoXMLOut	 
4853        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4854        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
4855        			ErrMsgOut				OUT 	VARCHAR2						-- Messaggio d'errore
4856        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4857        
4858        	/****** funzione per ottenere i dati - come xml- dei livelli di un percorso che rappresenta un certa folderizzazione il cui ID_NODO è fornito in input 		****/											
4859        	function GetLivPathExNodo(
4860        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
4861        																			-- (obblig). Codice identificativo del token di connessione
4862        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	
4863        																			-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4864        			IdNodoIn 				IN		VARCHAR2,						-- (obblig.) ID_NODO del nodo che rappresenta la folderizzazione di cui estrarre i dati dei livelli come xml
4865        			FlgFolderUDIn			IN 		VARCHAR2 DEFAULT NULL,			-- (valori F/U/NULL): indica se la ricerca va ristretta ai soli documenti (U) o alle sole cartelle (F)
4866        																			-- serve per determinare la colonna 3 dei livelli del percorso restituiti in PercorsoXMLOut
4867        			PercorsoXMLOut			OUT	NOCOPY CLOB,						-- Lista con i dati dei livelli del percorso corrispondente al nodo/folderizzazione 
4868        																			-- Ogni cartella/folder nel percorso corrisponde ad un tag "Riga" con le seguenti colonne:
4869        																			-- 1: Id. del folder/livello
4870        																			-- 2: Nome del folder
4871        																			-- 3: (valori 1/0) Se 1 nell'albero dell'archivio il folder è un nodo di cui NON si possono mostrare tutti contenuti (quelli del/i tipi indicati dall'argomento FlgUDFolderIn)
4872        																			-- 4: (valori 1/0) Indica se l'utente di lavoro è abilitato a creare fascicoli di titolario all'interno del folder-livello
4873        																			-- 5: (valori 1/0) Indica se l'utente di lavoro è abilitato a creare unità documentarie all'interno del folder-livello
4874        																			-- 6: (valori 1/0) Indica se l'utente di lavoro è abilitato a creare folder custom all'interno del folder-livello
4875        			FlgShowContentAllowedOut OUT	PLS_INTEGER,					-- (valori 1/0) Se 1 significa che per il folder finale della folderizzazione corrispondente all'ID_NODO si possono mostrare come lista i contenuti (del tipo/i indicati da FlgFolderUDIn)
4876        																			-- concide sempre con la colonna 3 dell'ultima riga di PercorsoXMLOut	 
4877        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
4878        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
4879        			ErrMsgOut				OUT 	VARCHAR2						-- Messaggio d'errore
4880        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
4881        
4882        
4883        	/******* funzione per renderizzare la repository o una sua porzione in una struttura ad albero 	*******/
4884        	/******* Ogni folder e documento è un nodo dell'albero. 							*******/
4885        	/******* Ogni nodo ha un identificativo univoco in tutta la repository.					*******/
4886        	/******* Infatti l'identificativo di un nodo non contiene solo indicazione dell'oggetto che 	*******/ 
4887        	/******* rappresenta ma anche del percorso di navigazione con cui vi si è arrivati			*******/
4888        	/******* La parte dell'identificativo successiva all'ultimo / è l'id. del folder/unità doc. 	*******/
4889        	/******* rappresentata dal nodo (preceduto da U nel caso di unità doc.)					*******/
4890        	/******* Il root node è quello di cui si rappresenta l'alberatura sottostante: 			*******/
4891        	/********		se pari a / si intende l'intera repository; 						*******/
4892        	/********		se pari a /PREF o /-999 si intendono i preferiti dell'utente					*******/
4893        	function NavigaRepositoryTree(
4894        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
4895        																	-- (obblig). Codice identificativo del token di connessione
4896        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
4897        			FlgEscludiUDIn			IN		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL): se 1 indica che nell'albero vanno mostrare solo le cartelle e non le unità documentarie
4898        			IdRootNodeIO			IN OUT	VARCHAR2,						-- Identificativo del nodo root. 
4899        																	-- Se in input non è valorizzato si intende pari al nodo root definito nelle impostazioni personali dell'utente e se anche questo non è valorizzato si intende pari all'intera repository (ovvero /).
4900        																	-- Valori particolari sono: 
4901        																	-- / 		= Intera repository
4902        																	-- /PREF 	= Preferiti dell'utente di lavoro
4903        			IdNodeToExplImplIn		IN 		VARCHAR2 DEFAULT NULL,				-- Identificativo del nodo (sottostante il root) da esplodere o chiudere 
4904        			FlgExplodeNodeIn 			IN		PLS_INTEGER DEFAULT 1,				--(valori 1/0/NULL) se 1 significa che il nodo IdNodeToExplImplIn va esploso, se 0 o NULL il nodo IdNodeToExplImplIn va chiuso
4905        			TreeXMLOut				OUT		NOCOPY CLOB,					-- Lista con i nodi dell'albero che rappresenta la repository o una sua porzione-ramo (XML conforme a schema LISTA_STD.xsd)
4906        																	-- Ogni folder o unità documentarie è un nodo è un tag Riga che contiene le seguenti colonne:
4907        																	-- 1:	Indica il livello del nodo (valori da 1 a n)
4908        																	-- 2:	Identificativo univoco del nodo
4909        																	-- 3:	Nome/descrizione del nodo
4910        																	-- 4: Codice che indica il tipo di nodo (da utilizzare per l'imagine del nodo)
4911        																	-- Inizia per: F = folder/Cartella; U = Unità documentaria
4912        																	-- Qualora inizi per F può essere seguito da _ + una specializzazione del folder tra: FORUM = Un forum; THREAD = Un thread di discussione; CLASSIF = Una classificazione; FASC_TITOLARIO = Un fascicolo di titolario; SOTTOFASC_TITOLARIO = Un sottofascicolo di titolario; INSERTO_TITOLARIO = Un inserto di un sottofascicolo di titolario; 
4913        																	-- Qualora inizi per U può essere seguito da _ + una specializzazione del unità documentaria tra: AVVIO_THREAD = L'avvio di un thread di discussione; RISPOSTA_THREAD = Una risposta/contributo in un thread di discussione														
4914        																	-- 5: Dettagli sul nodo da mostrare come alt dell'immagine del nodo
4915        																	-- 6:(valori 2/1/-1/0) Indica se il nodo va mostrato esploso (=2), se è esplodibile (ha "figli" in n.ro inferiore ad un limite stabilito) ma non va esploso (=1), se ha "filgli" ma non è esplodibile in quanto questi superano il limite stabilito (=-1), se non è esplodibile (=0)
4916        																	-- 7: ID_UD o ID_FOLDER dell'Unità documentaria o Folder rappresentato dal nodo
4917        																	-- 8:(valori 1/0) Se 1 indica che il nodo è selezionabile (quando l'albero viene richiamato come lista di scelta), se 0 no
4918        																	-- 9:(valori 1/0/NULL) Se 1 significa che il nodo è nei preferiti, se 0 che non è tra i preferiti dell'utente ma può esservi messo, se NULL che non è nè può essere messo nei preferiti
4919        																	-- 10: N.ro di cartelle direttamente contenute nel nodo (calcolato solo se parametro compatibilty_level<=2)
4920        																	-- 11: N.ro di unità documentarie direttamente contenute nel nodo (calcolato solo se parametro compatibilty_level<=2)
4921        																	-- 12: Azioni possibili sul nodo. E' una stringa di 1(=consentita) o 0(=non consentita) in cui ogni posizione corrisponde ad un'azione:
4922        																	--	 1:  Apertura di un nuovo sub-folder 
4923        																	--	 2:  Inserimento di un nuovo documento
4924        																	--	 3:  Copia in altro folder
4925        																	--	 4:  Spostamento in altro folder
4926        																	--	 5:  Incolla/inserimento di un sub-folder
4927        																	--	 6:  Incolla/inserimento di un documento già esistente
4928        																	--	 7:  Modifica
4929        																	--	 8:  Cancellazione
4930        																	--	 9:  Lock
4931        																	--	 10: Unlock
4932        																	--	 11: Apertura sub-forum
4933        																	--	 12: Apertura nuovo thread di discussione
4934        																	--	 13: Incolla/inserimento di un forum già esistente
4935        																	--	 14: Incolla/inserimento di un thread di discussione già esistente
4936        																	--	 15: Aggiunta risposta/contributo ad un thread di discussione
4937        																	--	 16: Aggiunta ai preferiti
4938        																	--	 17: Eliminazione dai preferiti
4939        																	--	 18: Selezione (per la finalità FinalitaIn)
4940        																	--	 19: Visualizzazione file primario
4941        																	--	 20: Eliminazione dalla cartella che il nodo superiore rappresenta
4942        																	--	 21: Download del file primario
4943        																	-- 13: Id. del documento primario (ID_DOC) (valorizato se trattasi di unità documentaria)
4944        																	-- 14: Id. della libreria di appartenenza
4945        																	-- 15: N.ro ultima versione elettronica del doc. primario che è valida visibile all'utente. Se NULL significa che non c'è vers. elettronica valida visibile all'utente di lavoro.
4946        																	-- 16: Nome con cui mostrare il file di ultima versione elettronica del doc. primario che è valida e visibile all'utente
4947        																	-- 17: Se è un fascicolo basato sul titolario contiene i campi che a GUI vengono mostrati per un fascicolo.
4948        																	--	   Nell'ordine: Nome fascicolo, Anno, ID. classifica, Indice classifica (come va mostrato a GUI), N° fascicolo, N° sottofascicolo, N° inserto.
4949        																	--	   I vari campi sono separati da **
4950        																	-- 18: Livello di riservatezza
4951        																	-- 19: Path completo del nodo (se è un folder)
4952        																	-- 20: Codice secondario del fascicolo/folder
4953        																	-- 21: Estremi capofila del fascicolo/folder
4954        			PercorsoRootNodeXMLOut		OUT		NOCOPY CLOB,		-- Lista con nomi e id. (da quella di livello più alto in giù) dei nodi che portano all'attuale root-node (lui incluso).
4955        																	-- Ogni nodo corrisponde ad un tag "Riga" con le seguenti colonne:
4956        																	-- 1: Id. del nodo
4957        																	-- 2: Nome del nodo
4958        																	-- 3: Id. del folder o unità documentaria che il nodo rappresenta
4959        																	-- 4: (valori 1/0) Se 1 è un nodo non esplodibile perchè ha troppi nodi figli
4960        																	-- 5: (valori 1/0) Indica se l'utente di lavoro è abilitato a creare fascicoli di titolario all'interno del folder-livello
4961        																	-- 6: (valori 1/0) Indica se l'utente di lavoro è abilitato a creare unità documentarie all'interno del folder-livello
4962        																	-- 7: (valori 1/0) Indica se l'utente di lavoro è abilitato a creare sub-folder custom all'interno del folder-livello															
4963        			DettagliRootNodeOut		OUT		NOCOPY CLOB,			-- XML contenente attributi e dati del root node da mostrare nel dettaglio sopra l'albero (XML conforme a schema LISTA_STD.xsd). 
4964        																	-- viene restituito SOLO se il parametro compatibilty_level<=2
4965        																	-- Ogni attributo-dato è una colonna dell'unico tag Riga presente. Gli attributi-colonne sono:
4966        																	-- 1: Valore fisso 1
4967        																	-- 2: Identificativo del nodo dell'albero
4968        																	-- 3: Nome/descrizione
4969        																	-- 4: Codice che indica il tipo di nodo (da utilizzare per l'imagine del nodo)
4970        																	-- Inizia per: F = folder/Cartella; U = Unità documentaria
4971        																	-- Qualora inizi per F può essere seguito da _ + una specializzazione del folder tra: FORUM = Un forum; THREAD = Un thread di discussione; CLASSIF = Una classificazione; FASC_TITOLARIO = Un fascicolo di titolario; SOTTOFASC_TITOLARIO = Un sottofascicolo di titolario; INSERTO_TITOLARIO = Un inserto di un sottofascicolo di titolario; 
4972        																	-- Qualora inizi per U può essere seguito da _ + una specializzazione del unità documentaria tra: AVVIO_THREAD = L'avvio di un thread di discussione; RISPOSTA_THREAD = Una risposta/contributo in un thread di discussione														
4973        																	-- 5: Dettagli sul nodo da mostrare come alt dell'immagine del nodo
4974        																	-- 6:(valori 2/1/-1/0) Indica se il nodo va mostrato esploso (=2), se è esplodibile (ha "figli" in n.ro inferiore ad un limite stabilito) ma non va esploso (=1), se ha "filgli" ma non è esplodibile in quanto questi superano il limite stabilito (=-1), se non è esplodibile (=0)
4975        																	-- 7: ID_UD o ID_FOLDER dell'Unità documentaria o Folder rappresentato dal nodo
4976        																	-- 8:(valori 1/0) Se 1 indica che il nodo è selezionabile (quando l'albero viene richiamato come lista di scelta), se 0 no
4977        																	-- 9:(valori 1/0/NULL) Se 1 significa che il nodo è nei preferiti, se 0 che non è tra i preferiti dell'utente ma può esservi messo, se NULL che non è nè può essere messo nei preferiti
4978        																	-- 10: N.ro di cartelle direttamente contenute nel nodo 
4979        																	-- 11: N.ro di unità documentarie direttamente contenute nel nodo
4980        																	-- 12: Azioni possibili sul nodo. E' una stringa di 1(=consentita) o 0(=non consentita) in cui ogni posizione corrisponde ad un'azione:
4981        																	--	 1:  Apertura di un nuovo sub-folder 
4982        																	--	 2:  Inserimento di un nuovo documento
4983        																	--	 3:  Copia in altro folder
4984        																	--	 4:  Spostamento in altro folder
4985        																	--	 5:  Incolla/inserimento di un sub-folder
4986        																	--	 6:  Incolla/inserimento di un documento già esistente
4987        																	--	 7:  Modifica
4988        																	--	 8:  Eliminazione
4989        																	--	 9:  Lock
4990        																	--	 10: Unlock
4991        																	--	 11: Apertura sub-forum
4992        																	--	 12: Apertura nuovo thread di discussione
4993        																	--	 13: Incolla/inserimento di un forum già esistente
4994        																	--	 14: Incolla/inserimento di un thread di discussione già esistente
4995        																	--	 15: Aggiunta risposta/contributo ad un thread di discussione
4996        																	--	 16: Aggiunta ai preferiti
4997        																	--	 17: Eliminazione dai preferiti
4998        																	--	 18: Selezione (per la finalità FinalitaIn)
4999        																	--	 20: Eliminazione dalla cartella che il nodo superiore rappresenta
5000        																	-- 13: Tipo
5001        																	-- 14: Id. della libreria di appartenenza (solo per folder)
5002        																	-- 15: Data di stesura/arrivo (per unità documentaria) o apertura (per folder)
5003        																	-- 16: Data di chiusura (solo per folder)
5004        																	-- 17: Oggetto/descrizione estesa
5005        																	-- 18: Attuale assegnazione (solo quelle per competenza nel caso di unità documentaria)
5006        																	-- 19: Nominativi esterni associati
5007        																	-- 20: Estremi di un eventuale lock messo sul folder/workspace o su folder che lo contiene
5008        																	-- 21: Livello di evidenza del folder
5009        																	-- 22: Livello di riservatezza del folder
5010        																	-- 23: Flag 1/0/NULL che se 1 indica che associato al folder vi è almeno un processo/procedimento
5011        																	-- 25: Flag 1/0/NULL che (se 1) indica che il numero di oggetti contenuti supera il massimo consentito per esplodere il folder come nodo dell'albero
5012        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5013        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5014        			ErrMsgOut				OUT 		VARCHAR2,						-- Messaggio d'errore
5015        			FinalitaIn				IN		VARCHAR2 DEFAULT NULL,				-- Motivo per cui viene chiamata la pagina con l'albero popolato attraverso questa funzione. Valori ammessi:
5016        																	-- FOLDERIZZA = Per selezionare la cartella in cui collocare un'unità documentaria o una cartella
5017        																	-- FASCICOLA_UD = Per selezionare il fascicolo di titolario in cui collocare un'unità documentaria
5018        																	-- FOLDERIZZA_UD = Per selezionare la cartella in cui collocare un'unità documentaria
5019        																	-- FOLDERIZZA_FOLDER = Per selezionare la cartella in cui collocare una cartella
5020        																	-- SEL_PG = Selezione di un protocollo generale
5021        																	-- SEL_X_ISTANZA_E Selezione per un'istanza di autotutela/CED
5022        																	-- SEL_ATTI Selezione di un atto (documento con registrazione ufficiale)
5023        																	-- COLLEGA_UD = Per selezionare un'unità documentaria da mettere in relazione con un'altra
5024        																	-- COLLEGA_FOLDER = Per selezionare una cartella da mettere in relazione (non di appartenenza) con un'altra
5025        																	-- SEL_X_ACCESSO_ATTI = Selezione di fascicoli/aggregati documentali (identificati da un protocollo capofila) per una richiesta di accesso atti d'archivio
5026        			NonSoloInArchivioCorrenteIn	IN		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0) Se 1 significa che vanno mostrati anche gli oggetti in archivio di deposito o storico, altrimenti solo quelli in archivio corrente
5027        			FlgNoDatiRootNodeIn			IN	PLS_INTEGER DEFAULT NULL
5028        																	-- (valori 1/0/NULL) Se 1 indica che non serve che siano calcolati e restituiti in output PercorsoRootNodeXMLOut e DettagliRootNodeOut
5029        			) return PLS_INTEGER;									-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5030        
5031        	/******* funzione per renderizzare i nodo figli di un nodo dell'albero dell'archivio documentale	*******/
5032        	/******* in cui ogni folder e documento è un nodo dell'albero. 										*******/
5033        	/******* Ogni nodo ha un identificativo univoco in tutta la repository.								*******/
5034        	/******* Infatti l'identificativo di un nodo non contiene solo indicazione dell'oggetto che 		*******/ 
5035        	/******* rappresenta ma anche del percorso di navigazione con cui vi si è arrivati					*******/
5036        	/******* La parte dell'identificativo successiva all'ultimo / è l'id. del folder/unità doc. 		*******/
5037        	/******* rappresentata dal nodo (preceduto da U nel caso di unità doc.)								*******/
5038        	/******* Identificativi nodo particolari sono: 														*******/
5039        	/********		/ : si intende l'intera repository; 												*******/
5040        	/********		/PREF o /-999: si intendono i preferiti dell'utente									*******/
5041        	function ExplodeTreeNode(
5042        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
5043        																	-- (obblig). Codice identificativo del token di connessione
5044        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	
5045        																	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5046        			FlgEscludiUDIn			IN		PLS_INTEGER DEFAULT NULL,
5047        																	-- (valori 1/0/NULL): se 1 indica che nell'albero vanno mostrare solo le cartelle e non le unità documentarie
5048        			IdNodeToExplodeIn		IN 		VARCHAR2 DEFAULT NULL,	-- (obblig.) Identificativo del nodo da esplodere  
5049        			TreeXMLOut				OUT		NOCOPY CLOB,			-- Lista con i nodi dell'albero che sono figli del nodo esploso (XML conforme a schema LISTA_STD.xsd)
5050        																	-- Ogni folder o unità documentarie è un nodo è un tag Riga che contiene le seguenti colonne:
5051        																	-- 1:	Indica il livello del nodo (valori da 1 a n)
5052        																	-- 2:	Identificativo univoco del nodo
5053        																	-- 3:	Nome/descrizione del nodo
5054        																	-- 4: Codice che indica il tipo di nodo (da utilizzare per l'imagine del nodo)
5055        																	-- Inizia per: F = folder/Cartella; U = Unità documentaria
5056        																	-- Qualora inizi per F può essere seguito da _ + una specializzazione del folder tra: FORUM = Un forum; THREAD = Un thread di discussione; CLASSIF = Una classificazione; FASC_TITOLARIO = Un fascicolo di titolario; SOTTOFASC_TITOLARIO = Un sottofascicolo di titolario; INSERTO_TITOLARIO = Un inserto di un sottofascicolo di titolario; 
5057        																	-- Qualora inizi per U può essere seguito da _ + una specializzazione del unità documentaria tra: AVVIO_THREAD = L'avvio di un thread di discussione; RISPOSTA_THREAD = Una risposta/contributo in un thread di discussione														
5058        																	-- 5: Dettagli sul nodo da mostrare come alt dell'immagine del nodo
5059        																	-- 6:(valori 2/1/-1/0) Indica se il nodo va mostrato esploso (=2), se è esplodibile (ha "figli" in n.ro inferiore ad un limite stabilito) ma non va esploso (=1), se ha "filgli" ma non è esplodibile in quanto questi superano il limite stabilito (=-1), se non è esplodibile (=0)
5060        																	-- 7: ID_UD o ID_FOLDER dell'Unità documentaria o Folder rappresentato dal nodo
5061        																	-- 8:(valori 1/0) Se 1 indica che il nodo è selezionabile (quando l'albero viene richiamato come lista di scelta), se 0 no
5062        																	-- 9:(valori 1/0/NULL) Se 1 significa che il nodo è nei preferiti, se 0 che non è tra i preferiti dell'utente ma può esservi messo, se NULL che non è nè può essere messo nei preferiti
5063        																	-- 10: N.ro di cartelle direttamente contenute nel nodo (calcolato solo se parametro compatibilty_level<=2)
5064        																	-- 11: N.ro di unità documentarie direttamente contenute nel nodo (calcolato solo se parametro compatibilty_level<=2)
5065        																	-- 12: Azioni possibili sul nodo. E' una stringa di 1(=consentita) o 0(=non consentita) in cui ogni posizione corrisponde ad un'azione:
5066        																	--	 1:  Apertura di un nuovo sub-folder 
5067        																	--	 2:  Inserimento di un nuovo documento
5068        																	--	 3:  Copia in altro folder
5069        																	--	 4:  Spostamento in altro folder
5070        																	--	 5:  Incolla/inserimento di un sub-folder
5071        																	--	 6:  Incolla/inserimento di un documento già esistente
5072        																	--	 7:  Modifica
5073        																	--	 8:  Cancellazione
5074        																	--	 9:  Lock
5075        																	--	 10: Unlock
5076        																	--	 11: Apertura sub-forum
5077        																	--	 12: Apertura nuovo thread di discussione
5078        																	--	 13: Incolla/inserimento di un forum già esistente
5079        																	--	 14: Incolla/inserimento di un thread di discussione già esistente
5080        																	--	 15: Aggiunta risposta/contributo ad un thread di discussione
5081        																	--	 16: Aggiunta ai preferiti
5082        																	--	 17: Eliminazione dai preferiti
5083        																	--	 18: Selezione (per la finalità FinalitaIn)
5084        																	--	 19: Visualizzazione file primario
5085        																	--	 20: Eliminazione dalla cartella che il nodo superiore rappresenta
5086        																	--	 21: Download del file primario
5087        																	-- 13: Id. del documento primario (ID_DOC) (valorizato se trattasi di unità documentaria)
5088        																	-- 14: Id. della libreria di appartenenza
5089        																	-- 15: N.ro ultima versione elettronica del doc. primario che è valida visibile all'utente. Se NULL significa che non c'è vers. elettronica valida visibile all'utente di lavoro.
5090        																	-- 16: Nome con cui mostrare il file di ultima versione elettronica del doc. primario che è valida e visibile all'utente
5091        																	-- 17: Se è un fascicolo basato sul titolario contiene i campi che a GUI vengono mostrati per un fascicolo.
5092        																	--	   Nell'ordine: Nome fascicolo, Anno, ID. classifica, Indice classifica (come va mostrato a GUI), N° fascicolo, N° sottofascicolo, N° inserto.
5093        																	--	   I vari campi sono separati da **
5094        																	-- 18: Livello di riservatezza
5095        																	-- 19: Path completo del nodo (se è un folder)
5096        																	-- 20: Codice secondario del fascicolo/folder
5097        																	-- 21: Estremi capofila del fascicolo/folder
5098        			ErrContextOut			OUT		VARCHAR2,				-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5099        			ErrCodeOut				OUT		PLS_INTEGER,			-- N.ro errore di uscita
5100        			ErrMsgOut				OUT 		VARCHAR2,			-- Messaggio d'errore
5101        			FinalitaIn				IN		VARCHAR2 DEFAULT NULL,	-- Motivo per cui viene chiamata la pagina con l'albero popolato attraverso questa funzione. Valori ammessi:
5102        																	-- FOLDERIZZA = Per selezionare la cartella in cui collocare un'unità documentaria o una cartella
5103        																	-- FASCICOLA_UD = Per selezionare il fascicolo di titolario in cui collocare un'unità documentaria
5104        																	-- FOLDERIZZA_UD = Per selezionare la cartella in cui collocare un'unità documentaria
5105        																	-- FOLDERIZZA_FOLDER = Per selezionare la cartella in cui collocare una cartella
5106        																	-- SEL_PG = Selezione di un protocollo generale
5107        																	-- SEL_X_ISTANZA_E Selezione per un'istanza di autotutela/CED
5108        																	-- SEL_ATTI Selezione di un atto (documento con registrazione ufficiale)
5109        																	-- COLLEGA_UD = Per selezionare un'unità documentaria da mettere in relazione con un'altra
5110        																	-- COLLEGA_FOLDER = Per selezionare una cartella da mettere in relazione (non di appartenenza) con un'altra
5111        			NonSoloInArchivioCorrenteIn	IN		PLS_INTEGER DEFAULT NULL			-- (valori 1/0) Se 1 significa che vanno mostrati anche gli oggetti in archivio di deposito o storico, altrimenti solo quelli in archivio corrente
5112        			) return PLS_INTEGER;									-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5113        
5114        	/********** funzione per settare il nodo root con cui si deve aprire l'albero della repository per l'utente di lavoro	**********/
5115        	function SetStartingRootNode(
5116        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	
5117        																	-- (obblig). Codice identificativo del token di connessione
5118        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5119        			IdNodeIn				IN		VARCHAR2,						-- Id. del nodo root con cui sia deve aprire l'albero
5120        			FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
5121        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
5122        			FlgAutoCommitIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
5123        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5124        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5125        			ErrMsgOut				OUT 		VARCHAR2						-- Messaggio d'errore
5126        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5127        
5128        
5129        	/************* funzione per ottenere l'id. del workspace di bozze di un dato utente in un dato dominio ***********/
5130        	function GetIdDraftWorkspace(
5131        			IdDominioIn				IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type,	-- (obblig.) Identificativo del sogg. produttore o AOO in cui trovare l'id. delle bozze
5132        			IdUserIn				IN 		DMT_USERS.ID_USER%type DEFAULT NULL,	-- (obblig. se UsernameIn non valorizzato) Id. dell'utente x cui trovare l'id. delle bozze
5133        			UsernameIn				IN		DMT_USERS.USERNAME%type DEFAULT NULL	-- (obblig. se IdUserIn non valorizzato) Username (interna al sistema) dell'utente x cui trovare l'id. delle bozze
5134        			) return INTEGER;												-- Id. (ID_WORKSPACE) del workspace che rappresenta le bozze dell'utente nel dato dominio. 
5135        																	-- può essere NULL in caso di errore o qualora le bozze dell'utente non esistano
5136        	---overload della precedente con return 1/0 e Id. del workspace di bozze come output
5137        	function GetIdDraftWorkspace(
5138        			IdDominioIn				IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type,	-- (obblig.) Identificativo del sogg. produttore o AOO in cui trovare l'id. delle bozze
5139        			IdUserIn				IN 		DMT_USERS.ID_USER%type DEFAULT NULL,	-- (obblig. se UsernameIn non valorizzato) Id. dell'utente x cui trovare l'id. delle bozze
5140        			UsernameIn				IN		DMT_USERS.USERNAME%type DEFAULT NULL,	-- (obblig. se IdUserIn non valorizzato) Username (interna al sistema) dell'utente x cui trovare l'id. delle bozze
5141        			IdDraftWorkspaceOut		OUT		DMT_WORKSPACES.ID_WORKSPACE%type		-- Id. del workspace che rappresenta le bozze dell'utente nel dato dominio. 
5142        			) return INTEGER;												-- è 1 se il workspace di bozze è stato trovato, altrimenti 0
5143        
5144        	/************* funzione per ottenere l'id. del workspace dei temporanei in un dato dominio ***********/
5145        	function GetIdTempWorkspace(
5146        			IdDominioIn				IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type	-- (obblig.) Identificativo del sogg. produttore o AOO in cui trovare l'id. delle bozze
5147        			) return INTEGER;											-- Id. (ID_WORKSPACE) del workspace dei temporanei nel dato dominio. 
5148        																	-- può essere NULL in caso di errore o qualora il workspace dei temporanei non esista
5149        
5150        	/*********** funzione per ottenere l'id. della libreria di un oggetto della repository **********/
5151        	function GetIdLibrary(
5152        			FlgTipoObjIn			IN		VARCHAR2,						-- (obblig.; valori F/U) Indica se l'oggetto è un folder (=F) o per un unità documentaria (=U)
5153        			IdObjIn				IN		INTEGER,						-- (obblig.) Id. (ID_FOLDER o ID_UD) dell'oggetto 
5154        			IdLibraryOut			OUT		INTEGER)						-- Id. della libreria
5155        			return PLS_INTEGER;											-- restituisce 1 in caso tutto OK, altrimenti 0
5156        
5157        
5158        	/********	funzione per ottenere la lista dei workspace visibili	*******/
5159        	function TrovaWorkspace(
5160        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
5161        																	-- (obblig). Codice identificativo del token di connessione
5162        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5163        			FlgPreimpostaFiltroIn		IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1 i filtri e l'ordinamento vengono settati secondo le impostazioni dell'utente di lavoro, altrimenti restano come passati in input
5164        			--------------- inizio filtri di ricerca-------------------
5165        			IdWorkspaceIO			IN OUT	DMT_WORKSPACES.ID_WORKSPACE%type,		-- 1° filtro di ricerca: id. del workspace da ricercare
5166        			SearchWordsIO			IN OUT	VARCHAR2,						-- 2° filtro di ricerca: Parola/e che devono essere contenute nel nome e/o descrizione e/o note dei workspace estrarre (ricerca di tipo contains)
5167        			CIProvWorkspaceIO			IN OUT	DMT_WORKSPACES.PROV_CI_WORKSPACE%TYPE,	-- 3° filtro di ricerca: Codice identificativo del workspace nel sistema di provenienza: ricerca esatta case-sensitive  
5168        			CodApplOwnerIO			IN OUT	VARCHAR2,						-- 4° filtro di ricerca: Codice dell'applicazione "proprietaria" dei workspace. Se valorizzata pari a #BY_CONN_TKN e si è connessi da un'applicazione esterna si ricercano solo workspace di cui è proprietaria quell'applicazione
5169        			CodIstApplOwnerIO			IN OUT	VARCHAR2,						-- 5° filtro di ricerca: Codice dell'istanza di applicazione "proprietaria" dei workspace. Se valorizzata pari a #BY_CONN_TKN e si è connessi da un'applicazione esterna si ricercano solo workspace di cui è proprietaria l'istanza di applicazione esterna da cui si è connessi
5170        			FlgRestrApplOwnerIO		IN OUT	INTEGER,						-- (valori 1/0/NULL) Se 1 vengono estratti solo workspace di cui è proprietaria l'applicazione proprietaria (ed eventuale istanza) specificata in CodApplOwnerIO; se 0 o NULL e se CodApplOwnerIO è valorizzata vengono estratti solo i workspace senza applicazione proprietaria o con applicazione proprietria pari a quella specificata
5171        			FlgInclAnnullatiIO		IN OUT	INTEGER,						-- (valori 1/0/NULL) 6° filtro di ricerca: se 1 vengono estratti anche i workspace logicamente annullati, altrimenti no	
5172        			AltriCriteriIO			IN OUT 	NOCOPY CLOB,					-- Altri criteri di ricerca sugli attributi addizionali (XML conforme a schema LISTA_STD.xsd). Se più di uno vengono applicati in AND.
5173        																	-- Ogni criterio è un tag Riga che può contenere le seguenti colonne:
5174        																	--	1) Nome (ATTR_NAME) dell'attributo cui è relativo il criterio
5175        																	--	2) (obblig.) Operatore logico. Valori possibili:
5176        																	--		"uguale" (ricerca esatta) 
5177        																	--		"simile a (case-sensitive)" (ricerca case-sensitive in like)
5178        																	--		"simile a (case-insensitive)" (ricerca case-insensitive in like e che ignora i caratteri quali spazi, ., ecc)
5179        																	--		"maggiore" (se attributo numerico o data)
5180        																	--		"maggiore o uguale" (se attributo numerico o data)
5181        																	--		"minore" (se attributo numerico o data)
5182        																	--		"minore o uguale" (se attributo numerico o data)
5183        																	--		"tra" (se attributo numerico o data)
5184        																	--		"non valorizzato"
5185        																	--		"valorizzato"
5186        																	--		"spuntato" (se attributo di tipo casella di spunta)
5187        																	--		"non spuntato" (se attributo di tipo casella di spunta)
5188        																	--	3) 1° valore di confronto (obblig. e gestito solo se l'operatore non ha uno dei seguenti valori: valorizzato, non valorizzato, spuntato, non spuntato) (se l'attributo è numerico deve avere la virgola come separatore dei decimali, se è di tipo data deve essere in uno dei formato dati dai parametri di conf. FMT_STD_DATA e FMT_STD_TIMESTAMP)
5189        																	--	4) 2° valore di confronto (obblig. e gestito solo se l'operatore è "tra") (se l'attributo è numerico deve avere la virgola come separatore dei decimali, se è di tipo data deve essere in uno dei formato dati dai parametri di conf. FMT_STD_DATA e FMT_STD_TIMESTAMP)
5190        																	--	5) Label dell''attributo cui è relativo il criterio (se sotto-attributo di complesso <label del complesso> - <label del sotto-attributo>
5191        			------------- inizio argomenti standard di tutte le funzioni di ricerca che devono restituire una lista --------------
5192        			ColOrderByIO			IN OUT	VARCHAR2,						-- Indica il/i numeri della/e colonna dell'XML (CLOB ListaXMLOut) di output per cui ordinare i record nell'XML stesso (si può ordinare per tutte le colonne da 1 a 3). Se l'ordinamento è per più colonne queste vanno separate con "," (es: 2; 2,3)
5193        																	-- in output può essere diverso che in input solo se in input è NULL: in tal caso significa che esiste sul tipo di ordinamento una qualche preimpostazione di sistema/utente ecc.
5194        																	-- se non valorizzato (neppure in output) la lista di record restituita non è ordinata
5195        			FlgDescOrderByIO  		IN OUT	VARCHAR2,						-- E' una stringa di 1 o 0/NULL, tanti quanti le colonne di ordinamento, separati da ",": 1 significa che l'ordinamento per la data colonna deve essere discendente anzichè ascendente (es: 1; 1,0; 1, )
5196        																	-- in output può essere diverso che in input solo se in input è NULL: in tal caso significa che esiste sul verso di ordinamento una qualche preimpostazione di sistema/utente ecc.			
5197        			FlgSenzaPaginazioneIn 		IN 		PLS_INTEGER DEFAULT NULL,            	-- (valori 1/0/NULL) Se 1 l'estrazione non è paginata, altrimenti sì
5198        			NroPaginaIO      			IN OUT	PLS_INTEGER,                  		-- E' il numero della pagina da estrarre; se NULL e l'estrazione è paginata viene estratta la prima pagina
5199           			BachSizeIO				IN OUT	PLS_INTEGER,					-- Indica il massimo n.ro di record da estrarre se l'estrazione non è paginata (FlgSenzaPaginazioneIn=1)  
5200        																	-- Indica la dimensione (n.ro di record) della pagina se l'estrazione è paginata (FlgSenzaPaginazioneIn 0 o NULL) e in tal caso se non è valorizzato la dimensione della pagina è quella settata per l'utente di lavoro o è pari al valore del parametro STD_PAGE_NUM_ROW del dominio di lavoro				
5201        			OverFlowLimitIn			IN		PLS_INTEGER DEFAULT NULL,			-- E' il n.ro di record soddisfacenti la ricerca superato il quale la funzione deve restituire errore di overflow
5202        			FlgSenzaTotIn			IN		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 significa che non è richiesto come output il totale dei record soddisfacenti la ricerca (se la ricerca è paginata per la prima pagina il totale viene calcolato comunque, per le successive no)
5203        			NroTotRecOut			OUT		PLS_INTEGER,					-- E' il n.ro di record complessivi trovati (valorizzato solo se FlgSenzaTotIn è 0 o NULL o se si estrae la prima pagina)
5204             			NroRecInPaginaOut 		OUT   	PLS_INTEGER,                     		-- E' il numero di record nella pagina (valorizzato solo se l'estrazione è paginata, ovvero se FlgSenzaPaginazioneIn 0 o NULL)
5205        			------------- fine argomenti standard di tutte le funzioni di ricerca che devono restituire una lista --------------
5206        			ListaXMLOut				OUT		NOCOPY CLOB,					-- Lista dei workspace trovati(XML conforme a schema LISTA_STD.xsd)
5207        																	-- Ogni workspace è un tag Riga che può contenere le seguenti colonne:
5208        																	-- 1: Id. del workspace 
5209        																	-- 2: Nome del workspace
5210        																	-- 3: Descrizione del template
5211        																	-- 4: Annotazioni sul workspace
5212        																	-- 5: Flag che indica che il workspace è stato creato dall'applicazione CodApplOwnerIO ed eventuale istanza CodIstApplOwnerIO
5213        																	-- 6: Descrizione dell'applicazione (ed eventuale istanza) che ha creato il workspace
5214        																	-- 7: Cod. identificativo del workspace nel sistema di provenienza
5215        																	-- 8: Timestamp di creazione workspace (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
5216        																	-- 9: Descrizione dell'utente di creazione del workspace
5217        																	-- 10: Timestamp di ultima modifica dei dati del workspace (nel formato dato dal parametro di conf. FMT_STD_TIMESTAMP)
5218        																	-- 11: Descrizione dell'utente di ultima modifica dei dati del workspace																						
5219        																	-- 12: (valori 1/0) Indicatore di workspace riservato dal sistema e non modificabile da applicativo
5220        																	-- 13: (valori 1/0) Indicatore di workspace valido (non annullato)
5221        																	-- 14: (valori 1/0) Indicatore di workspace che consente la propagazione dei permessi ai documenti contenuti
5222        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5223        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5224        			ErrMsgOut				OUT 		VARCHAR2)						-- Messaggio d'errore
5225        			return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5226        
5227        	/********* 	funzione per ottenere i dati di dettaglio di un workspace (tranne i suoi permessi) da mostrare nella GUI 	********/
5228        	function LoadDettWorkspace(
5229        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
5230        																	-- (obblig). Codice identificativo del token di connessione
5231        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5232        			IdWorkspaceIO			IN OUT	DMT_WORKSPACES.ID_WORKSPACE%type,		-- Id. del workspace di cui estrarre i dati di dettaglio
5233        																	-- Il valore di input viene usato per individuare il workspace di cui estrarre i dati di dettaglio
5234        			NomeWorkspaceIO			IN OUT	DMT_WORKSPACES.NOME_WORKSPACE%type,		-- Nome del workspace di cui estrarre i dati di dettaglio
5235        																	-- Il valore di input (con ricerca case-insensitive in like senza forzare il % finale) viene usato per individuare il workspace
5236        			DesWorkspaceOut			OUT		DMT_WORKSPACES.DES_WORKSPACE%type,		-- Descrizione del workspace
5237        			AnnotazioniOut			OUT		DMT_WORKSPACES.NOTE%type,			-- Annotazioni sul workspace
5238        			FlgConsPropagazPermessiOut	OUT		PLS_INTEGER,					-- (valori 1/0) Se 1 indica che il workspace consente la propagazione dei permessi di accesso ai documenti contenuti
5239        			EstremiLockOut			OUT		VARCHAR2,						-- Autore + data e ora dell'eventuale lock attivo sul workspace
5240        			FlgAnnOut				OUT		PLS_INTEGER,					-- (valori 1/0) Se 1 indica che il workspace è logicamente annullato
5241        			CIProvWorkspaceOut		OUT 		DMT_WORKSPACES.PROV_CI_WORKSPACE%TYPE,	-- Codice identificativo del workspace nel sistema di provenienza   
5242        			RowidOut				OUT		VARCHAR2,						-- Rowid del record del workspace
5243        			AttributiAddOut			OUT		NOCOPY CLOB,					-- Lista degli eventuali ulteriori attributi custom del workspace (XML conforme a schema LISTA_STD.xsd)
5244        																	-- Ogni attributo è un tag "Riga" che contiene le seguenti colonne:
5245        																	-- 1: N.ro (valori da 1 a n) del riquadro (fieldset) in cui mostrare l'attributo
5246        																	-- 2: Nome identificativo dell'attributo (ATTR_NAME)
5247        																	-- 3: Label del campo con cui rappresentare l'attributo 
5248        																	-- 4: Tipo di attributo. Valori: DATE, DATETIME, TEXT, TEXT-AREA, CHECK, INTEGER, EURO, DECIMAL, COMBO-BOX, LISTA
5249        																	-- 5: N.ro massimo di caratteri/cifre
5250        																	-- 6: Larghezza del campo con cui rappresentare l'attributo (size)
5251        																	-- 7: Valore dell'attributo
5252        																	-- 8: Label del riquadro (fieldset) in cui mostrare l'attributo
5253        																	-- 9: (valori 1/0) 1 indica che l'attributo è obbligatorio, 0 che è facoltativo
5254        																	-- 10: Altezza (in nro righe) del campo con cui rappresentare l'attributo (se TEXT-AREA)
5255        																	-- 11:(valori 1/0) 1 indica se l'attributo è modificabile, 0 che è in sola visualizzazione   
5256        			FlgMostraAltriAttrOut		OUT		PLS_INTEGER,					-- (valori 1/0) Se 1 nella GUI vanno mostrati gli attributi addizionali (ce ne sono di visibile all'utente), se 0 no
5257        			DettagliOperazioniOut		OUT		NOCOPY CLOB,					-- E' una lista mono-riga (XML conforme a schema LISTA_STD.xsd) che contiene indicazione di quali operazioni sono consentite all'utenza di lavoro sul workspace.
5258        																	-- Le colonne dell'unico tag Riga presente sono:
5259        																	-- 1: (valore 1/0) Modifica dei dati: 1 = Consentita; 0 = Non consentita
5260        																	-- 2: (valore 1/0) Annullamento logico/cancellazione: 1 = Consentito; 0 = Non consentito
5261        																	-- 3: (valore 1/0) Ripristino: 1 = Consentito; 0 = Non consentito
5262        																	-- 4: (valore 1/0) Modifica permessi: 1 = Consentita; 0 = Non consentita
5263        																	-- 5: (valore 1/0) Lock: 1 = Consentito; 0 = Non consentito
5264        																	-- 6: (valore 1/0) Unlock: 1 = Consentito; 0 = Non consentito	
5265        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5266        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5267        			ErrMsgOut				OUT 		VARCHAR2)						-- Messaggio d'errore
5268        			return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5269        
5270        	/************ funzione per ottenere le registrazioni/numerazioni date ad un'unità doc. nel formato in cui vanno passate alla AddDoc, UpdDocUD ecc ********/
5271        	function GetRegNumDateUD(
5272        			IdUDIn				IN		DMT_UNITA_DOC.ID_UD%type,			--(obblig.) Id. dell'unità documentaria di cui estrarre le registrazioni/numerazioni				
5273        			FlgIntEstIn				IN		VARCHAR2 DEFAULT NULL,				-- (valori I/E) Indica se devono essere restituite solo registrazioni/numerazioni che non siano numerazioni date internamente al sistema  (se =E) o solo numerazioni date internamente al sistema  (se =I)
5274        			CodCategoriaExcludedIn 		IN		VARCHAR2 DEFAULT NULL,				-- Codice della categoria di registrazione da escludere da quelle estratte
5275        			RegNumXMLOut			OUT		NOCOPY CLOB,					-- Lista di registrazioni/numerazioni date all'unità documentaria
5276        																	-- Ciscuna riga della lista contiene le seguenti colonne:
5277        																	--	1: Codice della ategoria di registrazione/numerazione; valori ammessi: PG = Protocollo Generale; PP = Protocollo Particolare; R = Repertorio; E = Registrazione d'emergenza; A = Altro tipo di numerazione
5278        																	--	2: Sigla di registrazione/numerazione
5279        																	--	3: Anno di registrazione/numerazione
5280        																	--	4: N.ro di registrazione/numerazione
5281        																	--	5: Data e ora di registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
5282        																	--	6: Identificativo dell'utente che ha effettuato la registrazione/numerazione
5283        																	--	7: Codice che identifica l'utente che ha effettuato la registrazione/numerazione nell'applicazione esterna da cui ci si connette 
5284        																	--	8: Denominazione dell'utente che ha effettuato la registrazione/numerazione
5285        																	--	9: Identificativo della UO presso cui è stata effettuata la registrazione/numerazione
5286        																	--	10: Denominazione della UO presso cui è stata effettuata la registrazione/numerazione (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5287        																	--	11: N.ri livello della UO presso cui è stata effettuata la registrazione/numerazione (tutti, separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5288        																	--	12: Codice che identifica la registrazione nel sistema in cui è stata data
5289        																	--	13: Data in cui decade la riservatezza data all'unità documentaria dalla data registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_DATA)
5290        																	--	14: (valori 1/NULL) Se 1 significa che la registrazione/numerazione è annullata
5291        																	--	15: Data e ora di annullamento della registrazione (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
5292        																	--	16: Identificativo dell'unità documentaria che rappresenta l'atto di autorizzazione all'annullamento della data registrazione/numerazione 
5293        																	--	17: Estremi dell'atto di autorizzazione annullamento (alternativo al precedente e gestito solo se quello non è valorizzato)
5294        																	--	18: Motivazioni dell'annullamento della data registrazione/numerazione
5295        																	--	19: (valori 1/NULL) Se 1 significa che la registrazione/numerazione è stata richiesta dal sistema documentale
5296        																	--	20: (valori 1/NULL) Se 1 significa che la registrazione/numerazione è stata generata dal sistema documentale
5297        																	--	21: Id. dell'utente che ha annullato la registrazione
5298        																	--	22: Cognome e nome dell'utente che ha annullato la registrazione
5299        																	--	23: Eventuale sub o appendice del n.ro di registrazione
5300        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5301        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5302        			ErrMsgOut				OUT 		VARCHAR2)						-- Messaggio d'errore
5303        			return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5304        
5305        
5306        	/**********estrae i dati dell'ACL di un'unità documentaria nonchè tutti i dati correlati al controllo degli accessi sulla stessa (ereditarietà permessi ecc.) ******/
5307        	function LoadACLUD(
5308        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
5309        																	-- (obblig). Codice identificativo del token di connessione
5310        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5311        			IdUDIn				IN		DMT_UNITA_DOC.ID_UD%type,			--(obblig.) Id. dell'unità documentaria di cui estrarre i dati di controllo accesso
5312        			FlgEreditarietaPossibileOut	OUT		PLS_INTEGER,					-- (valori 1/0) Se 1 è possibile (in base a quelli che sono gli oggetti contenitore) che l'unità documentaria erediti i permessi da un folder o workspace che la contiene
5313        			FlgEreditarietaConsentitaOut	OUT		PLS_INTEGER,					-- (valori 1/0) Se 1 all'unità documentaria è consentito ereditare i permessi da un folder o workspace che la contiene, altrimenti no
5314        			FlgTipoOggEreditaDaOut		OUT		VARCHAR2,						-- (valori F/W/NULL) Indica se attualmente vengono ereditati i permessi da un folder (=F) o da un workspace (=W) che contiene l'unità documentaria
5315        			IdOggEreditaDaOut			OUT		INTEGER,						-- Identificativo (ID_FOLDER o ID_WORKSPACE) dell'eventuale oggetro da cui attualmente vengono ereditati i permessi
5316        			DesOggEreditaDaOut		OUT		VARCHAR2,						-- Descrizione (path, comprensivo di libreria, nel caso di un folder e nome nel caso di un workspace) dell'eventuale oggetro da cui attualmente vengono ereditati i permessi				
5317        			FlgTipoOggPossibileEredDaOut	OUT		VARCHAR2,						-- (valori F/W/NULL) Indica il tipo, folder (=F) o workspace (=W), dell'oggetto contenitore dell'unità documentaria che è l'unico da cui essa può ereditare i permessi 
5318        			IdOggPossibileEredDaOut		OUT		INTEGER,						-- Identificativo (ID_FOLDER o ID_WORKSPACE) dell'oggetto contenitore dell'unità documentaria che è l'unico da cui essa può ereditare i permessi
5319        			DesOggPossibileEredDaOut	OUT		VARCHAR2,						-- Descrizione (path, comprensivo di libreria, nel caso di un folder e nome nel caso di un workspace) dell'oggetto contenitore dell'unità documentaria che è l'unico da cui essa può ereditare i permessi				
5320        			ACLXMLOut				OUT		NOCOPY CLOB,					-- Lista con le entry (ACE) dell'ACL dell'unità documentaria (xml comforme a schema LISTA_STD.xsd)
5321        																	-- Ciscuna ACE è un tag "Riga" che contiene le seguenti colonne:
5322        																	--	1: (obblig.) Indicatore del tipo di destinatario del permesso
5323        																	--		Valori possibili:
5324        																	--			SP	= Soggetto produttore  
5325        																	-- 			AOO	= AOO 
5326        																	-- 			UT 	= Utente
5327        																	--			SV	= Scrivania virtuale
5328        																	--			UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
5329        																	--			G	= Gruppo
5330        																	--			R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
5331        																	--	2: Identificativo del destinatario del permesso
5332        																	--		è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
5333        																	--		è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
5334        																	--		è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
5335        																	--		è un ID_USER di DMT_USERS se colonna 1 =UT
5336        																	--		è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
5337        																	--		è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
5338        																	--	3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5339        																	--	4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
5340        																	--	5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5341        																	-- 		o codice rapido del gruppo (se ha un corrispondente gruppo di soggetti rubrica) o dell'utente
5342        																	--	6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5343        																	--	7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
5344        																	--	8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
5345        																	--	9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
5346        																	--	10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
5347        																	--	11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5348        																	--		Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5349        																	--	12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5350        																	--		Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5351        																	--	13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
5352        																	--	14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5353        																	--	15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5354        																	--	16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
5355        																	--	17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5356        																	--	18:(valori 1/0/NULL) Indica se la visualizzazione dei file è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5357        																	--	19:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5358        																	--	20:(valori 1/0/NULL) Indica se la modifica (intendendo anche il versioning) dei file è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5359        																	--	21:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5360        																	--	22:(valori 1/0/NULL) Indica se la copia dell'unità doc. è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5361        																	--	23:(valori 1/0/NULL) Indica se l'eliminazione dell'unità doc. è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5362        																	--	24:(valori 1/0/NULL) Indica se il ripristino dell'unità doc. eliminata è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
5363        																	--	25:(valori 1/NULL) Se 1 indica se l'accesso agli eventuali file è relativo alle sole versioni pubblicate
5364        																	--	26: Lista degli identificativi (ID_DOC) dei documenti (separati da |*|) sui cui file associati è assentita o negata la visualizzazione. 
5365        																	--		ATTENZIONE: Se vuota la visibilità è assentita o negata sui file di tutti i documenti.
5366        																	--	27: Lista degli identificativi (ID_DOC) dei documenti (separati da |*|) sui cui file associati è assentita o negata la modifica. 
5367        																	--		ATTENZIONE: Se vuota la modifica è assentita o negata sui file di tutti i documenti.
5368        																	-- 	28: Indica su quali file dell'unità documentaria l'accesso è limitato alle loro versioni pubblicate: è una lista di ID_DOC (dei documenti con file dell'unità doc.) separati da |*|
5369        																	--		ATTENZIONE: Se vuota e se colonna 25=1 significa che l'accesso è limitato alle versioni pubblicate per tutti i file 
5370        																	--	29: Dati identificativi del destinatario del permesso
5371        																	--    30: (valori 1/0) Flag di ACE ereditata
5372        																	-- 31: Descrizione estesa del destinatario del permesso
5373        																	-- 32: (valori 1/0) Se 1 indica che il destinatario del permesso è anche assegnatario dell'UD
5374        																	-- 33: (valori 1/0) Se 1 indica che il destinatario del permesso è anche uno che ha una notifica (tipicamente invio cc) relativa all'UD
5375        			ListaDocUDXMLOut			OUT		NOCOPY CLOB,					-- Lista con i dati dei documenti dell'unità documentaria (xml comforme a schema LISTA_STD.xsd)
5376        																	-- Ciscun documento è un tag "Riga" che contiene le seguenti colonne:
5377        																	--	1: Identificativo (ID_DOC) del documento
5378        																	--	2: Natura della relazione del documento con l'unità documentaria (primario, allegato, ecc)
5379        																	--	3: N.ro di allegato rappresentato dal documento
5380        																	--	4: Diplayname del file che costituisce l'ultima versione valida del documento
5381        																	--	5: N.ro di versione del file che costituisce l'ultima versione valida del documento
5382        																	--	6: (valori 1/0) Indica se l'ultima versione valida è pubblicata o meno
5383        																	--	7: Diplayname del file che costituisce l'ultima versione valida e pubblicata del documento
5384        																	--	8: N.ro di versione del file che costituisce l'ultima versione valida e pubblicata del documento
5385        			FlgAbilUpdOut			OUT		PLS_INTEGER,					-- (valori 1/0) Indica se l'utenza di lavoro è abilitata alla modifica dei permessi dell'unità documentaria
5386        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5387        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5388        			ErrMsgOut				OUT 		VARCHAR2)						-- Messaggio d'errore
5389        			return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5390        
5391        
5392        	/**********serve a settare i dati dell'ACL di un'unità documentaria nonchè tutti i dati correlati al controllo degli accessi sulla stessa (ereditarietà permessi ecc.) ******/
5393        	function SetACLUD(
5394        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
5395        																	-- (obblig). Codice identificativo del token di connessione
5396        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5397        			IdUDIn				IN		DMT_UNITA_DOC.ID_UD%type,			--(obblig.) Id. dell'unità documentaria di cui settare i dati di controllo accesso
5398        			FlgEreditarietaConsentitaIn	IN		PLS_INTEGER DEFAULT dmpk_utility.GetValConfigParamNumber(1, NULL, 'NUM_VAL_NO_UPD'),
5399        																	-- (valori 1/0) Se 1 all'unità documentaria è consentito ereditare i permessi da un folder o workspace che la contiene, altrimenti no
5400        			FlgTipoOggEreditaDaIn		IN		VARCHAR2 DEFAULT dmpk_utility.GetValConfigParamText(1, NULL, 'STR_VAL_NO_UPD'),
5401        																	-- (valori F/W/NULL) Indica se devono essere ereditati i permessi da un folder (=F) o da un workspace (=W) che contiene l'unità documentaria
5402        			IdOggEreditaDaIn			IN		INTEGER DEFAULT dmpk_utility.GetValConfigParamNumber(1, NULL, 'NUM_VAL_NO_UPD'),
5403        																	-- Identificativo (ID_FOLDER o ID_WORKSPACE) dell'eventuale oggetro da cui devono essere ereditati i permessi
5404        			FlgModACLIn				IN		VARCHAR2 DEFAULT 'I',				-- (valori I/C) Indica se le ACE indicate nell'argomento successivo sono fornite in modo incrementale (=I) (solo quelle da aggiungere) oppure completo (=C), vale a dire che dovranno soppiantare tutte quelle già presenti (tranne le ACE ereditate)
5405        			ACLXMLIn				IN		CLOB,							-- Lista con le entry (ACE) dell'ACL dell'unità documentaria (xml comforme a schema LISTA_STD.xsd)
5406        																	-- Ciscuna ACE è un tag "Riga" che contiene le seguenti colonne:
5407        																	--	1: (obblig.) Indicatore del tipo di destinatario del permesso
5408        																	--		Valori possibili:
5409        																	--			SP	= Soggetto produttore  
5410        																	-- 			AOO	= AOO 
5411        																	-- 			UT 	= Utente
5412        																	--			SV	= Scrivania virtuale
5413        																	--			UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
5414        																	--			G	= Gruppo
5415        																	--			R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
5416        																	--	2: Identificativo del destinatario del permesso
5417        																	--		è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
5418        																	--		è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
5419        																	--		è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
5420        																	--		è un ID_USER di DMT_USERS se colonna 1 =UT
5421        																	--		è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
5422        																	--		è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
5423        																	--	3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5424        																	--	4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
5425        																	--	5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5426        																	--	6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5427        																	--	7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
5428        																	--	8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
5429        																	--	9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
5430        																	--	10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
5431        																	--	11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5432        																	--		Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5433        																	--	12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5434        																	--		Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5435        																	--	13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
5436        																	--	14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5437        																	--	15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5438        																	--	16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
5439        																	--	17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5440        																	--	18:(valori 1/0/NULL) Indica se la visualizzazione dei file è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5441        																	--	19:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5442        																	--	20:(valori 1/0/NULL) Indica se la modifica (intendendo anche il versioning) dei file è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5443        																	--	21:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5444        																	--	22:(valori 1/0/NULL) Indica se la copia dell'unità doc. è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5445        																	--	23:(valori 1/0/NULL) Indica se l'eliminazione dell'unità doc. è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5446        																	--	24:(valori 1/0/NULL) Indica se il ripristino dell'unità doc. eliminata è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
5447        																	--	25:(valori 1/NULL) Se 1 indica se l'accesso agli eventuali file è relativo alle sole versioni pubblicate
5448        																	--	26: Lista degli identificativi (ID_DOC) dei documenti (separati da |*|) sui cui file associati è assentita o negata la visualizzazione. 
5449        																	--		ATTENZIONE: Se vuota la visibilità è assentita o negata sui file di tutti i documenti.
5450        																	--	27: Lista degli identificativi (ID_DOC) dei documenti (separati da |*|) sui cui file associati è assentita o negata la modifica. 
5451        																	--		ATTENZIONE: Se vuota la modifica è assentita o negata sui file di tutti i documenti.
5452        																	-- 	28: Indica su quali file dell'unità documentaria l'accesso è limitato alle loro versioni pubblicate: è una lista di ID_DOC (dei documenti con file dell'unità doc.) separati da |*|
5453        																	--		ATTENZIONE: Se vuota e se colonna 25=1 significa che l'accesso è limitato alle versioni pubblicate per tutti i file 
5454        																	--	30: (valori 1/NULL) Se 1 è una entry ereditata	
5455        			URIXmlOut				OUT		NOCOPY CLOB,					-- Lista con gli URI delle versioni elettroniche dei documenti dell'unità doc. il cui profilo va aggiornato sui container a seguito dell'operazione di aggiornamento permessi (xml conforme a schema LISTA_STD.xsd)
5456        																	-- Ogni versione è un tag Riga che contiene le seguenti colonne: 
5457        																	-- 1:	Identificativo del documento cui è relativa la versione
5458        																	-- 2:	N.ro progressivo della versione
5459        																	-- 3: URI della versione
5460        			FlgIgnoreWarningIn 		IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 0 o NULL significa che in presenza di WARNING la stored si comporta come in caso di errore; se 1 gli WARNING vengono ignorati
5461        			FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
5462        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
5463        			FlgAutoCommitIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
5464        			WarningMsgOut			OUT		VARCHAR2,						-- Messaggio di warning (valorizzato solo se non c'è errore)
5465        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5466        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5467        			ErrMsgOut				OUT 		VARCHAR2,						-- Messaggio d'errore
5468        			FlgCallByGUIIn			IN		PLS_INTEGER DEFAULT 1				-- (1/0/NULL) Se 1 l'API che chiama la stored è chiamata dalla GUI di una web application per cui gli id. dei soggetti non vengono considerati se non sono popolati anche altri campi visibili a video o se non sono congruenti con i valori dei campi stessi
5469        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine (senza warning), altrimenti 0 (in caso di errore o warning)
5470        
5471        	/*********** funzione per ottenere i permessi che un'unità documentaria eredita da un dato folder o workspace **********/
5472        	function  GetInheritedACLxUD(
5473        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
5474        																	-- (obblig). Codice identificativo del token di connessione
5475        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5476        			FlgTipoOggEreditaDaIn		IN		VARCHAR2,						-- (obblig. valori F/W/NULL) Indica se devono essere ereditati i permessi da un folder (=F) o da un workspace (=W) che contiene l'unità documentaria
5477        			IdOggEreditaDaIn			IN		INTEGER,						-- (obblig.) Identificativo (ID_FOLDER o ID_WORKSPACE) dell'oggetto da cui devono essere ereditati i permessi
5478        			ACLXMLOut				OUT		NOCOPY CLOB,					-- Lista con le entry (ACE) ereditate (xml comforme a schema LISTA_STD.xsd)
5479        																	-- Ciscuna ACE è un tag "Riga" che contiene le seguenti colonne:
5480        																	--	1: (obblig.) Indicatore del tipo di destinatario del permesso
5481        																	--		Valori possibili:
5482        																	--			SP	= Soggetto produttore  
5483        																	-- 			AOO	= AOO 
5484        																	-- 			UT 	= Utente
5485        																	--			SV	= Scrivania virtuale
5486        																	--			UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
5487        																	--			G	= Gruppo
5488        																	--			R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
5489        																	--	2: Identificativo del destinatario del permesso
5490        																	--		è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
5491        																	--		è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
5492        																	--		è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
5493        																	--		è un ID_USER di DMT_USERS se colonna 1 =UT
5494        																	--		è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
5495        																	--		è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
5496        																	--	3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5497        																	--	4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
5498        																	--	5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5499        																	--	6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5500        																	--	7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
5501        																	--	8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
5502        																	--	9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
5503        																	--	10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
5504        																	--	11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5505        																	--		Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5506        																	--	12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5507        																	--		Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5508        																	--	13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
5509        																	--	14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5510        																	--	15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5511        																	--	16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
5512        																	--	17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5513        																	--	18:(valori 1/0/NULL) Indica se la visualizzazione dei file è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5514        																	--	19:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5515        																	--	20:(valori 1/0/NULL) Indica se la modifica (intendendo anche il versioning) dei file è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5516        																	--	21:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5517        																	--	22:(valori 1/0/NULL) Indica se la copia dell'unità doc. è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5518        																	--	23:(valori 1/0/NULL) Indica se l'eliminazione dell'unità doc. è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5519        																	--	24:(valori 1/0/NULL) Indica se il ripristino dell'unità doc. eliminata è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
5520        																	--	25:(valori 1/NULL) Se 1 indica se l'accesso agli eventuali file è relativo alle sole versioni pubblicate
5521        																	--	26: non valorizzata
5522        																	--	27: non valorizzata
5523        																	-- 	28: non valorizzata
5524        																	--	29: Dati identificativi del destinatario del permesso
5525        																	--    30: (valori fisso 1) Flag di ACE ereditata
5526        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5527        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5528        			ErrMsgOut				OUT 		VARCHAR2						-- Messaggio d'errore
5529        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0 (in caso di errore)
5530        
5531        	/**********estrae i dati dell'ACL di un folder nonchè tutti i dati correlati al controllo degli accessi sullo stesso (ereditarietà permessi ecc.) ******/
5532        	function LoadACLFolder(
5533        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
5534        																	-- (obblig). Codice identificativo del token di connessione
5535        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5536        			IdFolderIn				IN		DMT_FOLDER.ID_FOLDER%type,			--(obblig.) Id. del folder di cui estrarre i dati di controllo accesso
5537        			FlgEreditarietaPossibileOut	OUT		PLS_INTEGER,					-- (valori 1/0) Se 1 è possibile (in base a quelli che sono i folder contenitore) che il folder erediti i permessi da un folder che lo contiene
5538        			FlgEreditarietaConsentitaOut	OUT		PLS_INTEGER,					-- (valori 1/0) Se 1 al folder è consentito ereditare i permessi da un folder che lo contiene, altrimenti no
5539        			IdFolderEreditaDaOut		OUT		INTEGER,						-- Identificativo (ID_FOLDER) dell'eventuale folder da cui attualmente vengono ereditati i permessi
5540        			DesFolderEreditaDaOut		OUT		VARCHAR2,						-- Descrizione (path, comprensivo di libreria, e nome) dell'eventuale folder da cui attualmente vengono ereditati i permessi				
5541        			IdFolderPossibileEredDaOut	OUT		INTEGER,						-- Identificativo (ID_FOLDER) del folder contenitore che è l'unico da cui può ereditare i permessi
5542        			DesFolderPossibileEredDaOut	OUT		VARCHAR2,						-- Descrizione (path, comprensivo di libreria, e nome) del folder contenitore che è l'unico da cui può ereditare i permessi				
5543        			FlgPropagazioneConsentitaOut	OUT		PLS_INTEGER,					-- (valori 1/0) Se 1 al folder è consentito propagare i permessi alle unità documentarie e sub-folder contenuti, altrimenti no
5544        			ACLXMLOut				OUT		NOCOPY CLOB,					-- Lista con le entry (ACE) dell'ACL del folder (xml comforme a schema LISTA_STD.xsd)
5545        																	-- Ciscuna ACE è un tag "Riga" che contiene le seguenti colonne:
5546        																	--	1: (obblig.) Indicatore del tipo di destinatario del permesso
5547        																	--		Valori possibili:
5548        																	--			SP	= Soggetto produttore  
5549        																	-- 			AOO	= AOO 
5550        																	-- 			UT 	= Utente
5551        																	--			SV	= Scrivania virtuale
5552        																	--			UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
5553        																	--			G	= Gruppo
5554        																	--			R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
5555        																	--	2: Identificativo del destinatario del permesso
5556        																	--		è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
5557        																	--		è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
5558        																	--		è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
5559        																	--		è un ID_USER di DMT_USERS se colonna 1 =UT
5560        																	--		è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
5561        																	--		è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
5562        																	--	3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5563        																	--	4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
5564        																	--	5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5565        																	-- 		o codice rapido del gruppo (se ha un corrispondente gruppo di soggetti rubrica) o dell'utente
5566        																	--	6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5567        																	--	7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
5568        																	--	8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
5569        																	--	9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
5570        																	--	10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
5571        																	--	11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5572        																	--		Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5573        																	--	12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5574        																	--		Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5575        																	--	13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
5576        																	--	14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5577        																	--	15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5578        																	--	16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
5579        																	--	17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5580        																	--	18:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5581        																	--	19:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5582        																	--	20:(valori 1/0/NULL) Indica se la copia del folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5583        																	--	21:(valori 1/0/NULL) Indica se l'eliminazione del folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5584        																	--	22:(valori 1/0/NULL) Indica se il ripristino del folder eliminato è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
5585        																	--	23:(valori 1/0/NULL) Indica se la modifica del contenuto di unità documentarie è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5586        																	--	24:(valori 1/0/NULL) Indica se la modifica del contenuto di folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5587        																	--	29: Dati identificativi del destinatario del permesso
5588        																	--    30: (valori 1/0) Flag di ACE ereditata
5589        																	-- 31: Descrizione estesa del destinatario del permesso
5590        																	-- 32: (valori 1/0) Se 1 indica che il destinatario del permesso è anche assegnatario del folder
5591        																	-- 33: (valori 1/0) Se 1 indica che il destinatario del permesso è anche uno che ha una notifica (tipicamente invio cc) del folder
5592        			FlgAbilUpdOut			OUT		PLS_INTEGER,					-- (valori 1/0) Indica se l'utenza di lavoro è abilitata alla modifica dei permessi del folder
5593        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5594        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5595        			ErrMsgOut				OUT 		VARCHAR2)						-- Messaggio d'errore
5596        			return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5597        
5598        	/*********** funzione per ottenere i permessi che un folder eredita da un dato folder cui appartiene **********/
5599        	function  GetInheritedACLxFolder(
5600        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
5601        																	-- (obblig). Codice identificativo del token di connessione
5602        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5603        			IdFolderEreditaDaIn		IN		INTEGER,						-- (obblig.) Identificativo (ID_FOLDER) del folder da cui devono essere ereditati i permessi
5604        			ACLXMLOut				OUT		NOCOPY CLOB,					-- Lista con le entry (ACE) ereditate (xml comforme a schema LISTA_STD.xsd)
5605        																	-- Ciscuna ACE è un tag "Riga" che contiene le seguenti colonne:
5606        																	--	1: (obblig.) Indicatore del tipo di destinatario del permesso
5607        																	--		Valori possibili:
5608        																	--			SP	= Soggetto produttore  
5609        																	-- 			AOO	= AOO 
5610        																	-- 			UT 	= Utente
5611        																	--			SV	= Scrivania virtuale
5612        																	--			UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
5613        																	--			G	= Gruppo
5614        																	--			R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
5615        																	--	2: Identificativo del destinatario del permesso
5616        																	--		è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
5617        																	--		è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
5618        																	--		è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
5619        																	--		è un ID_USER di DMT_USERS se colonna 1 =UT
5620        																	--		è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
5621        																	--		è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
5622        																	--	3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5623        																	--	4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
5624        																	--	5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5625        																	--	6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5626        																	--	7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
5627        																	--	8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
5628        																	--	9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
5629        																	--	10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
5630        																	--	11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5631        																	--		Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5632        																	--	12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5633        																	--		Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5634        																	--	13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
5635        																	--	14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5636        																	--	15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5637        																	--	16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
5638        																	--	17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5639        																	--	18:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5640        																	--	19:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5641        																	--	20:(valori 1/0/NULL) Indica se la copia del folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5642        																	--	21:(valori 1/0/NULL) Indica se l'eliminazione del folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5643        																	--	22:(valori 1/0/NULL) Indica se il ripristino del folder eliminato è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
5644        																	--	23:(valori 1/0/NULL) Indica se la modifica del contenuto di unità documentarie è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5645        																	--	24:(valori 1/0/NULL) Indica se la modifica del contenuto di folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5646        																	--	29: Dati identificativi del destinatario del permesso
5647        																	--    30: (valori fisso 1) Flag di ACE ereditata
5648        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5649        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5650        			ErrMsgOut				OUT 		VARCHAR2						-- Messaggio d'errore
5651        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0 (in caso di errore)
5652        
5653        	/**********serve a settare i dati dell'ACL di un folder nonchè tutti i dati correlati al controllo degli accessi sulla stessa (ereditarietà permessi ecc.) ******/
5654        	function SetACLFolder(
5655        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
5656        																	-- (obblig). Codice identificativo del token di connessione
5657        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5658        			IdFolderIn				IN		DMT_FOLDER.ID_FOLDER%type,			--(obblig.) Id. del folder di cui settare i dati di controllo accesso
5659        			FlgEreditarietaConsentitaIn	IN		PLS_INTEGER DEFAULT dmpk_utility.GetValConfigParamNumber(1, NULL, 'NUM_VAL_NO_UPD'),
5660        																	-- (valori 1/0) Se 1 al folder è consentito ereditare i permessi da un folder che lo contiene, altrimenti no
5661        			IdFolderEreditaDaIn		IN		DMT_FOLDER.ID_FOLDER%type DEFAULT dmpk_utility.GetValConfigParamNumber(1, NULL, 'NUM_VAL_NO_UPD'),
5662        																	-- Identificativo (ID_FOLDER) dell'eventuale folder superiore da cui devono essere ereditati i permessi
5663        			FlgPropagazioneConsentitaIn	IN		PLS_INTEGER DEFAULT dmpk_utility.GetValConfigParamNumber(1, NULL, 'NUM_VAL_NO_UPD'),
5664        																	-- (valori 1/0) Se 1 al folder è consentito propagare i permessi alle unità documentarie e sub-folder contenuti, altrimenti no
5665        			FlgModACLIn				IN		VARCHAR2 DEFAULT 'I',				-- (valori I/C) Indica se le ACE indicate nell'argomento successivo sono fornite in modo incrementale (=I) (solo quelle da aggiungere) oppure completo (=C), vale a dire che dovranno soppiantare tutte quelle già presenti (tranne le ACE ereditate)
5666        			ACLXMLIn				IN		CLOB,							-- Lista con le entry (ACE) dell'ACL del folder (xml comforme a schema LISTA_STD.xsd)
5667        																	-- Ciscuna ACE è un tag "Riga" che contiene le seguenti colonne:
5668        																	--	1: (obblig.) Indicatore del tipo di destinatario del permesso
5669        																	--		Valori possibili:
5670        																	--			SP	= Soggetto produttore  
5671        																	-- 			AOO	= AOO 
5672        																	-- 			UT 	= Utente
5673        																	--			SV	= Scrivania virtuale
5674        																	--			UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
5675        																	--			G	= Gruppo
5676        																	--			R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
5677        																	--	2: Identificativo del destinatario del permesso
5678        																	--		è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
5679        																	--		è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
5680        																	--		è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
5681        																	--		è un ID_USER di DMT_USERS se colonna 1 =UT
5682        																	--		è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
5683        																	--		è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
5684        																	--	3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5685        																	--	4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
5686        																	--	5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5687        																	--	6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5688        																	--	7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
5689        																	--	8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
5690        																	--	9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
5691        																	--	10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
5692        																	--	11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5693        																	--		Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5694        																	--	12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5695        																	--		Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5696        																	--	13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
5697        																	--	14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5698        																	--	15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5699        																	--	16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
5700        																	--	17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5701        																	--	18:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5702        																	--	19:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5703        																	--	20:(valori 1/0/NULL) Indica se la copia del folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5704        																	--	21:(valori 1/0/NULL) Indica se l'eliminazione del folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5705        																	--	22:(valori 1/0/NULL) Indica se il ripristino del folder eliminato è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
5706        																	--	23:(valori 1/0/NULL) Indica se la modifica del contenuto di unità documentarie è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5707        																	--	24:(valori 1/0/NULL) Indica se la modifica del contenuto di folder è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5708        																	--	30: (valori 1/NULL) Se 1 è una entry ereditata	
5709        			URIxAggContainerOut		OUT		VARCHAR2,						-- URI del folder sul container.
5710        			FlgIgnoreWarningIn 		IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 0 o NULL significa che in presenza di WARNING la stored si comporta come in caso di errore; se 1 gli WARNING vengono ignorati
5711        			FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
5712        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
5713        			FlgAutoCommitIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
5714        			WarningMsgOut			OUT		VARCHAR2,						-- Messaggio di warning (valorizzato solo se non c'è errore)
5715        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5716        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5717        			ErrMsgOut				OUT 		VARCHAR2,						-- Messaggio d'errore
5718        			FlgCallByGUIIn			IN		PLS_INTEGER DEFAULT 1				-- (1/0/NULL) Se 1 l'API che chiama la stored è chiamata dalla GUI di una web application per cui gli id. dei soggetti non vengono considerati se non sono popolati anche altri campi visibili a video o se non sono congruenti con i valori dei campi stessi
5719        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine (senza warning), altrimenti 0 (in caso di errore o warning)
5720        
5721        	/**********estrae i dati dell'ACL di un workspace nonchè tutti i dati correlati al controllo degli accessi sullo stesso ***********/
5722        	function LoadACLWorkspace(
5723        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
5724        																	-- (obblig). Codice identificativo del token di connessione
5725        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5726        			IdWorkspaceIn			IN		DMT_WORKSPACES.ID_WORKSPACE%type,		--(obblig.) Id. del workspace di cui estrarre i dati di controllo accesso
5727        			FlgPropagazioneConsentitaOut	OUT		PLS_INTEGER,					-- (valori 1/0) Se 1 al workspace è consentito propagare i permessi alle unità documentarie contenute, altrimenti no
5728        			ACLXMLOut				OUT		NOCOPY CLOB,					-- Lista con le entry (ACE) dell'ACL del workspace (xml comforme a schema LISTA_STD.xsd)
5729        																	-- Ciscuna ACE è un tag "Riga" che contiene le seguenti colonne:
5730        																	--	1: (obblig.) Indicatore del tipo di destinatario del permesso
5731        																	--		Valori possibili:
5732        																	--			SP	= Soggetto produttore  
5733        																	-- 			AOO	= AOO 
5734        																	-- 			UT 	= Utente
5735        																	--			SV	= Scrivania virtuale
5736        																	--			UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
5737        																	--			G	= Gruppo
5738        																	--			R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
5739        																	--	2: Identificativo del destinatario del permesso
5740        																	--		è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
5741        																	--		è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
5742        																	--		è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
5743        																	--		è un ID_USER di DMT_USERS se colonna 1 =UT
5744        																	--		è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
5745        																	--		è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
5746        																	--	3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5747        																	--	4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
5748        																	--	5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5749        																	-- 		o codice rapido del gruppo (se ha un corrispondente gruppo di soggetti rubrica) o dell'utente
5750        																	--	6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5751        																	--	7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
5752        																	--	8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
5753        																	--	9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
5754        																	--	10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
5755        																	--	11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5756        																	--		Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5757        																	--	12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5758        																	--		Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5759        																	--	13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
5760        																	--	14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5761        																	--	15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5762        																	--	16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
5763        																	--	17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5764        																	--	18:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5765        																	--	19:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5766        																	--	20:(valori 1/0/NULL) Indica se l'eliminazione del workspace è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5767        																	--	21:(valori 1/0/NULL) Indica se il ripristino del workspace eliminato è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
5768        																	--	22:(valori 1/0/NULL) Indica se la modifica del contenuto è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5769        																	--	29: Dati identificativi del destinatario del permesso
5770        																	--    30: (valori 1/0) Flag di ACE ereditata
5771        			FlgAbilUpdOut			OUT		PLS_INTEGER,					-- (valori 1/0) Indica se l'utenza di lavoro è abilitata alla modifica dei permessi del workspace
5772        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5773        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5774        			ErrMsgOut				OUT 		VARCHAR2)						-- Messaggio d'errore
5775        			return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine, altrimenti 0
5776        
5777        	/**********serve a settare i dati dell'ACL di un workspace nonchè tutti i dati correlati al controllo degli accessi sullo stesso (propagazione permessi ecc.) ******/
5778        	function SetACLWorkspace(
5779        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
5780        																	-- (obblig). Codice identificativo del token di connessione
5781        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5782        			IdWorkspaceIn			IN		DMT_WORKSPACES.ID_WORKSPACE%type,		--(obblig.) Id. del workspace di cui settare i dati di controllo accesso
5783        			FlgPropagazioneConsentitaIn	IN		PLS_INTEGER DEFAULT dmpk_utility.GetValConfigParamNumber(1, NULL, 'NUM_VAL_NO_UPD'),
5784        																	-- (valori 1/0) Se 1 al workspace è consentito propagare i permessi alle unità documentarie contenute, altrimenti no
5785        			FlgModACLIn				IN		VARCHAR2 DEFAULT 'I',				-- (valori I/C) Indica se le ACE indicate nell'argomento successivo sono fornite in modo incrementale (=I) (solo quelle da aggiungere) oppure completo (=C), vale a dire che dovranno soppiantare tutte quelle già presenti
5786        			ACLXMLIn				IN		CLOB,							-- Lista con le entry (ACE) dell'ACL del workspace (xml comforme a schema LISTA_STD.xsd)
5787        																	-- Ciscuna ACE è un tag "Riga" che contiene le seguenti colonne:
5788        																	--	1: (obblig.) Indicatore del tipo di destinatario del permesso
5789        																	--		Valori possibili:
5790        																	--			SP	= Soggetto produttore  
5791        																	-- 			AOO	= AOO 
5792        																	-- 			UT 	= Utente
5793        																	--			SV	= Scrivania virtuale
5794        																	--			UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
5795        																	--			G	= Gruppo
5796        																	--			R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
5797        																	--	2: Identificativo del destinatario del permesso
5798        																	--		è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se colonna 1 è SP o AOO
5799        																	--		è un ID_UO di DMT_STRUTTURA_ORG se colonna 1=UO,
5800        																	--		è un ID_GRUPPO di DMT_GRUPPI se colonna 1 =G
5801        																	--		è un ID_USER di DMT_USERS se colonna 1 =UT
5802        																	--		è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se colonna 1 =SV
5803        																	--		è un ID_RUOLO_AMM di DMT_RUOLI_AMM se colonna 1 =R
5804        																	--	3: Denominazione/nome del destinatario del permesso (se trattasi di UO può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5805        																	--	4: Identificativo della UO cui appartiene la scrivania destinataria del permesso 
5806        																	--	5: Nri livello della UO destinataria del permesso o a cui appartiene la scrivania destinataria (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5807        																	--	6: Denominazione della UO cui appartiene la scrivania destinataria del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5808        																	--	7: Codice che identifica nell'applicazione esterna da cui ci si connette l'utente destinatario del permesso o quello che occupa la scrivania destinataria del permesso
5809        																	--	8: Denominazione dell'utente che occupa la scrivania destinataria del permesso
5810        																	--	9: (valore 1) Indica che il destinatario del permesso, se UO, sono anche tutte le sue sotto-UO
5811        																	--	10: (valori interi da 1 a n) Livello della struttura organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso
5812        																	--	11: Se colonna 1 =R: Codice del tipo di unità organizzativa in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5813        																	--		Se colonna 1 =UT o SV: Username (delle credenziali locali) dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5814        																	--	12: Se colonna 1 =R: Descrizione del tipo di unità organizzativa (es: settore, servizio, ecc) in cui si espleta il ruolo amministrativo destinatario del permesso (alternativo alla colonna 10)
5815        																	--		Se colonna 1 =UT o SV: N.ro di matricola dell'utente destinatario del permesso o che occupa la scrivania destinataria del permesso
5816        																	--	13: Identificativo della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso
5817        																	--	14: Denominazione/nome della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
5818        																	--	15: Nri livello della UO in cui si espleta il ruolo amministrativo destinatario del permesso o dalla quale risalire alla/e UO del livello/tipo indicati in cui si espleta il ruolo amministrativo destinatario del permesso (tutti o alcuni; però se si specifica un livello è obbligatorio indicare tutti i livelli superiori; vanno specificati come appaiono nella GUI, ovvero romani se previsto, 0 o -- se nulli; sono separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
5819        																	--	16:(valore 1) Indica che il ruolo amministrativo destinatario del permesso si espleta anche nelle sotto-UO della/e UO rintracciate tramite i valori delle 3 colonne precedenti
5820        																	--	17:(valori 1/0/NULL) Indica se la visualizzazione dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5821        																	--	18:(valori 1/0/NULL) Indica se la modifica dei metadati è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5822        																	--	19:(valori 1/0/NULL) Indica se la modifica dell'ACL è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5823        																	--	20:(valori 1/0/NULL) Indica se l'eliminazione del workspace è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5824        																	--	21:(valori 1/0/NULL) Indica se il ripristino del workspace eliminato è assentito (1) o negato (0) o se nulla è specificato in merito(NULL)
5825        																	--	22:(valori 1/0/NULL) Indica se la modifica del contenuto è assentita (1) o negata (0) o se nulla è specificato in merito(NULL)
5826        			URIxAggContainerOut		OUT		VARCHAR2,						-- URI del workspace sul container.
5827        			FlgIgnoreWarningIn 		IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 0 o NULL significa che in presenza di WARNING la stored si comporta come in caso di errore; se 1 gli WARNING vengono ignorati
5828        			FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
5829        																	-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
5830        			FlgAutoCommitIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
5831        			WarningMsgOut			OUT		VARCHAR2,						-- Messaggio di warning (valorizzato solo se non c'è errore)
5832        			ErrContextOut			OUT		VARCHAR2,						-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5833        			ErrCodeOut				OUT		PLS_INTEGER,					-- N.ro errore di uscita
5834        			ErrMsgOut				OUT 		VARCHAR2,						-- Messaggio d'errore
5835        			FlgCallByGUIIn			IN		PLS_INTEGER DEFAULT 1				-- (1/0/NULL) Se 1 l'API che chiama la stored è chiamata dalla GUI di una web application per cui gli id. dei soggetti non vengono considerati se non sono popolati anche altri campi visibili a video o se non sono congruenti con i valori dei campi stessi
5836        			) return PLS_INTEGER;											-- Vale 1 se tutto è andato a buon fine (senza warning), altrimenti 0 (in caso di errore o warning)
5837        
5838        	/**** funzione per testare se il nome dell'ultima versione elettronica di un documento coincide con il nome dell'unità documentaria *****/
5839        	function TestNomeUDIsFileNameLastVerDoc(
5840        			IdDocIn				IN		DMT_DOCUMENTS.ID_DOC%type)			--(obblig.) Id. del documento
5841        			return PLS_INTEGER;											-- restituisce 1 se il doc. è il primario dell'unità doc. e se il nome della sua ultima versione elettronica coincide con il nome dell'unità documentaria, altrimenti 0
5842        
5843        
5844        	/*********** aggiorna nella tabella DMT_INFO_X_INDEXER l'attributo dei nominativi esterni del documento in input 	******/
5845        	procedure SetAttrNomEstDocXIndexer(
5846        			IdDocIn				IN		DMT_DOCUMENTS.ID_DOC%type);			-- (obblig) Id. del documento di cui aggiornare l'attributo "NOMINATIVI ESTERNI" per l'indicizzatore esterno
5847        
5848        	/*********** aggiorna nella tabella DMT_INFO_X_INDEXER l'attributo dei nominativi esterni del folder in input 	******/
5849        	procedure SetAttrNomEstFolderXIndexer(
5850        			IdFolderIn				IN		DMT_FOLDER.ID_FOLDER%type);			-- (obblig) Id. del folder di cui aggiornare l'attributo "NOMINATIVI ESTERNI" per l'indicizzatore esterno
5851        
5852        	/*********** funzione per testare nell'ACL di un UD, folder o workspace vi è una entry relativa ad un dato soggetto interno ******/
5853        	function TestIsInACL(
5854        			ObjTyACLOfIn			IN		VARCHAR2,						-- (obblig.) Indica il tipo di oggetto cui è relativa l'ACL; valori ammessi:
5855        																	--	U = Unità documentaria
5856        																	--	F = Folder
5857        																	--	W = Workspace
5858        			IdObjACLOfIn			IN		INTEGER,						-- (obblig.) Identificativo (ID_UD o ID_FOLDER o ID_WORKSPACE) dell'oggetto cui è relativa l'ACL
5859        			FlgTySoggToTestIn			IN		VARCHAR2,						-- (obblig.) Indicatore del tipo di soggetto interno 
5860        																	--		Valori possibili:
5861        																	--			SP	= Soggetto produttore  
5862        																	-- 			AOO	= AOO 
5863        																	-- 			UT 	= Utente
5864        																	--			SV	= Scrivania virtuale
5865        																	--			UO	= Unità organizzativa (vale a dire tutte le scrivanie virtuali ad essa afferenti)
5866        																	--			G	= Gruppo
5867        																	--			R	= Ruolo amministrativo contestualizzato ovvero i soggetti che hanno un certo ruolo amministrativo (eventualmente rispetto ad una certa UO o un dato livello della struttura organizzativa/tipo di UO o entrambi)
5868        			IdSoggToTestIn			IN		INTEGER,						-- (obblig.) Identificativo del soggetto interno 
5869        																	--		è un ID_SP_AOO di DMT_SOGGETTI_PROD_AOO se FlgTySoggToTestIn è SP o AOO
5870        																	--		è un ID_UO di DMT_STRUTTURA_ORG se FlgTySoggToTestIn =UO,
5871        																	--		è un ID_GRUPPO di DMT_GRUPPI se FlgTySoggToTestIn =G
5872        																	--		è un ID_USER di DMT_USERS se FlgTySoggToTestIn =UT
5873        																	--		è un ID_SCRIVANIA di DMT_SCRIVANIE_VIRTUALI se FlgTySoggToTestIn =SV
5874        																	--		è un ID_RUOLO_AMM di DMT_RUOLI_AMM se FlgTySoggToTestIn =R
5875        			RuoloVsIdUOIn			IN		INTEGER DEFAULT NULL				-- Id. della UO in cui deve espletari il ruolo
5876        			) return PLS_INTEGER;											-- restituisce 1 se la entry c'è, altrimenti 0
5877        
5878        	/******* Funzione per verificare se un fascicolo (o sotto-fascicolo o inserto) basato sul titolario esiste in archivio e vi è identificabile univocamente							******/
5879        	/******* è possibile (richiedendolo con apposito input) far sì che i dati siano restituiti completando i dati che in input mancavano con quelli del fascicolo trovato in archivio	******/
5880        	function FindFascTitolario(
5881        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
5882        																-- (obblig). Codice identificativo del token di connessione
5883        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	
5884        																-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5885        			DatiFascicoloXMLIO		IN OUT	NOCOPY CLOB,		-- Dati del fascicolo  (tag XML fatto come un tag "Riga" dello schema LISTA_STD.xsd)
5886        																-- Le colonne che mancano del tutto o che non sono valorizzate sono campi che per il fascicolo da trovare possono assumere qualsiasi valore
5887        																-- Le colonne possibili sono:
5888        																-- 1:  Nome del fascicolo
5889        																-- 2:  Anno di apertura del fascicolo (se è un sotto-fasc o un inserto questo è l'anno di apertura del fascicolo di appartenenza)
5890        																-- 3:  Id. della classificazione
5891        																-- 4:  Indice di classificazione (come visualizzato nelle GUI) o id. indice come inteso in eGrammata
5892        																-- 5:  N.ro progr. del fascicolo
5893        																-- 6:  N.ro progressivo del sottofascicolo
5894        																-- 7:  N.ro inserto
5895        																-- 8:  Id. folder del fascicolo
5896        																-- 9:  Data di apertura del fascicolo/sottofascicolo/inserto (nel formato DD/MM/RRRR)
5897        																-- 10: Id. del piano di classificazione della classifica
5898        																-- 11: N.ro secondario (match case-insensitive) 
5899        																-- 12: Livello di riservatezza
5900        																-- 13: Estremi capofila
5901        			FlgSoloAssegnabiliIn		IN		PLS_INTEGER DEFAULT 1,			
5902        																-- (valori 1/0/NULL) Se 1 indica se il fascicolo deve essere uno che l'utente di lavoro può assegnare ad un unità documentaria
5903        			FlgCompletaDatiIn	IN		PLS_INTEGER DEFAULT 1,	-- (valori 1/0/NULL) Se 1 indica che qualora si identifichi univocamente il fascicolo (return 1) DatiFascicoloXMLIO viene restituito con i dati del fascicolo trovato
5904        			IdFolderOut			OUT		DMT_FOLDER.ID_FOLDER%type,	
5905        																-- ID_FOLDER del fascicolo trovato
5906        			ErrContextOut		OUT		VARCHAR2,				-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5907        			ErrCodeOut			OUT		PLS_INTEGER,			-- N.ro errore di uscita
5908        			ErrMsgOut			OUT 		VARCHAR2)			-- Messaggio d'errore
5909        			return PLS_INTEGER;									-- Vale 1 se il fascicolo è stato individuato univocamente, altrimenti 0
5910        
5911        	/******* Funzione per verificare se una pratica/fascicolo storico esiste in archivio di deposito/storico e vi è identificabile univocamente	******/
5912        	/******* La ricerca avviene passando in input gli estremi di protocollo generale o di settore che identificano la pratica/fascicolo			******/
5913        	/******* i dati sono restituiti completando i dati che in input mancavano con quelli del fascicolo trovato in archivio						******/
5914        	function FindFascInArchivio(
5915        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
5916        																-- (obblig). Codice identificativo del token di connessione
5917        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,	
5918        																-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5919        			DatiFascicoloXMLIO		IN OUT	NOCOPY CLOB,		-- Dati del fascicolo  (tag XML fatto come un tag "Riga" dello schema LISTA_STD.xsd)
5920        																-- Le colonne possibili sono:
5921        																-- 1)   (input/output) Tipo di identificativo dell’atto/pratica: PG (Prot. Gen.) , PS (Protocollo di settore)
5922        																-- 2)   (input/output) N° di protocollo
5923        																-- 3)   (input/output) Registro del protocollo di settore
5924        																-- 4)   (input/output) Anno di protocollo
5925        																-- 5)   (input/output) Sub
5926        																-- 6)	(output) Stato scansione: N (Non ancora scansionata), P (Parzialmente scansionata), C (Completamente scansionata)
5927        																-- 7)	(input/output) ID_FOLDER del folder corrispondente alla pratica
5928        																-- 8)	(output)Stato: con valori “non pervenuto in Cittadella”, “presente in Cittadella”, “prelevato e ancora da restituire”
5929        																-- 9)	(output)Unità di Carico (UDC) in cui si trova la pratica
5930        																-- 10)	(output)Denominazione ufficio che ha effettuato il prelievo
5931        																-- 11)	(output)Cod. dell’ufficio che ha effettuato il prelievo
5932        																-- 12)	(output)ID_UO che ha effettuato il prelievo
5933        																-- 13)	(output)Cognome responsabile prelievo
5934        																-- 14)	(output) Nome responsabile prelievo
5935        																-- 15)	(output)Username responsabile prelievo
5936        																-- 16)	(output)ID_USER responsabile prelievo
5937        																-- 17)	(output)Data prelievo (GG/MM/AAAA)
5938        																-- 18)	(output)Note uff. richiedente
5939        																-- 19)	(output)Note dell'archivio
5940        																-- 20)  (output)Classifica del fascicolo (anche storica, campo di testo libero)
5941        																-- 22)  (output) Competenza di Urbanistica
5942        																-- 23)  (output) Cartaceo reperibile
5943        																-- 24)	(output) Archivio in cui si trova il cartaceo
5944        			IdFolderOut			OUT		DMT_FOLDER.ID_FOLDER%type,	
5945        																-- ID_FOLDER del fascicolo trovato
5946        			ErrContextOut		OUT		VARCHAR2,				-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5947        			ErrCodeOut			OUT		PLS_INTEGER,			-- N.ro errore di uscita
5948        			ErrMsgOut			OUT 		VARCHAR2)			-- Messaggio d'errore
5949        			return PLS_INTEGER;									-- Vale 1 se il fascicolo è stato individuato univocamente, altrimenti 0
5950        
5951        	/****************procedure per togliere un'unità documentaria dalle bozze di tutti gli utenti ************/ 
5952        	procedure RimuoviUDDaBozze(
5953        			IdUDIn	DMT_UNITA_DOC.ID_UD%type);
5954        
5955        
5956        	/******* rimuove i lock impliciti scaduti relativi alla documentazione di un dato soggetto produttore/AOO o di tutti ********/
5957        	procedure RemoveLockImplicitiScaduti(
5958        			IdSPAOOIn				IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type	-- Identificativo del sogg. produttore o AOO per cui rimuovere i lock impliciti scaduti
5959        																					-- se non valorizzato si intende che la rimozione è relativa a tutti i sogg. produttori/AOO
5960        			);
5961        	/******* funzione per ottenere i parametri da passare al metodo Store di StorageUtil per archiviare su SharePoint il file corrispondente ad una certa versione di un dato documento *****/ 
5962        	function GetParamForStoreInSharePoint(
5963        			IdDocIn				IN		DMT_DOCUMENTS.ID_DOC%type,
5964        																-- (obblig.) Id. del documento cui è relativo il file da archiviare su SharePoint
5965        			DisplayFilenameIn   IN          VARCHAR2,           -- Nome del file (obbligatorio se è la prima versione)
5966                    MimeTypeIn          IN          VARCHAR2,           -- Mimetype del file (obbligatorio se è la prima versione)
5967                    ParametriXMLOut		OUT 	NOCOPY CLOB,			-- Parametri da passare al metodo Store di StorageUtil per archiviare il file su SharePoint. 
5968        																-- E' un xml conforme allo schema Lista_STD.xsd formato da una sola colonna
5969        			ErrContextOut		OUT		VARCHAR2,				-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5970        			ErrCodeOut			OUT		PLS_INTEGER,			-- N.ro errore di uscita
5971        			ErrMsgOut			OUT 	VARCHAR2)				-- Messaggio d'errore
5972        			return PLS_INTEGER;									-- Vale 1 se il fascicolo è stato individuato univocamente, altrimenti 0
5973        
5974        	/********** verifica se esiste già un file - versione di un documento - con l'impronta indicata (limitatamante al dominio corrispondente all'IdSPAOOIn se specificato) *****/
5975        	function TestPresenzaFile(
5976        			IdSPAOOIn			IN		DMT_SOGGETTI_PROD_AOO.ID_SP_AOO%type DEFAULT NULL,	
5977        																-- se NULL il test viene fatto su tutti i domini, altrimenti solo su quello con ID pari all'IdSpAOO specificato
5978        			ImprontaFileIn		In		VARCHAR2,				-- Impronta del file
5979        			AlgoritmoImprontaIn In		VARCHAR2,				-- Algoritmo di calcolo dell'impronta
5980        			EncodingImprontaIn	In		VARCHAR2,				-- Encoding con cui è calcolata l'impronta (hex o base64)
5981        			FlgIncludeVerAnnIn	In		PLS_INTEGER DEFAULT NULL,-- Se 1 vengono considerate le versioni annullate, altrimenti no
5982        			FlgFileEsistenteOut	OUT		PLS_INTEGER,			-- Se 1 significa che esiste almeno un file con quell'impronta, se 0 che non esiste
5983        			ErrContextOut		OUT		VARCHAR2,				-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
5984        			ErrCodeOut			OUT		PLS_INTEGER,			-- N.ro errore di uscita
5985        			ErrMsgOut			OUT 	VARCHAR2)				-- Messaggio d'errore
5986        			return PLS_INTEGER;									-- Vale 1 se il test è stato effettuato con successo, altrimenti 0
5987        
5988        	/************ funzione per svolgere una data operazione su UD di richiesta accesso agli atti	***************/
5989        	function SetAzioneSuRichAccessoAtti(
5990        		CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
5991        																				-- (obblig). Codice identificativo del token di connessione
5992        		IdUserLavoroIn				IN		DMT_USERS.ID_USER%type DEFAULT NULL,-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
5993        		CodOperazioneIn      		In		VARCHAR2,							-- (obblig.) Codice dell'operazione da fare. Valori emmaessi
5994        																				-- INVIO_IN_APPROVAZIONE  			Manda in approvazione
5995        																				-- APPROVAZIONE       				Approva
5996        																				-- INVIO_ESITO_VERIFICA_ARCHIVIO	Invia esito verifica al rich.
5997        																				-- ABILITA_APPUNTAMENTO_DA_AGENDA	Abilita appuntamento da Agenda
5998        																				-- SET_APPUNTAMENTO                 Fissa appuntamento
5999        																				-- ANNULLAMENTO_APPUNTAMENTO        Annulla appuntamento
6000        																				-- REGISTRA_PRELIEVO                Registra prelievo effettivo
6001        																				-- REGISTRA_RESTITUZIONE            Registra restituzione
6002        																				-- ANNULLAMENTO                     Annulla richiesta
6003        																				-- RIPRISTINO						Ripristina richiesta annullata riportandola allo stato di "inserita"
6004        																				-- CHIUSURA							Mette in stato "lavorazione conclusa" una richiesta arrivata a fine iter
6005        																				-- RIAPERTURA						Ripare una richiesta con stato "lavorazione conclusa" rimettendola nello stato precedente alla chiusura
6006        		ListaIdUDIn		  			IN    	CLOB,				 				-- (obblig.) Lista XML conforme a schema ListaSTD.xsd che contiene gli identificativi - ID_UD - delle richieste accesso atti su cui effettuare l'operazione indicata
6007        																				-- Ogni e-mail è un tag Riga; colonna 1 contiene l'ID_EMAIL, la 2 il campo PROGR_MSG (almeno uno dei 2 è obbligatorio)
6008        		DatiOperazioneIn			In		CLOB,								-- XML di tipo SezioneCache con i dati specifici a corredo del tipo di operazione richiesta.
6009        																				-- Le variabili/dati possibili sono:
6010        																				-- #DataAppuntamento	(nel formato dato dal parametro di conf. FMT_STD_DATA)
6011        																				-- #OrarioAppuntamento nel formato HH24:MI
6012        																				-- #DataPrelievo (nel formato dato dal parametro di conf. FMT_STD_DATA)	
6013        																				-- #DataRestituzionePrelievo (nel formato dato dal parametro di conf. FMT_STD_DATA)
6014        		MotiviIn					IN		VARCHAR2,							-- (facoltativo) Motivo/i dell'operazione
6015        		FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
6016        																				-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
6017        		FlgAutoCommitIn				IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
6018        		EsitiOut					OUT		NOCOPY CLOB,						-- Lista XML conforme a schema ListaSTD.xsd che contiene gli esiti dell'operazione su ciascuna richiesta-UD in input
6019        																				-- Ogni richiesta-UD corrisponde ad un tag riga con le colonne:
6020        																				-- 1: ID_UD della richiesta
6021        																				-- 2: Dati principali della richiesta (da mostrare come label)
6022        																				-- 3: Esito operazione: OK, KO
6023        																				-- 4: Messaggio di errore
6024        		ErrContextOut				OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
6025        		ErrCodeOut					OUT		PLS_INTEGER,						-- N.ro errore di uscita
6026        		ErrMsgOut					OUT 	VARCHAR2							-- Messaggio d'errore
6027        		) return PLS_INTEGER;													-- Vale 1 se non ci sono stati errori generali (vale a dire NON sulla singola richiesta-UD), altrimenti 0
6028        
6029        
6030        	/************ funzione per aggiornare i dati dei prelevi da archivio su un dato fascicolo in input ***************/
6031        	function OperPrelievoSuFascArchivio(
6032        		CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
6033        																				-- (obblig). Codice identificativo del token di connessione
6034        		IdUserLavoroIn				IN		DMT_USERS.ID_USER%type DEFAULT NULL,-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
6035        		IdFolderIn					In		DMT_FOLDER.ID_FOLDER%type,			-- (obblig.) Id folder del fascicolo per cui aggiornare i prelievi
6036        		CodOperazioneIn      		In		VARCHAR2,							-- (obblig.) Codice dell'operazione da fare. Valori emmaessi
6037        																				-- REGISTRA_PRELIEVO                Registra nuovo prelievo
6038        																				-- MODIFICA_PRELIEVO                Modifica dati ultimo prelievo
6039        																				-- ELIMINA_PRELIEVO                 Elimina l'ultimo prelievo
6040        																				-- REGISTRA_RESTITUZIONE            Registra restituzione
6041        		DatiOperazioneIn			In		CLOB,								-- XML di tipo SezioneCache con i dati specifici a corredo del tipo di operazione richiesta.
6042        																				-- Le variabili/dati possibili sono:
6043        																				-- #DataPrelievo (nel formato dato dal parametro di conf. FMT_STD_DATA)	
6044        																				-- #DataRestituzionePrelievo (nel formato dato dal parametro di conf. FMT_STD_DATA)
6045        																				-- #CodUOPrelievo
6046        																				-- #DesUOPrelievo
6047        																				-- #IdUOPrelievo
6048        																				-- #CognomeRespPrelievo
6049        																				-- #NomeRespPrelievo
6050        																				-- #IdUserRespPrelievo
6051        																				-- #UsernameRespPrelievo
6052        																				-- #NoteRichiedente
6053        																				-- #NoteArchivio
6054        		MotiviIn					IN		VARCHAR2,							-- (facoltativo) Motivo/i dell'operazione
6055        		FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
6056        																				-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
6057        		FlgAutoCommitIn				IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
6058        		ErrContextOut				OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
6059        		ErrCodeOut					OUT		PLS_INTEGER,						-- N.ro errore di uscita
6060        		ErrMsgOut					OUT 	VARCHAR2							-- Messaggio d'errore
6061        		) return PLS_INTEGER;													-- Vale 1 se non ci sono stati errori, altrimenti 0
6062        
6063        	/************ funzione per apporre/rifiutare la firma digitale sui file primario e parte integrante di un'unità doumentaria	***************/
6064        	/************ la funzione non va l'archiviazione dei file firmati che va fatta a parte prima di chiamare questa funzione	***************/
6065        	function FirmaDocumento(
6066        		CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
6067        																				-- (obblig). Codice identificativo del token di connessione
6068        		IdUserLavoroIn				IN		DMT_USERS.ID_USER%type DEFAULT NULL,-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
6069        		IdUDIn		  				IN    	DMT_UNITA_DOC.ID_UD%type,			-- (obblig.) Identificativo - ID_UD - dell'unità documentaria da firmare
6070        		FlgAppostaRifiutataIn		In		VARCHAR2,							-- (obblig., valori A/R) Indica se la firma è stato apposta (=A) o rifiutata (=R)
6071        		MessaggioIn					IN		VARCHAR2,							-- (facoltativo) Messaggio a corredo dell'apposizione/rifiuto della firma
6072        		FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
6073        																				-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
6074        		FlgAutoCommitIn				IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
6075        		TipoMittIntUDOut			OUT		VARCHAR2,							-- Tipo di mittente interno indicato sull'UD: UO o SV (Scrivania)
6076        		IdMittUDOut					OUT		INTEGER,							-- Id. dell'eventuale mittente interno indicato sull'UD: ID_UO o ID_SCRIVANIA
6077        		TipoMittUltimoInvioUDOut	OUT		VARCHAR2,							-- Tipo del mittente che ha mandato l'UD al firmatario: UO o SV (Scrivania)
6078        		IdMittUltimoInvioUDOut		OUT		INTEGER,							-- Id. del mittente che ha mandato l'UD al firmatario: ID_UO o ID_SCRIVANIA
6079        		ErrContextOut				OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
6080        		ErrCodeOut					OUT		PLS_INTEGER,						-- N.ro errore di uscita
6081        		ErrMsgOut					OUT 	VARCHAR2							-- Messaggio d'errore
6082        		) return PLS_INTEGER;													-- Vale 1 se non ci sono stati errori, altrimenti 0
6083        
6084        	/************ funzione per apporre/rifiutare/togliere il visto elettronico su/da un'unità doumentaria	***************/
6085        	function VistaDocumento(
6086        		CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
6087        																				-- (obblig). Codice identificativo del token di connessione
6088        		IdUserLavoroIn				IN		DMT_USERS.ID_USER%type DEFAULT NULL,-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
6089        		IdUDIn		  				IN    	DMT_UNITA_DOC.ID_UD%type,			-- (obblig.) Identificativo - ID_UD - dell'unità documentaria da vistare
6090        		FlgAppostoRifiutatoIn		In		VARCHAR2,							-- (obblig., valori A/R/T) Indica se il visto è stato apposto (=A) o rifiutato (=R) o se va tolto (T)
6091        		MessaggioIn					IN		VARCHAR2,							-- (facoltativo) Messaggio a corredo dell'apposizione/rifiuto del visto
6092        		FlgRollBckFullIn			IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
6093        																				-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
6094        		FlgAutoCommitIn				IN 		PLS_INTEGER DEFAULT NULL,			-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
6095        		TipoMittIntUDOut			OUT		VARCHAR2,							-- Tipo di mittente interno indicato sull'UD: UO o SV (Scrivania)
6096        		IdMittUDOut					OUT		INTEGER,							-- Id. dell'eventuale mittente interno indicato sull'UD: ID_UO o ID_SCRIVANIA
6097        		TipoMittUltimoInvioUDOut	OUT		VARCHAR2,							-- Tipo del mittente che ha mandato l'UD al visto: UO o SV (Scrivania)
6098        		IdMittUltimoInvioUDOut		OUT		INTEGER,							-- Id. del mittente che ha mandato l'UD al vaisto: ID_UO o ID_SCRIVANIA
6099        		ErrContextOut				OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
6100        		ErrCodeOut					OUT		PLS_INTEGER,						-- N.ro errore di uscita
6101        		ErrMsgOut					OUT 	VARCHAR2							-- Messaggio d'errore
6102        		) return PLS_INTEGER;													-- Vale 1 se non ci sono stati errori, altrimenti 0
6103        
6104        	---------- funzione per settare o resettare una o più numerazioni - protocollo, repertorio, RUF ecc - di una data unità documentaria
6105        	---------- se una numerazione della data categoria e registro già c'è viene aggiornata quella esistente, salvo che non sia una numerazione generata da Auriga nel qual caso viene dato errore
6106        	function SetRegNumUD(
6107        			CodIdConnectionTokenIn	IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,	-- (obblig). Codice identificativo del token di connessione
6108        			IdUserLavoroIn			IN		DMT_USERS.ID_USER%type DEFAULT NULL,			-- Id. dell'utente a nome di cui si inserisce il documento. Se non valorizzato è l'utente connesso
6109        			IdUDIn					IN		DMT_UNITA_DOC.ID_UD%type,						-- (obblig). Id. dell'unità documentaria di cui settare registrazioni/numerazioni
6110        			RegNumDateXMLIn			IN		CLOB,											-- XML ListaStd contenente le registrazioni/numerazioni date da settare o aggiornare
6111        																							-- se una numerazione della data categoria ed eventuale sigla registro già c'è viene rimossa e reimpostta (salvo sia una numerazione generata dal sistema, nel qual caso viene dato errore)
6112        																							--	Ciscuna riga della lista può contenere le seguenti colonne:
6113        																							--	1: (obblig.) Categoria di registrazione/numerazione; valori ammessi: PG = Protocollo Generale; PP = Protocollo Particolare; R = Repertorio; E = Registrazione d'emergenza; A = Altro tipo di numerazione
6114        																							--	2: Sigla di registrazione/numerazione
6115        																							--	3: (obblig. se non si indicano data e ora di registrazione) Anno di registrazione/numerazione
6116        																							--	4: (obblig.) N.ro di registrazione/numerazione
6117        																							--	5: Data e ora di registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
6118        																							--	6: Identificativo dell'utente che ha effettuato la registrazione/numerazione
6119        																							--	7: Codice che identifica l'utente che ha effettuato la registrazione/numerazione nell'applicazione esterna da cui ci si connette 
6120        																							--	8: Denominazione dell'utente che ha effettuato la registrazione/numerazione
6121        																							--	9: Identificativo della UO presso cui è stata effettuata la registrazione/numerazione
6122        																							--	10: Denominazione della UO presso cui è stata effettuata la registrazione/numerazione (può essere la denominazione semplice o preceduta da quella di tutte le UO superiori separate da "|")
6123        																							--	11: N.ri livello della UO presso cui è stata effettuata la registrazione/numerazione (tutti, separati dal separatore dei livelli valido per il soggetto produttore/AOO di appartenenza della UO)
6124        																							--	12: Codice che identifica la registrazione nel sistema in cui è stata data
6125        																							--	13: Data in cui decade la riservatezza data all'unità documentaria dalla data registrazione/numerazione (nel formato dato dal parametro di config. FMT_STD_DATA)
6126        																							--	14:(valori 1/NULL) Se 1 significa che la registrazione/numerazione è annullata
6127        																							--	15: Data e ora di annullamento della registrazione (nel formato dato dal parametro di config. FMT_STD_TIMESTAMP)
6128        																							--	16: Identificativo dell'unità documentaria che rappresenta l'atto di autorizzazione all'annullamento della data registrazione/numerazione 
6129        																							--	17: Estremi dell'atto di autorizzazione annullamento (alternativo al precedente e gestito solo se quello non è valorizzato)
6130        																							--	18: Motivazioni dell'annullamento della data registrazione/numerazione
6131        																							--	19: (valori 1/NULL) Se 1 significa che la registrazione/numerazione è stata richiesta dal sistema documentale
6132        																							--	20: Identificativo dell'utente che ha annullato la registrazione
6133        																							--	21: Codice che identifica l'utente che ha annullato la registrazione nell'applicazione esterna da cui ci si connette
6134        																							--	22: Denominazione dell'utente che ha annullato la registrazione
6135        																							--	23: Eventuale sub o appendice del n.ro di registrazione
6136        			FlgRollBckFullIn		IN 		PLS_INTEGER DEFAULT NULL,						-- (valori 1/0/NULL) Se 1 in caso di errore viene fatta la rollback completa (non a savepoint), altrimenti la rollback delle sole modifiche effettuate nella stored
6137        																							-- ATTENZIONE: La rollback, di qualsiasi tipo, non riguarda la scrittura di eventuali log
6138        			FlgAutoCommitIn			IN 		PLS_INTEGER DEFAULT NULL,						-- (valori 1/0/NULL) Se vale 1, dopo la rollback e qualunque sia l'esito (positivo o meno), la funzione esegue una commit finale
6139        			ErrContextOut			OUT		VARCHAR2,										-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
6140        			ErrCodeOut				OUT		PLS_INTEGER,									-- N.ro errore di uscita
6141        			ErrMsgOut				OUT 	VARCHAR2										-- Messaggio d'errore
6142        			) return PLS_INTEGER;															-- Vale 1 se tutto è andato a buon fine, altrimenti 0
6143        
6144        	/******* serve a segnare come visionati/verificati o come archiviati dall'utente e/o dalla UO documenti e/o fascicoli passati in input ******/
6145        	function SetVisionato(
6146        			CodIdConnectionTokenIn		IN		DMT_CONNECTION_TOKEN.CI_CONNECTION_TOKEN%type,
6147        																					-- (obblig). Codice identificativo del token di connessione
6148        			IdUserLavoroIn				IN		DMT_USERS.ID_USER%type DEFAULT NULL,-- Id. dell'utente a nome di cui si lavora. Se non valorizzato è l'utente connesso
6149        			FlgTpObjIn					IN		VARCHAR2,							-- (ogglig) Tipo di oggetti da segnare come visionati: U = Unità documentarie, F = Folder/aggregati
6150        			IdObjListIn					IN		CLOB,								-- Lista XML Standard con una sola colonna con gli ID delle UD o folder da marcare come visionati
6151        			NoteIn						IN		VARCHAR2 DEFAULT NULL,				-- Annotazioni alla presa visione
6152        			EsitiOut					OUT		NOCOPY CLOB,						-- Lista XML con esiti dell'operazione sui singoli oggetti:
6153        																					-- Contiene le colonne
6154        																					-- 1: ID_UD o ID_FOLDER
6155        																					-- 2: Estremi dell'UD/folder da mostare a GUI
6156        																					-- 3: Esito OK o KO
6157        																					-- 4: Codice e Messaggio di errore
6158        			ErrContextOut				OUT		VARCHAR2,							-- Contesto (ovvero package e/o funzione/procedura) in cui si è verificato l'errore
6159        			ErrCodeOut					OUT		PLS_INTEGER,						-- N.ro errore di uscita
6160        			ErrMsgOut					OUT 	VARCHAR2,							-- Messaggio d'errore
6161        			IdUOIn						IN		INTEGER DEFAULT NULL,				-- Id. della UO per cui si prende visione. 
6162        																					-- Se -1 significa tutte quelle dell'utente a cui i doc./fascicoli sono inviati in copia
6163        			FlgAnchePerUtenteIn			IN		PLS_INTEGER DEFAULT NULL,			-- Se 1 e se IdUOIn valorizzato significa che si deve fare l'azione sia per utente che per UO indicata/e																	
6164        			TipoAzioneIn				IN 		VARCHAR2 DEFAULT 'V',				-- Tipo di azione da fare: 
6165        																					-- 		V o NULL = segna come visionato
6166        																					-- 		A = Archiviazione
6167        			CINodoScrivaniaIn			IN		VARCHAR2 DEFAULT NULL				-- Cod. del nodo della scrivania da cui viene richiamata l'azione														
6168        			) return PLS_INTEGER;													-- 1 in caso di successo, 0 in caso di errore
6169        
6170        end DMPK_CORE;
