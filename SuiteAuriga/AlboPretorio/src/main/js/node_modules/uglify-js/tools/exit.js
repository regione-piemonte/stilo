/* * SPDX-License-Identifier: AGPL-3.0-or-later * * C Copyright 2023 Regione Piemonte * */
var exit = process.exit;
process.exit = function() {
    var args = [].slice.call(arguments);
    process.once("uncaughtException", function() {
        (function callback() {
            if (process.stdout.bufferSize || process.stderr.bufferSize) {
                setImmediate(callback);
            } else {
                exit.apply(process, args);
            }
        })();
    });
    throw exit;
};
